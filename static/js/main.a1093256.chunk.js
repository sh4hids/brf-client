(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{198:function(e,t,n){e.exports=n.p+"static/media/bg.e36e78ea.svg"},206:function(e,t,n){e.exports=n(400)},400:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"signup",function(){return E}),n.d(r,"login",function(){return O}),n.d(r,"logout",function(){return k}),n.d(r,"setUserToken",function(){return j});var a={};n.r(a),n.d(a,"makeRequest",function(){return w}),n.d(a,"updateRequest",function(){return A}),n.d(a,"serveRequest",function(){return z}),n.d(a,"getAllRequests",function(){return M}),n.d(a,"getRequestById",function(){return q});var o={};n.r(o),n.d(o,"addUser",function(){return C}),n.d(o,"updateUserInfo",function(){return U}),n.d(o,"getAllUsers",function(){return F}),n.d(o,"getEligibleDonors",function(){return R});var c={};n.r(c),n.d(c,"addMadrasa",function(){return N}),n.d(c,"getAllMadrasas",function(){return L});var i={};n.r(i),n.d(i,"auth",function(){return x}),n.d(i,"donations",function(){return S}),n.d(i,"users",function(){return T}),n.d(i,"madrasas",function(){return G});var l={};n.r(l),n.d(l,"addLocation",function(){return rn}),n.d(l,"getAllLocations",function(){return an});var s=n(0),u=n.n(s),m=n(23),d=n.n(m),p=n(17),h=n(4),f=n(41),b=n(181),g=n(182),v="auth/login",y={isAuthenticated:!1,token:"",redirectTo:"/"},E=function(e){return{type:"auth/signup",meta:{async:!0,blocking:!0,path:"signup",method:"POST",body:{email:e.email,username:e.username,phone:e.phone,password:e.password}}}},O=function(e){var t=e.username,n=e.password;return{type:v,meta:{async:!0,blocking:!0,path:"/api-token-auth/",method:"POST",body:{username:t,password:n}}}},k=function(e){return{type:"auth/logout",meta:{async:!0,blocking:!0,path:"/api-auth/logout/",method:"POST",token:e}}},j=function(e){return{type:"auth/set_user_token",payload:e}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"auth/signup_completed":return Object(h.a)({},e,{isAuthenticated:!0,user:Object(h.a)({},r.user),jwt:r.token,draftSignUp:{},redirectTo:"/dashboard"});case"auth/login_completed":return Object(h.a)({},e,{isAuthenticated:!0,token:r.token,redirectTo:"/"});case"auth/login_failed":return Object(h.a)({},e,{isAuthenticated:!1});case"auth/logout_completed":return Object(h.a)({},e,{isAuthenticated:!1,token:"",redirectTo:"/"});case"auth/set_user_token":return Object(h.a)({},e,{isAuthenticated:!!r,jwt:r});case"auth/reset_password_completed":return Object(h.a)({},e,{redirectTo:"/login"});case"auth/set_user_unauthorized":return Object(h.a)({},e,{isAuthenticated:!1,token:"",redirectTo:"/login"});default:return e}},_={donationRequests:{},requestDetails:{}},w=function(e,t){return{type:"donations/make_request",meta:{async:!0,blocking:!0,path:"/blood_requests/",method:"POST",body:e,token:t}}},A=function(e,t,n){return{type:"donations/update_request",meta:{async:!0,blocking:!0,path:"/blood_requests/".concat(e,"/"),method:"PATCH",body:t,token:n}}},z=function(e,t){return{type:"donations/serve_request",meta:{async:!0,blocking:!0,path:"/history/",method:"POST",body:e,token:t}}},M=function(e){return{type:"donations/get_all_requests",meta:{async:!0,blocking:!0,path:"/blood_requests/",method:"GET",token:e}}},q=function(e,t){return{type:"donations/get_request_by_id",meta:{async:!0,blocking:!0,path:"/blood_requests/".concat(e,"/"),method:"GET",token:t}}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"donations/get_all_requests_completed":return Object(h.a)({},e,{donationRequests:Object(h.a)({},r)});case"donations/get_request_by_id_completed":case"donations/update_request_completed":return Object(h.a)({},e,{requestDetails:r});default:return e}},B={users:{},eligibleDonors:{}},C=function(e,t){return{type:"users/add_user",meta:{async:!0,blocking:!0,path:"/persons/",method:"POST",body:e,token:t}}},U=function(e,t,n){return{type:"users/update_user_info",meta:{async:!0,blocking:!0,path:"/persons/".concat(e,"/"),method:"PATCH",body:t,token:n}}},F=function(e,t){var n=t.blood_group,r=t.madrasa,a=t.place,o=t.gender,c=t.role;return{type:"users/get_all_users",meta:{async:!0,blocking:!0,path:"/persons/?blood_group=".concat(n?encodeURIComponent(n):"","&madrasa=").concat(r||"","&place=").concat(a||"","&gender=").concat(o||"","&role=").concat(c||""),method:"GET",token:e}}},R=function(e,t){var n=t.blood_group,r=t.madrasa,a=t.place,o=t.gender,c=t.role,i=t.mobile;return{type:"users/get_eligible_donors",meta:{async:!0,blocking:!0,path:"/persons/eligible_donors/?blood_group=".concat(n?encodeURIComponent(n):"","&madrasa=").concat(r||"","&place=").concat(a||"","&gender=").concat(o||"","&role=").concat(c||"","&mobile=").concat(i),method:"GET",token:e}}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"users/get_all_users_completed":return Object(h.a)({},e,{users:Object(h.a)({},r)});case"users/get_eligible_donors_completed":return Object(h.a)({},e,{eligibleDonors:Object(h.a)({},r)});default:return e}},D={madrasas:{}},N=function(e,t){return{type:"madrasas/add_madrasa",meta:{async:!0,blocking:!0,path:"/madrasas/",method:"POST",body:e,token:t}}},L=function(e){return{type:"madrasas/get_all_madrasas",meta:{async:!0,blocking:!0,path:"/madrasas/",method:"GET",token:e}}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"madrasas/get_all_madrasas_completed":return Object(h.a)({},e,{madrasas:Object(h.a)({},r)});default:return e}},P=n(10),I=n(11),H=n(13),W=n(12),V=n(14),J=n(1),Y=n.n(J),$=n(42);function K(e){var t=function(t){function n(){return Object(P.a)(this,n),Object(H.a)(this,Object(W.a)(n).apply(this,arguments))}return Object(V.a)(n,t),Object(I.a)(n,[{key:"render",value:function(){var t=this.props.isAuthenticated;return u.a.createElement(s.Fragment,null,t?u.a.createElement(e,this.props):u.a.createElement($.a,{to:"/"}))}}]),n}(s.Component);Y.a.bool;return Object(p.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(t)}var Q=n(6),X=n.n(Q),Z=n(18),ee=n(183),te=n.n(ee);function ne(e,t){return new Promise(function(n,r){e>=200&&e<300?t.then(function(e){return n(e)}):t.then(function(t){return r({status:e,message:t})})})}function re(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(Z.a)(X.a.mark(function e(t){var n;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(204!==t.status){e.next=2;break}return e.abrupt("return","");case 2:return e.prev=2,e.next=5,t.data;case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}))).apply(this,arguments)}function oe(e,t){return t&&"multipart"===t?{Authorization:e?"Token ".concat(e):""}:{Accept:"application/json","Content-Type":"application/json",Authorization:e?"Token ".concat(e):""}}var ce=function(){var e=Object(Z.a)(X.a.mark(function e(t){var n,r,a,o,c,i,l;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.method,a=t.body,o=t.type,c=t.token,i={method:r,headers:oe(c,o),data:"GET"!==r?"multipart"!==o?JSON.stringify(a):a:null},e.next=4,te()(n,i);case 4:return l=e.sent,e.abrupt("return",ne(l.status,re(l)));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ie="http://localhost:8000",le=n(72),se=new le.a,ue="".concat(ie).concat("/api/v1"),me=[v,"auth/signup","auth/fb_login","auth/linkedin_login","auth/google_login"];var de=function(){return function(e){return function(t){var n=e(t);if(!t.meta||!t.meta.async)return n;var r=t.meta,a=r.path,o=r.method,c=void 0===o?"GET":o,i=r.body,l=r.type,s=r.token;if(!a)throw new Error("'path' not specified for async action ".concat(t.type));var u="".concat(ue).concat(a),m=se.getCsrfToken();return console.log(u),t.type===v&&(u="".concat(ie).concat(a)),ce({url:u,method:c,body:i,type:l,token:s,csrf:m}).then(function(n){return function(e,t,n){if(me.includes(t.type)){var r=e.user,a=e.token;r=Object(h.a)({},r),se.setToken(a),se.setUser(r)}else"auth/logout"===t.type&&se.removeToken();return n({type:"".concat(t.type,"_completed"),payload:e,meta:t.meta}),e}(n,t,e)},function(n){return function(e,t,n){return"auth/logout"===t.type&&se.removeToken(),401===e.status?n({type:"auth/set_user_unauthorized",payload:e,meta:t.meta}):n({type:"".concat(t.type,"_failed"),payload:e,meta:t.meta}),Promise.reject(e)}(n,t,e)})}}},pe=Object(f.combineReducers)(i),he=function(e,t){return"auth/logout"===t.type&&(e=Object(h.a)({},e,{auth:{isAuthenticated:!1,token:""}})),pe(e,t)};var fe=n(22),be=n(3),ge=n(5);function ve(){var e=Object(ge.a)(["\n  html {\n    scroll-behavior: smooth;\n  }\n  body {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: ",";\n    font-size: ",";\n    background-color: ",';\n    min-height: 100vh;\n  }\n  p {\n    line-height: 1.45;\n    font-size: 1em;\n    margin: 0;\n    padding: 0;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    margin: 0;\n    line-height: 1.15;\n  }\n  h1 {\n    font-size: 3.052em;\n  }\n  h2 {\n    font-size: 2.441em;\n  }\n  h3 {\n    font-size: 1.953em;\n  }\n  h4 {\n    font-size: 1.563em;\n  }\n  h5 {\n    font-size: 1.25em;\n  }\n  h6 {\n    font-size: 1em;\n  }\n  :not(pre) > code[class*="language-"], pre[class*="language-"] {\n    background-color: #f0f8fb;\n  }\n']);return ve=function(){return e},e}var ye=Object(be.b)(ve(),function(e){return e.theme.typography.fontFamily},function(e){return e.theme.typography.fontSize},function(e){return e.theme.colors.light}),Ee=n(51),Oe=n(2);function ke(){var e=Object(ge.a)(["\n  outline: none;\n  border: none;\n  color: ",";\n  background-color: ",";\n"]);return ke=function(){return e},e}function je(){var e=Object(ge.a)(["\n  outline: none;\n  width: 100%;\n  height: 48px;\n  cursor: pointer;\n  border-radius: 4px;\n  text-transform: uppercase;\n  font-size: ",";\n  border: ",";\n  color: ",";\n  background-color: ",";\n\n  &.btn-small {\n    height: 40px;\n  }\n\n  ",";\n  ",";\n"]);return je=function(){return e},e}var xe=be.d.button(je(),function(e){return e.theme.typography.caption.fontSize},function(e){return e.theme.borders.primary},function(e){return e.theme.colors.primary},function(e){return e.theme.colors.lighter},Oe.i,Oe.k),_e=Object(be.d)(xe)(ke(),function(e){return e.theme.colors.lighter},function(e){return e.theme.colors.primary}),we=function(e){var t=e.children,n=e.variant,r=Object(Ee.a)(e,["children","variant"]);switch(n){case"primary":return u.a.createElement(_e,r,t);default:return u.a.createElement(xe,r,t)}};function Ae(){var e=Object(ge.a)(["\n      border-radius: 4px;\n      background-color: ",";\n    "]);return Ae=function(){return e},e}function ze(){var e=Object(ge.a)(["\n      width: 100vw;\n      margin: 0 auto;\n    "]);return ze=function(){return e},e}function Me(){var e=Object(ge.a)(["\n  ",";\n  ",";\n\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n"]);return Me=function(){return e},e}var qe=be.d.div(Me(),function(e){return"main"===e.variant&&Object(be.c)(ze())},function(e){return"card"===e.variant&&Object(be.c)(Ae(),function(e){return e.theme.colors.lighter})},Oe.e,Oe.i,Oe.h,Oe.k,Oe.j),Se=n(201);function Be(){var e=Object(ge.a)(["\n  ",";\n\n  > div {\n    ",";\n  }\n"]);return Be=function(){return e},e}var Ce=Object(be.d)(Se.a)(Be(),Oe.h,Oe.i);function Ue(){var e=Object(ge.a)(["\n  display: block;\n  height: 1px;\n  border: 0;\n  border-top: ",";\n  margin: 1em 0;\n  padding: 0;\n\n  ",";\n"]);return Ue=function(){return e},e}var Fe=be.d.hr(Ue(),function(e){return e.theme.borders.light},Oe.c);function Re(){var e=Object(ge.a)(["\n  background-image: url(",");\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-color: ",";\n  ",";\n"]);return Re=function(){return e},e}var Te=be.d.div(Re(),function(e){return e.imgSrc},function(e){return e.theme.colors.light},Oe.h);function De(){var e=Object(ge.a)(["\n  text-decoration: none;\n  color: ",";\n  ",";\n\n  &:active,\n  &:focus {\n    color: ",";\n  }\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return De=function(){return e},e}function Ne(){var e=Object(ge.a)(["\n  text-decoration: none;\n  color: ",";\n  ",";\n\n  &:active,\n  &:focus {\n    color: ",";\n  }\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return Ne=function(){return e},e}var Le=Object(be.d)(fe.b)(Ne(),function(e){return e.theme.colors.primary},Oe.e,function(e){return e.theme.colors.primary}),Ge=be.d.a(De(),function(e){return e.theme.colors.primary},Oe.e,function(e){return e.theme.colors.primary}),Pe=function(e){var t=e.children,n=e.variant,r=e.link,a=Object(Ee.a)(e,["children","variant","link"]);switch(n){case"offsite":return u.a.createElement(Ge,Object.assign({href:r},a),t);default:return u.a.createElement(Le,Object.assign({to:r},a),t)}};function Ie(){var e=Object(ge.a)(["\n  padding: 8px 16px;\n  border-radius: 4px;\n  border: ",";\n  border-color: ",";\n  background-color: ",";\n\n  ",";\n  ",";\n  ","\n  ",";\n  ",";\n\n  input,\n  textarea {\n    border: none;\n    outline: none;\n    width: 100%;\n    height: 100%;\n    padding-bottom: 4px;\n    background-color: ",";\n    font-size: ",";\n    font-family: ",";\n    color: ",";\n\n    ",";\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n\n  textarea {\n    resize: none;\n    height: 95%;\n  }\n"]);return Ie=function(){return e},e}var He=be.d.div(Ie(),function(e){return e.theme.borders.primary},function(e){return e.theme.colors.primary},function(e){return e.theme.colors.lighter},Oe.a,Oe.b,Oe.d,Oe.h,Oe.i,function(e){return e.theme.colors.lighter},function(e){return e.theme.typography.caption.fontSize},function(e){return e.theme.typography.fontFamily},function(e){return e.theme.colors.lightDark},Oe.j,function(e){return e.theme.colors.placeholder});function We(){var e=Object(ge.a)(["\n  padding: 16px 24px;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n\n  ",";\n  ",";\n"]);return We=function(){return e},e}var Ve=be.d.div(We(),Oe.e,Oe.i);function Je(){var e=Object(ge.a)(["\n          cursor: pointer;\n          color: ",";\n\n          ",";\n\n          &:hover {\n            text-decoration: underline;\n          }\n        "]);return Je=function(){return e},e}function Ye(){var e=Object(ge.a)(["\n  ",";\n  ",";\n  ",";\n  ","\n"]);return Ye=function(){return e},e}var $e=be.d.span(Ye(),Oe.e,Oe.f,Oe.g,function(e){switch(e.variant){case"url":return Object(be.c)(Je(),function(e){return e.theme.colors.primary},Oe.e);default:return""}});function Ke(){var e=Object(ge.a)(["\n  width: 100%;\n  border-collapse: collapse;\n  font-size: ",";\n\n  thead {\n    border-bottom: ",";\n  }\n\n  tr {\n    border-bottom: ",";\n\n    &:last-child {\n      border: none;\n    }\n  }\n\n  th {\n    font-weight: 400;\n    color: ",";\n  }\n\n  td {\n    font-weight: 400;\n    font-size: ",";\n  }\n\n  th,\n  td {\n    padding: 16px;\n  }\n\n  th.text,\n  td.text {\n    text-align: left;\n  }\n\n  th.text-centered,\n  td.text-centered {\n    text-align: center;\n  }\n\n  th.number,\n  td.number {\n    text-align: right;\n  }\n"]);return Ke=function(){return e},e}var Qe=be.d.table(Ke(),function(e){return e.theme.typography.fontSize},function(e){return e.theme.borders.light},function(e){return e.theme.borders.light},function(e){return e.theme.colors.primary},function(e){return e.theme.typography.caption.fontSize});function Xe(){var e=Object(ge.a)(["\n  padding: 8px;\n  text-align: center;\n  color: ",";\n  border-top: ",";\n  font-size: ",";\n\n  p {\n    margin: 0;\n    padding: 0;\n    display: inline;\n\n    svg {\n      position: relative;\n      top: 2px;\n      cursor: pointer;\n    }\n  }\n\n  p.prev {\n    margin-right: 24px;\n  }\n\n  p.next {\n    margin-left: 24px;\n  }\n\n  p.table-pagination-info {\n    position: relative;\n\n    &.pull-to-top {\n      top: -5px;\n    }\n  }\n"]);return Xe=function(){return e},e}var Ze=be.d.div(Xe(),function(e){return e.theme.colors.primary},function(e){return e.theme.borders.light},function(e){return e.theme.typography.caption.fontSize}),et=function(e,t){var n,r=t.split(".");if(!e||"object"!==typeof e)return!1;for(;n=r.shift();){if(!e.hasOwnProperty(n))return!1;e=e[n]}return!0};function tt(){var e=Object(ge.a)(["\n  p {\n    line-height: 1.45;\n    font-size: 1em;\n  }\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin: 0;\n    line-height: 1.15;\n  }\n  h1 {\n    font-size: 3.052em;\n  }\n  h2 {\n    font-size: 2.441em;\n  }\n  h3 {\n    font-size: 1.953em;\n  }\n  h4 {\n    font-size: 1.563em;\n  }\n  h5 {\n    font-size: 1.25em;\n  }\n  h6 {\n    font-size: 1em;\n  }\n\n  ",";\n"]);return tt=function(){return e},e}function nt(){var e=Object(ge.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return nt=function(){return e},e}function rt(){var e=Object(ge.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return rt=function(){return e},e}function at(){var e=Object(ge.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return at=function(){return e},e}function ot(){var e=Object(ge.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return ot=function(){return e},e}function ct(){var e=Object(ge.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return ct=function(){return e},e}function it(){var e=Object(ge.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return it=function(){return e},e}function lt(){var e=Object(ge.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return lt=function(){return e},e}function st(){var e=Object(ge.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return st=function(){return e},e}var ut="rgba(0, 0, 0, .8)",mt=be.d.h1(st(),function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut},function(e){var t=e.theme;return et(t,"typography.h1")?t.typography.h1.fontSize:"3.052em"},function(e){var t=e.theme;return et(t,"typography.h1")?t.typography.h1.lineHeight:1.15},function(e){var t=e.theme;return et(t,"typography.h1")?t.typography.h1.fontWeight:700},Oe.e,Oe.i,Oe.j),dt=be.d.h2(lt(),function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut},function(e){var t=e.theme;return et(t,"typography.h2")?t.typography.h2.fontSize:"2.441em"},function(e){var t=e.theme;return et(t,"typography.h2")?t.typography.h2.lineHeight:1.15},function(e){var t=e.theme;return et(t,"typography.h2")?t.typography.h2.fontWeight:700},Oe.e,Oe.i,Oe.j),pt=be.d.h3(it(),function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut},function(e){var t=e.theme;return et(t,"typography.h3")?t.typography.h3.fontSize:"1.953em"},function(e){var t=e.theme;return et(t,"typography.h3")?t.typography.h3.lineHeight:1.15},function(e){var t=e.theme;return et(t,"typography.h3")?t.typography.h3.fontWeight:700},Oe.e,Oe.i,Oe.j),ht=be.d.h4(ct(),function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut},function(e){var t=e.theme;return et(t,"typography.h4")?t.typography.h4.fontSize:"1.563em"},function(e){var t=e.theme;return et(t,"typography.h4")?t.typography.h4.lineHeight:1.15},function(e){var t=e.theme;return et(t,"typography.h4")?t.typography.h4.fontWeight:700},Oe.e,Oe.i,Oe.j),ft=be.d.h5(ot(),function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut},function(e){var t=e.theme;return et(t,"typography.h5")?t.typography.h5.fontSize:"1.25em"},function(e){var t=e.theme;return et(t,"typography.h5")?t.typography.h5.lineHeight:1.15},function(e){var t=e.theme;return et(t,"typography.h5")?t.typography.h5.fontWeight:700},Oe.e,Oe.i,Oe.j),bt=be.d.h6(at(),function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut},function(e){var t=e.theme;return et(t,"typography.h6")?t.typography.h6.fontSize:"1em"},function(e){var t=e.theme;return et(t,"typography.h6")?t.typography.h6.lineHeight:1.15},function(e){var t=e.theme;return et(t,"typography.h6")?t.typography.h6.fontWeight:700},Oe.e,Oe.i,Oe.j),gt=be.d.p(rt(),function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut},function(e){var t=e.theme;return et(t,"typography.body")?t.typography.body.fontSize:"1em"},function(e){var t=e.theme;return et(t,"typography.body")?t.typography.body.lineHeight:1.45},function(e){var t=e.theme;return et(t,"typography.body")?t.typography.body.fontWeight:400},Oe.e,Oe.i,Oe.j),vt=be.d.p(nt(),function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut},function(e){var t=e.theme;return et(t,"typography.caption")?t.typography.caption.fontSize:"0.8em"},function(e){var t=e.theme;return et(t,"typography.caption")?t.typography.caption.lineHeight:1.45},function(e){var t=e.theme;return et(t,"typography.caption")?t.typography.caption.fontWeight:400},Oe.e,Oe.i,Oe.j),yt=be.d.div(tt(),Oe.i),Et=function(e){var t=e.variant,n=(e.theme,e.children),r=e.html,a=Object(Ee.a)(e,["variant","theme","children","html"]);switch(t){case"h1":return u.a.createElement(mt,a,n);case"h2":return u.a.createElement(dt,a,n);case"h3":return u.a.createElement(pt,a,n);case"h4":return u.a.createElement(ht,a,n);case"h5":return u.a.createElement(ft,a,n);case"h6":return u.a.createElement(bt,a,n);case"caption":return u.a.createElement(vt,a,n);case"raw":return u.a.createElement(yt,Object.assign({dangerouslySetInnerHTML:{__html:r}},a));default:return u.a.createElement(gt,a,n)}},Ot=function(e){var t=e.children;return u.a.createElement(qe,{variant:"main"},u.a.createElement(ye,null),t)},kt=n(185),jt=n.n(kt),xt=n(186),_t=n.n(xt),wt=n(187),At=n.n(wt),zt=n(188),Mt=n.n(zt),qt=n(189),St=n.n(qt),Bt=n(190),Ct=n.n(Bt);function Ut(){var e=Object(ge.a)(["\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n\n      span {\n        cursor: pointer;\n        display: flex;\n        height: 60px;\n        line-height: 60px;\n        padding: 0 24px;\n        font-size: ",";\n        color: ",";\n        border-top: ",";\n      }\n    "]);return Ut=function(){return e},e}function Ft(){var e=Object(ge.a)(["\n      a {\n        background-color: ",";\n        color: ",";\n      }\n    "]);return Ft=function(){return e},e}function Rt(){var e=Object(ge.a)(["\n  a {\n    text-decoration: none;\n    display: flex;\n    height: 60px;\n    line-height: 60px;\n    padding: 0 24px;\n    font-size: ",";\n    border-bottom: ",";\n    color: ",";\n\n    &:active,\n    &:focus {\n      color: ",";\n    }\n  }\n\n  a,\n  span {\n    .menu-mdi {\n      margin-top: 16px;\n      margin-right: 8px;\n    }\n  }\n\n  ",";\n  ",";\n"]);return Rt=function(){return e},e}function Tt(){var e=Object(ge.a)(["\n  width: 280px;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: ",";\n\n  ul {\n    margin: 0;\n    padding: 0;\n    height: 100%;\n    list-style: none;\n    position: relative;\n  }\n"]);return Tt=function(){return e},e}var Dt=be.d.div(Tt(),function(e){return e.theme.colors.lighter}),Nt=be.d.li(Rt(),function(e){return e.theme.typography.caption.fontSize},function(e){return e.theme.borders.primary},function(e){return e.theme.colors.primary},function(e){return e.theme.colors.primary},function(e){return"primary"===e.variant&&Object(be.c)(Ft(),function(e){return e.theme.colors.primary},function(e){return e.theme.colors.lighter})},function(e){return"bottom-item"===e.variant&&Object(be.c)(Ut(),function(e){return e.theme.typography.caption.fontSize},function(e){return e.theme.colors.primary},function(e){return e.theme.borders.primary})}),Lt={logout:r.logout},Gt=Object(p.b)(null,Lt)(function(e){var t=e.logout;return u.a.createElement(Dt,null,u.a.createElement("ul",null,u.a.createElement(Nt,{variant:"primary"},u.a.createElement(fe.c,{to:"/"},"BRF Blood Bank Database")),u.a.createElement(Nt,null,u.a.createElement(fe.c,{to:"/feeds"},u.a.createElement(At.a,{className:"menu-mdi"})," Home")),u.a.createElement(Nt,null,u.a.createElement(fe.c,{to:"/search"},u.a.createElement(Ct.a,{className:"menu-mdi"})," Search")),u.a.createElement(Nt,null,u.a.createElement(fe.c,{to:"/add-user"},u.a.createElement(jt.a,{className:"menu-mdi"})," Add User")),u.a.createElement(Nt,null,u.a.createElement(fe.c,{to:"/blood-requests"},u.a.createElement(Mt.a,{className:"menu-mdi"})," Blood Requests")),u.a.createElement(Nt,null,u.a.createElement(fe.c,{to:"/madrasas"},u.a.createElement(_t.a,{className:"menu-mdi"})," Madrasas")),u.a.createElement(Nt,{variant:"bottom-item",onClick:t},u.a.createElement("span",null,u.a.createElement(St.a,{className:"menu-mdi"}),"Logout"))))}),Pt=n(191),It=n(192),Ht=n.n(It);function Wt(){var e=Object(ge.a)(["\n  ",";\n\n  .styled__control {\n    border-color: ",";\n\n    &:hover {\n      border-color: ",";\n    }\n\n    ",";\n  }\n\n  .styled__menu {\n    z-index: 10;\n  }\n\n  .styled__control--is-focused {\n    border: 1px solid ",";\n    box-shadow: none;\n\n    &:hover {\n      border: 1px solid ",";\n    }\n  }\n\n  .styled__placeholder {\n    color: ",";\n  }\n\n  .styled__placeholder,\n  .styled__single-value,\n  .styled__menu {\n    font-size: ",";\n  }\n"]);return Wt=function(){return e},e}var Vt=be.d.div(Wt(),Oe.i,function(e){return e.theme.colors.primary},function(e){return e.theme.colors.primary},Oe.h,function(e){return e.theme.colors.primary},function(e){return e.theme.colors.primary},function(e){return e.theme.colors.placeholder},function(e){return e.theme.typography.caption.fontSize}),Jt={indicatorsContainer:function(e,t){return Object(h.a)({},e,{borderColor:"green"})},option:function(e,t){return Object(h.a)({},e)},singleValue:function(e,t){var n=t.isDisabled?.5:1;return Object(h.a)({},e,{opacity:n,transition:"opacity 300ms"})}},Yt=function(e){function t(){var e,n;Object(P.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(a)))).handleChange=function(e){n.props.onChange(n.props.keyName,e)},n.handleBlur=function(){n.props.onBlur(n.props.keyName,!0)},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return u.a.createElement(Vt,Object.assign({},this.props.margin,this.props.padding,this.props.size,{className:this.props.selectClass}),this.props.async?u.a.createElement(s.Fragment,null,u.a.createElement(Ht.a,Object.assign({},this.props,{onChange:this.handleChange,onBlur:this.handleBlur,styles:Jt,classNamePrefix:"styled"})),!!this.props.error&&this.props.touched&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8},this.props.error)):u.a.createElement(s.Fragment,null,u.a.createElement(Pt.a,Object.assign({},this.props,{onChange:this.handleChange,onBlur:this.handleBlur,styles:Jt,classNamePrefix:"styled"})),!!this.props.error&&this.props.touched&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8},this.props.error)))}}]),t}(s.Component),$t=n(202);n(265);function Kt(){var e=Object(ge.a)(["\n  padding: 6px 16px;\n  border-radius: 4px;\n  border: ",";\n  border-color: ",";\n  background-color: ",";\n\n  .react-datepicker-wrapper,\n  .react-datepicker__input-container {\n    width: 100%;\n  }\n\n  input {\n    border: none;\n    outline: none;\n    width: 100%;\n    padding-bottom: 4px;\n    background-color: ",";\n    font-size: ",";\n    color: ",";\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n\n  ",";\n"]);return Kt=function(){return e},e}var Qt=be.d.div(Kt(),function(e){return e.theme.borders.primary},function(e){return e.theme.colors.primary},function(e){return e.theme.colors.lighter},function(e){return e.theme.colors.lighter},function(e){return e.theme.typography.caption.fontSize},function(e){return e.theme.colors.lightDark},function(e){return e.theme.colors.placeholder},Oe.i),Xt=function(e){function t(){var e,n;Object(P.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(a)))).handleChange=function(e){n.props.onChange(n.props.keyName,e)},n.handleBlur=function(){n.props.onBlur(n.props.keyName,!0)},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return u.a.createElement(s.Fragment,null,u.a.createElement(Qt,Object.assign({},this.props.margin,this.props.padding,this.props.size),u.a.createElement($t.a,Object.assign({},this.props,{onChange:this.handleChange,onBlur:this.handleBlur,className:"date-picker-input"}))),!!this.props.error&&this.props.touched&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:16},this.props.error))}}]),t}(s.Component),Zt=function(e){var t=e.children;return u.a.createElement(qe,{pl:280},u.a.createElement(ye,null),u.a.createElement(Gt,null),u.a.createElement(qe,{p:24},t))},en=function(){return u.a.createElement(Ot,null,u.a.createElement(Ce,{valign:"center",halign:"justify-center",height:"100vh"},u.a.createElement(Ce.Unit,{size:{xs:1,sm:1}},u.a.createElement(Et,{variant:"h4",textAlign:"center"},"(404) Not found"),u.a.createElement(Et,{textAlign:"center",mt:16},"Back to ",u.a.createElement(Pe,{link:"/"},"Home")))))},tn=n(15),nn=n(8),rn=function(e,t){return{type:"locations/add_location",meta:{async:!0,blocking:!0,path:"/places/",method:"POST",body:e,token:t}}},an=function(e){return{type:"locations/get_all_locations",meta:{async:!0,blocking:!0,path:"/places/",method:"GET",token:e}}},on=function(e,t){if(e&&e.length){for(var n=[],r=0;r<e.length;r++)n.push({value:e[r].id,label:t?e[r][t]:e[r].name});return n}return[]},cn=function(e){function t(){var e,n;Object(P.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(a)))).state={madrasaOptions:[],locationOptions:[]},n.handleClearForm=function(){(0,n.props.resetForm)({name:"",selectedLocation:"",selectedGender:"",selectedRole:"",selectedMadrasa:"",selectedBloodGroup:"",date_of_birth:"",address:"",mobile:"",last_donated_on:"",last_received_on:"",emergency_contact_name:"",emergency_contact_phone:""})},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Z.a)(X.a.mark(function e(){var t,n,r,a,o,c,i,l;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.getAllLocations,r=t.getAllMadrasas,a=t.token,e.next=3,n(a);case 3:return o=e.sent,e.next=6,r(a);case 6:c=e.sent,i=[],l=[],c.count>0&&(i=on(c.results),this.setState(Object(h.a)({},this.state,{madrasaOptions:i}))),o.count>0&&(l=on(o.results,"upazila"),this.setState(Object(h.a)({},this.state,{locationOptions:l})));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors,r=e.setFieldValue,a=e.setFieldTouched,o=e.values,c=this.state,i=c.madrasaOptions,l=c.locationOptions;return u.a.createElement(qe,{width:600,m:"0 auto"},u.a.createElement(tn.b,null,u.a.createElement(Ce,null,u.a.createElement(Ce.Unit,{size:{xs:1,sm:1}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Name"),u.a.createElement(He,{mb:16,mt:8},u.a.createElement(tn.a,{type:"text",name:"name",placeholder:"Enter fullname"})),t.name&&n.name&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.name))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:2/3}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Location"),u.a.createElement(Yt,{isMulti:!1,value:o.selectedLocation,keyName:"selectedLocation",onChange:r,onBlur:a,error:n.selectedLocation,touched:t.selectedLocation,placeholder:"Select a location",options:l,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Blood Group"),u.a.createElement(Yt,{isMulti:!1,value:o.selectedBloodGroup,keyName:"selectedBloodGroup",onChange:r,onBlur:a,error:n.selectedBloodGroup,touched:t.selectedBloodGroup,placeholder:"Select a group",options:[{value:"A+",label:"A+"},{value:"A-",label:"A-"},{value:"B+",label:"B+"},{value:"B-",label:"B-"},{value:"O+",label:"O+"},{value:"O-",label:"O-"},{value:"AB+",label:"AB+"},{value:"AB-",label:"AB-"}],margin:{mt:8},size:{height:40}}))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:1}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Madrassa"),u.a.createElement(Yt,{isMulti:!1,value:o.selectedMadrasa,keyName:"selectedMadrasa",onChange:r,onBlur:a,error:n.selectedMadrasa,touched:t.selectedMadrasa,placeholder:"Select a madrassa",options:i,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:2/3}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Date of birth"),u.a.createElement(Xt,{keyName:"date_of_birth",onChange:r,onBlur:a,error:n.date_of_birth,touched:t.date_of_birth,placeholderText:"Add birth date",selected:o.date_of_birth,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",dateFormat:"dd/MM/yyyy",className:"date-picker",margin:{mt:8}}))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Gender"),u.a.createElement(Yt,{isMulti:!1,value:o.selectedGender,keyName:"selectedGender",onChange:r,onBlur:a,error:n.selectedGender,touched:t.selectedGender,placeholder:"Select gender",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:2/3}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Address"),u.a.createElement(He,{mb:16,mt:8},u.a.createElement(tn.a,{type:"text",name:"address",placeholder:"Enter full address"})),t.address&&n.address&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.address))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Mobile"),u.a.createElement(He,{mb:16,mt:8},u.a.createElement(tn.a,{type:"text",name:"mobile",placeholder:"Enter mobile number"})),t.mobile&&n.mobile&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.mobile))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:2/3}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Emergency contact"),u.a.createElement(He,{mb:16,mt:8},u.a.createElement(tn.a,{type:"text",name:"emergency_contact_name",placeholder:"Enter contact fullname"})),t.emergency_contact_name&&n.emergency_contact_name&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.emergency_contact_name))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Contact Phone"),u.a.createElement(He,{mb:16,mt:8},u.a.createElement(tn.a,{type:"text",name:"emergency_contact_phone",placeholder:"Enter mobile number"})),t.emergency_contact_phone&&n.emergency_contact_phone&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.emergency_contact_phone))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Last donated"),u.a.createElement(Xt,{keyName:"last_donated_on",onChange:r,onBlur:a,error:n.last_donated_on,touched:t.last_donated_on,placeholderText:"Last doantion date",selected:o.last_donated_on,showMonthDropdown:!0,showYearDropdown:!0,showTimeSelect:!0,dropdownMode:"select",timeFormat:"HH:mm",dateFormat:"MMM d, yyyy h:mm aa",className:"date-picker",margin:{mt:8}}))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Last received date"),u.a.createElement(Xt,{keyName:"last_received_on",onChange:r,onBlur:a,error:n.last_received_on,touched:t.last_received_on,placeholderText:"Last received date",selected:o.last_received_on,showMonthDropdown:!0,showYearDropdown:!0,showTimeSelect:!0,dropdownMode:"select",timeFormat:"HH:mm aa",dateFormat:"MMM d, yyyy h:mm aa",className:"date-picker",margin:{mt:8}}))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Role"),u.a.createElement(Yt,{isMulti:!1,value:o.selectedRole,keyName:"selectedRole",onChange:r,onBlur:a,error:n.selectedRole,touched:t.selectedRole,placeholder:"Select a role",options:[{value:"Donor",label:"Donor"},{value:"Receiver",label:"Receiver"},{value:"Both",label:"Both"}],margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(Ce.Unit,{size:{xs:.5,sm:.5}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(we,{mt:24,type:"button",onClick:this.props.onClear||this.handleClearForm},"Cancel"))),u.a.createElement(Ce.Unit,{size:{xs:.5,sm:.5}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(we,{type:"submit",variant:"primary",mt:24},"Add User"))))))}}]),t}(s.Component),ln=Object(tn.c)({mapPropsToValues:function(){return{name:"",selectedLocation:"",selectedGender:"",selectedRole:"",selectedMadrasa:"",selectedBloodGroup:"",date_of_birth:"",address:"",mobile:"",last_donated_on:"",last_received_on:"",emergency_contact_name:"",emergency_contact_phone:""}},validationSchema:nn.object().shape({name:nn.string().required("Fullname is required"),selectedLocation:nn.object().required("Location is required"),selectedGender:nn.object().required("Gender is required"),selectedRole:nn.object().required("Role is required"),selectedMadrasa:nn.object().nullable(),selectedBloodGroup:nn.object().required("Blood group is required"),date_of_birth:nn.string().required("Date of birth is required"),address:nn.string(),mobile:nn.string().required("Phone number is required"),last_donated_on:nn.date().nullable(),last_received_on:nn.date().nullable(),emergency_contact_name:nn.string().required("Emergency contact is required"),emergency_contact_phone:nn.string()}),handleSubmit:function(){var e=Object(Z.a)(X.a.mark(function e(t,n){var r,a,o,c,i,l,s,u,m;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props,n.setErrors,a=n.setSubmitting,o=n.resetForm,e.prev=1,c=r.addUser,i=r.onAddUser,l=r.token,s=r.history,(u=t).date_of_birth=t.date_of_birth.toISOString(),u.blood_group=t.selectedBloodGroup.value,u.role=t.selectedRole.value,u.gender=t.selectedGender.value,u.madrasa=t.selectedMadrasa.value,u.place=t.selectedLocation.value,t.date_of_birth&&(u.date_of_birth=t.date_of_birth.split("T")[0]),t.last_donated_on?u.last_donated_on=t.last_donated_on:u.last_donated_on=null,t.last_received_on?u.last_received_on=t.last_donated_on:u.last_received_on=null,!i){e.next=17;break}i(u),e.next=23;break;case 17:return e.next=19,c(u,l);case 19:m=e.sent,a(),o(),m.id&&s.push("/feeds");case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(1),console.log(e.t0);case 28:a();case 29:case"end":return e.stop()}},e,null,[[1,25]])}));return function(t,n){return e.apply(this,arguments)}}()})(cn),sn={getAllMadrasas:c.getAllMadrasas,getAllLocations:l.getAllLocations,addUser:o.addUser},un=Object(p.b)(function(e){return{token:e.auth.token}},sn)(Object($.f)(ln)),mn=function(){return u.a.createElement(Zt,null,u.a.createElement(Ve,{bg:"primary"},u.a.createElement(Et,{variant:"h4",color:"lighter",textAlign:"center"},"Add User")),u.a.createElement(qe,{variant:"card",p:24,pb:64},u.a.createElement(un,null)))},dn=n(81),pn=n(53),hn=n.n(pn),fn=document.getElementById("root");hn.a.setAppElement(fn);var bn={overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",height:"560px",transform:"translate(-50%, -50%)"}},gn=function(e){function t(){var e,n;Object(P.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(a)))).state={userOptions:[],isModalOpen:!1},n.handleClearForm=function(){(0,n.props.resetForm)({selectedUser:"",request_date:"",reason:""})},n.handleOpenModal=function(){n.setState(Object(h.a)({},n.state,{isModalOpen:!0}))},n.handleCloseModal=function(){n.setState(Object(h.a)({},n.state,{isModalOpen:!1}))},n.handleAddUser=function(){var e=Object(Z.a)(X.a.mark(function e(t){var r,a,o,c,i,l,s,u;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props,a=r.addUser,o=r.getAllUsers,c=r.setFieldValue,i=r.token,e.next=3,a(t,i);case 3:return l=e.sent,e.next=6,o(i);case 6:s=e.sent,u=[],s.count>0&&(u=on(s.results),n.setState(Object(h.a)({},n.state,{userOptions:u}))),l.id&&(c("selectedUser",{value:l.id,label:l.name}),n.handleCloseModal());case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Z.a)(X.a.mark(function e(){var t,n,r,a,o;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.getAllUsers,r=t.token,e.next=3,n(r,{});case 3:a=e.sent,o=[],a.count>0&&(o=on(a.results),this.setState(Object(h.a)({},this.state,{userOptions:o})));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors,r=e.setFieldValue,a=e.setFieldTouched,o=e.values,c=this.state.userOptions;return u.a.createElement(qe,null,u.a.createElement(tn.b,null,u.a.createElement(Ce,null,u.a.createElement(Ce.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Request for"),u.a.createElement(Yt,{isMulti:!1,value:o.selectedUser,keyName:"selectedUser",onChange:r,onBlur:a,error:n.selectedUser,touched:t.selectedUser,placeholder:"Select a user",options:c,margin:{mt:8},size:{height:40}}))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:1/12}},u.a.createElement(Et,{pt:32,textAlign:"center"},"or")),u.a.createElement(Ce.Unit,{size:{xs:1,sm:.25}},u.a.createElement(qe,{mr:16},u.a.createElement(we,{variant:"primary",type:"button",mt:28,className:"btn-small",onClick:this.handleOpenModal},"Add User"))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Request date"),u.a.createElement(Xt,{keyName:"request_date",onChange:r,onBlur:a,error:n.request_date,touched:t.request_date,placeholderText:"Add request date",selected:o.request_date,showMonthDropdown:!0,showYearDropdown:!0,showTimeSelect:!0,dropdownMode:"select",timeFormat:"HH:mm",dateFormat:"MMM d, yyyy h:mm aa",className:"date-picker",margin:{mt:8}}))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:1}},u.a.createElement(qe,{pl:8,pr:8,mt:16},u.a.createElement(Et,{variant:"caption"},"Reason"),u.a.createElement(He,{mb:16,mt:8,height:100},u.a.createElement(tn.a,{component:"textarea",name:"reason",placeholder:"Enter reason"})),t.reason&&n.reason&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.reason))),u.a.createElement(Ce.Unit,{size:{xs:.5,sm:.5}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(we,{mt:30,className:"btn-small",type:"button",onClick:this.handleClearForm},"Clear"))),u.a.createElement(Ce.Unit,{size:{xs:.5,sm:.5}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(we,{type:"submit",variant:"primary",mt:30,className:"btn-small"},"Make Request"))))),u.a.createElement(hn.a,{isOpen:this.state.isModalOpen,onRequestClose:this.handleCloseModal,style:bn,contentLabel:"Add User Modal"},u.a.createElement(qe,null,u.a.createElement(un,{onClear:this.handleCloseModal,onAddUser:this.handleAddUser}))))}}]),t}(s.Component),vn=Object(tn.c)({mapPropsToValues:function(){return{selectedUser:"",request_date:"",reason:""}},validationSchema:nn.object().shape({selectedUser:nn.object().required(),request_date:nn.string().required(),reason:nn.string().required()}),handleSubmit:function(){var e=Object(Z.a)(X.a.mark(function e(t,n){var r,a,o,c,i,l,s,u;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props,n.setErrors,a=n.setSubmitting,o=n.resetForm,e.prev=1,c=r.makeRequest,i=r.getAllRequests,l=r.token,(s=t).receiver=t.selectedUser.value,e.next=7,c(s,l);case 7:if(u=e.sent,a(),o(),!u.id){e.next=13;break}return e.next=13,i(l);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:a();case 19:case"end":return e.stop()}},e,null,[[1,15]])}));return function(t,n){return e.apply(this,arguments)}}()})(gn),yn={addUser:o.addUser,getAllUsers:o.getAllUsers,makeRequest:a.makeRequest,getAllRequests:a.getAllRequests},En=Object(p.b)(function(e){return{token:e.auth.token}},yn)(Object($.f)(vn)),On=n(401),kn=document.getElementById("root");hn.a.setAppElement(kn);var jn={overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",height:"520px",transform:"translate(-50%, -50%)"}},xn=function(e){var t=e.request,n=e.showDevider,r=Object(s.useState)(!1),a=Object(dn.a)(r,2),o=a[0],c=a[1];return u.a.createElement(s.Fragment,null,u.a.createElement(Et,null,u.a.createElement($e,{fontWeight:"bold"},t.receiver.name)," ","requested fro"," ",u.a.createElement($e,{color:"primary",fontWeight:"bold"},t.receiver.blood_group)," ","blood on"," ",u.a.createElement($e,{fontWeight:"bold"},Object(On.a)(new Date(t.request_date),"MMMM dd, yyyy",{})),"."," ",u.a.createElement($e,{variant:"url",onClick:function(){c(!0)}},"See details")),n?u.a.createElement(Fe,null):"",u.a.createElement(hn.a,{isOpen:o,onRequestClose:function(){c(!1)},style:jn,contentLabel:"Add User Modal"},u.a.createElement(Mn,{handleCloseModal:function(){c(!1)},requestId:t.id})))},_n=n(204),wn=function(e){function t(){var e,n;Object(P.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(a)))).state={requestId:void 0,donorOptions:[]},n.searchEligibleDonors=function(){var e=Object(Z.a)(X.a.mark(function e(t){var r,a,o,c,i,l,s;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props,a=r.requestDetails,o=r.getEligibleDonors,c=r.token,i=Object(_n.a)(o,500),e.next=4,i(c,{blood_group:a.receiver.blood_group,mobile:t});case 4:if(!((l=e.sent).count>0)){e.next=9;break}return s=on(l.results,"mobile"),n.setState(Object(h.a)({},n.state,{donorOptions:s})),e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Z.a)(X.a.mark(function e(){var t,n,r,a,o,c,i,l;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.requestId,r=t.getRequestById,a=t.getEligibleDonors,o=t.token,n===this.state.requestId){e.next=10;break}return this.setState(Object(h.a)({},this.state,{requestId:n})),e.next=5,r(n,o);case 5:return c=e.sent,e.next=8,a(o,{blood_group:c.receiver.blood_group});case 8:(i=e.sent).count>0&&(l=on(i.results,"mobile"),this.setState(Object(h.a)({},this.state,{donorOptions:l})));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.requestDetails,n=e.setFieldValue,r=e.setFieldTouched,a=e.errors,o=e.touched,c=e.values,i=e.handleCloseModal,l=this.state.donorOptions;return u.a.createElement(s.Fragment,null,t.receiver?u.a.createElement(qe,{width:560},u.a.createElement(Et,{variant:"h5",color:"primary"},t.receiver.name),u.a.createElement(Fe,null),u.a.createElement(Et,{mb:8},"Blood Group:"," ",u.a.createElement($e,{color:"primary",fontWeight:700},t.receiver.blood_group)),u.a.createElement(Et,{mb:8},"Request Date:"," ",u.a.createElement($e,{color:"primary",fontWeight:700},Object(On.a)(new Date(t.request_date),"MMMM dd, yyyy",{}))),u.a.createElement(Et,{mb:8},"Address:"," ",u.a.createElement($e,{color:"primary",fontWeight:700},t.receiver.address||"Not mentioned")),u.a.createElement(Fe,null),u.a.createElement(Et,{mb:8},"Reason:"),u.a.createElement(Et,{color:"primary"},t.reason||"Not mentioned"),u.a.createElement(Fe,null),t.is_served?u.a.createElement(u.a.Fragment,null,u.a.createElement(Et,null,"Request has been served."),u.a.createElement(qe,{textAlign:"right",mt:144},u.a.createElement(we,{width:120,mr:16,type:"button",onClick:i},"Close"))):u.a.createElement(tn.b,null,u.a.createElement(Ce,{mb:16},u.a.createElement(Ce.Unit,{size:{xs:1}},u.a.createElement(Et,{mb:8},"Select Donor:"),u.a.createElement(Yt,{async:!0,isMulti:!1,value:c.selectedDonor,keyName:"selectedDonor",onChange:n,onBlur:r,error:a.selectedDonor,touched:o.selectedDonor,placeholder:"Select a donor",defaultOptions:l,loadOptions:this.searchEligibleDonors,margin:{mt:8},size:{height:40}})),u.a.createElement(Ce.Unit,{size:{xs:1}},u.a.createElement(Et,{mb:8},"Donation Date:"),u.a.createElement(Xt,{keyName:"donation_date",onChange:n,onBlur:r,error:a.donation_date,touched:o.donation_date,placeholderText:"Add donation date",selected:c.donation_date,showMonthDropdown:!0,showYearDropdown:!0,showTimeSelect:!0,dropdownMode:"select",timeFormat:"HH:mm",dateFormat:"MMM d, yyyy h:mm aa",className:"date-picker",margin:{mt:8}}))),u.a.createElement(qe,{textAlign:"right",mt:56},u.a.createElement(we,{width:120,mr:16,type:"button",onClick:i},"Cancel")," ",u.a.createElement(we,{variant:"primary",width:120,type:"submit"},"Complete")))):u.a.createElement(Et,{variant:"h5"},"Loading..."))}}]),t}(s.Component),An=Object(tn.c)({mapPropsToValues:function(){return{selectedDonor:"",donation_date:new Date}},validationSchema:nn.object().shape({selectedDonor:nn.object().required("Donor must be selected"),donation_date:nn.string().required("Donation date must be provided")}),handleSubmit:function(){var e=Object(Z.a)(X.a.mark(function e(t,n){var r,a,o,c,i,l,s,u,m,d;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props,n.setErrors,a=n.setSubmitting,n.resetForm,e.prev=1,o=r.handleCloseModal,c=r.requestId,i=r.serveRequest,l=r.updateRequest,s=r.updateUserInfo,u=r.token,m={donation_date:t.donation_date,donor:t.selectedDonor.value,request:c},e.next=6,i(m,u);case 6:if(!(d=e.sent).id){e.next=12;break}return e.next=10,s(m.donor,{last_donated_on:m.donation_date},u);case 10:return e.next=12,l(c,{is_served:!0},u);case 12:a(),d.id&&o(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:a();case 20:case"end":return e.stop()}},e,null,[[1,16]])}));return function(t,n){return e.apply(this,arguments)}}()})(wn),zn={getRequestById:a.getRequestById,updateRequest:a.updateRequest,serveRequest:a.serveRequest,getEligibleDonors:o.getEligibleDonors,updateUserInfo:o.updateUserInfo},Mn=Object(p.b)(function(e){var t=e.auth,n=e.donations,r=e.users;return{token:t.token,requestDetails:n.requestDetails,eligibleDonors:r.eligibleDonors}},zn)(An),qn=function(e){var t=e.donationRequests,n=Object(s.useState)(!1),r=Object(dn.a)(n,2),a=r[0],o=r[1];return u.a.createElement(Zt,null,a&&u.a.createElement(s.Fragment,null,u.a.createElement(we,{onClick:function(){o(!1)},mb:24,variant:"primary"},"Hide form"),u.a.createElement(qe,{variant:"card",p:24,mb:24},u.a.createElement(En,null))),!a&&u.a.createElement(we,{variant:"primary",onClick:function(){o(!0)}},"Create new request"),u.a.createElement(Ve,{bg:"primary",mt:24},u.a.createElement(Et,{variant:"h6",color:"lighter"},"Latest requests")),u.a.createElement(qe,{variant:"card",p:24},t.count>0?t.results.map(function(e,n){return u.a.createElement(xn,{request:e,showDevider:n!==t.results.length-1,key:e.id})}):""))},Sn=function(e){return u.a.createElement(Zt,null,u.a.createElement(Ce,null,u.a.createElement(Ce.Unit,{size:{xs:.5,sm:1/3}},u.a.createElement(qe,{mr:24},u.a.createElement(Ve,{bg:"primary"},u.a.createElement(Et,{variant:"body",color:"lighter",textAlign:"center"},"Total Users")),u.a.createElement(qe,{variant:"card",p:24},u.a.createElement(Et,{textAlign:"center",variant:"44"},e.users.count||0)))),u.a.createElement(Ce.Unit,{size:{xs:.5,sm:1/3}},u.a.createElement(qe,{mr:24},u.a.createElement(Ve,{bg:"primary"},u.a.createElement(Et,{variant:"body",color:"lighter",textAlign:"center"},"Total Madrasas")),u.a.createElement(qe,{variant:"card",p:24},u.a.createElement(Et,{textAlign:"center",variant:"44"},e.madrasas.count||0)))),u.a.createElement(Ce.Unit,{size:{xs:.5,sm:1/3}},u.a.createElement(qe,{mr:24},u.a.createElement(Ve,{bg:"primary"},u.a.createElement(Et,{variant:"body",color:"lighter",textAlign:"center"},"Total Requests")),u.a.createElement(qe,{variant:"card",p:24},u.a.createElement(Et,{textAlign:"center",variant:"44"},e.donationRequests.count||0))))))},Bn=function(){return u.a.createElement(qe,null,u.a.createElement(Et,{variant:"h2",color:"lighter"},"BRF ",u.a.createElement("br",null),"Blood Bank ",u.a.createElement("br",null)," Database"),u.a.createElement(Et,{variant:"body",color:"lighter"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestias libero laudantium velit doloribus numquam, corrupti! Ipsum aperiam doloribus, ad saepe distinctio eius, doloremque id! Numquam minima, molestias dolorum! Unde, natus."))},Cn=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors;return u.a.createElement(tn.b,null,u.a.createElement(qe,{variant:"card",p:24,maxWidth:320},u.a.createElement(He,{border:"none",borderBottom:"1px solid #FF7275",borderRadius:0,mb:16,textAlign:"center"},u.a.createElement(tn.a,{type:"text",name:"username",placeholder:"username or email"})),t.username&&n.username&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.username),u.a.createElement(He,{border:"none",borderBottom:"1px solid #FF7275",borderRadius:0,mb:16,textAlign:"center"},u.a.createElement(tn.a,{type:"password",name:"password",placeholder:"password"})),t.password&&n.password&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.password),u.a.createElement(we,{type:"submit",variant:"primary",mt:16},"Login")))}}]),t}(s.Component),Un=Object(tn.c)({mapPropsToValues:function(){return{username:"",password:""}},validationSchema:nn.object().shape({username:nn.string().required("Username is required"),password:nn.string().required("Password is required")}),handleSubmit:function(){var e=Object(Z.a)(X.a.mark(function e(t,n){var r,a,o,c,i,l;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props,a=n.setErrors,o=n.setSubmitting,n.resetForm,e.prev=1,c=r.login,i=t.username,l=t.password,console.log(t),e.next=7,c({username:i,password:l});case 7:o(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),a({password:"Username or password not correct"});case 13:o();case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t,n){return e.apply(this,arguments)}}()})(Cn),Fn={login:r.login},Rn=Object(p.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},Fn)(Un),Tn=n(198),Dn=n.n(Tn),Nn=function(){return u.a.createElement(Te,{imgSrc:Dn.a,height:"100vh"},u.a.createElement(Ot,null,u.a.createElement(Ce,{valign:"center",halign:"justify-center",height:"100vh",p:[3,0,0]},u.a.createElement(Ce.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(Bn,null)),u.a.createElement(Ce.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(Rn,null)))))},Ln=function(e){function t(){var e,n;Object(P.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(a)))).state={locationOptions:[]},n.handleClearForm=function(){(0,n.props.resetForm)({name:"",selectedLocation:"",address:"",phone:"",contact_person:""})},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Z.a)(X.a.mark(function e(){var t,n,r,a,o;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.getAllLocations,r=t.token,e.next=3,n(r);case 3:a=e.sent,o=[],a.count>0&&(o=on(a.results,"upazila"),this.setState(Object(h.a)({},this.state,{locationOptions:o})));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors,r=e.setFieldValue,a=e.setFieldTouched,o=e.values,c=this.state.locationOptions;return u.a.createElement(qe,{width:600,m:"0 auto"},u.a.createElement(tn.b,null,u.a.createElement(Ce,null,u.a.createElement(Ce.Unit,{size:{xs:1,sm:1}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Madrasa Name"),u.a.createElement(He,{mb:16,mt:8},u.a.createElement(tn.a,{type:"text",name:"name",placeholder:"Enter fullname"})),t.name&&n.name&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.name))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:.5}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Location"),u.a.createElement(Yt,{isMulti:!1,value:o.selectedLocation,keyName:"selectedLocation",onChange:r,onBlur:a,error:n.selectedLocation,touched:t.selectedLocation,placeholder:"Select a location",options:c,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:.5}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Address"),u.a.createElement(He,{mb:16,mt:8},u.a.createElement(tn.a,{type:"text",name:"address",placeholder:"Enter full address"})),t.address&&n.address&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.address))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:.5}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Mobile"),u.a.createElement(He,{mb:16,mt:8},u.a.createElement(tn.a,{type:"text",name:"phone",placeholder:"Enter mobile number"})),t.phone&&n.phoe&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.phone))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:.5}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Contact Person"),u.a.createElement(He,{mb:16,mt:8},u.a.createElement(tn.a,{type:"text",name:"contact_person",placeholder:"Enter contact fullname"})),t.contact_person&&n.contact_person&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.contact_person))),u.a.createElement(Ce.Unit,{size:{xs:.5,sm:.5}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(we,{mt:24,type:"button",onClick:this.props.onClear||this.handleClearForm},"Cancel"))),u.a.createElement(Ce.Unit,{size:{xs:.5,sm:.5}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(we,{type:"submit",variant:"primary",mt:24},"Add Madrasa"))))))}}]),t}(s.Component),Gn=Object(tn.c)({mapPropsToValues:function(){return{name:"",selectedLocation:"",address:"",phone:"",contact_person:""}},validationSchema:nn.object().shape({name:nn.string().required("Madrasa name is required"),selectedLocation:nn.object().required("Location is required"),address:nn.string().required("Adress is required"),phone:nn.string(),contact_person:nn.string().required("Contact person is required")}),handleSubmit:function(){var e=Object(Z.a)(X.a.mark(function e(t,n){var r,a,o,c,i,l,s,u;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props,n.setErrors,a=n.setSubmitting,o=n.resetForm,e.prev=1,c=r.addMadrasa,i=r.token,l=r.history,(s=t).place=t.selectedLocation.value,e.next=7,c(s,i);case 7:u=e.sent,a(),o(),u.id&&l.push("/feeds"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:a();case 17:case"end":return e.stop()}},e,null,[[1,13]])}));return function(t,n){return e.apply(this,arguments)}}()})(Ln),Pn={addMadrasa:c.addMadrasa,getAllMadrasas:c.getAllMadrasas,getAllLocations:l.getAllLocations},In=Object(p.b)(function(e){return{token:e.auth.token}},Pn)(Object($.f)(Gn)),Hn=function(){return u.a.createElement(Zt,null,u.a.createElement(Ve,{bg:"primary"},u.a.createElement(Et,{variant:"h4",color:"lighter",textAlign:"center"},"Add Madrasa")),u.a.createElement(qe,{variant:"card",p:24,pb:64},u.a.createElement(In,null)))},Wn=function(e){function t(){var e,n;Object(P.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(a)))).state={madrasaOptions:[],locationOptions:[]},n.handleClearForm=function(){var e=n.props,t=e.resetForm;(0,e.setSubmitting)(!1),t()},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Z.a)(X.a.mark(function e(){var t,n,r,a,o,c,i,l;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.getAllLocations,r=t.getAllMadrasas,a=t.token,e.next=3,n(a);case 3:return o=e.sent,e.next=6,r(a);case 6:c=e.sent,i=[],l=[],c.count>0&&(i=on(c.results),this.setState(Object(h.a)({},this.state,{madrasaOptions:i}))),o.count>0&&(l=on(o.results,"upazila"),this.setState(Object(h.a)({},this.state,{locationOptions:l})));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors,r=e.setFieldValue,a=e.setFieldTouched,o=e.values,c=this.state,i=c.madrasaOptions,l=c.locationOptions;return u.a.createElement(qe,null,u.a.createElement(tn.b,null,u.a.createElement(Ce,null,u.a.createElement(Ce.Unit,{size:{xs:1,sm:.25}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Blood Group"),u.a.createElement(Yt,{isMulti:!1,value:o.selectedBloodGroup,keyName:"selectedBloodGroup",onChange:r,onBlur:a,error:n.selectedBloodGroup,touched:t.selectedBloodGroup,placeholder:"Select a group",options:[{value:"A+",label:"A+"},{value:"A-",label:"A-"},{value:"B+",label:"B+"},{value:"B-",label:"B-"},{value:"O+",label:"O+"},{value:"O-",label:"O-"},{value:"AB+",label:"AB+"},{value:"AB-",label:"AB-"}],margin:{mt:8},size:{height:40}}))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:.25}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Location"),u.a.createElement(Yt,{isMulti:!1,value:o.selectedLocation,keyName:"selectedLocation",onChange:r,onBlur:a,error:n.selectedLocation,touched:t.selectedLocation,placeholder:"Select a location",options:l,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:.5}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Madrassa"),u.a.createElement(Yt,{isMulti:!1,value:o.selectedMadrasa,keyName:"selectedMadrasa",onChange:r,onBlur:a,error:n.selectedMadrasa,touched:t.selectedMadrasa,placeholder:"Select a madrassa",options:i,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:.25}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Gender"),u.a.createElement(Yt,{isMulti:!1,value:o.selectedGender,keyName:"selectedGender",onChange:r,onBlur:a,error:n.selectedGender,touched:t.selectedGender,placeholder:"Select gender",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(Ce.Unit,{size:{xs:1,sm:.25}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Role"),u.a.createElement(Yt,{isMulti:!1,value:o.selectedRole,keyName:"selectedRole",onChange:r,onBlur:a,error:n.selectedRole,touched:t.selectedRole,placeholder:"Select a role",options:[{value:"Donor",label:"Donor"},{value:"Receiver",label:"Receiver"},{value:"Both",label:"Both"}],margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(Ce.Unit,{size:{xs:.5,sm:.25}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(we,{type:"submit",variant:"primary",mt:30,className:"btn-small"},"Search"))),u.a.createElement(Ce.Unit,{size:{xs:.5,sm:.25}},u.a.createElement(qe,{pl:8,pr:8},u.a.createElement(we,{mt:30,className:"btn-small",onClick:this.handleClearForm},"Clear"))))))}}]),t}(s.Component),Vn=Object(tn.c)({mapPropsToValues:function(){return{selectedLocation:"",selectedGender:"",selectedRole:"",selectedMadrasa:"",selectedBloodGroup:""}},validationSchema:nn.object().shape({selectedLocation:nn.object(),selectedGender:nn.object(),selectedRole:nn.object(),selectedMadrasa:nn.object().nullable(),selectedBloodGroup:nn.object()}),handleSubmit:function(){var e=Object(Z.a)(X.a.mark(function e(t,n){var r,a,o,c,i;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.props,n.setErrors,a=n.setSubmitting,n.resetForm;try{o=r.getAllUsers,c=r.token,i={blood_group:t.selectedBloodGroup.value||"",madrasa:t.selectedMadrasa.value||"",place:t.selectedLocation.value||"",gender:t.selectedGender.value||"",role:t.selectedRole.value||""},o(c,i),a()}catch(l){console.log(l)}a();case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()})(Wn),Jn={getAllMadrasas:c.getAllMadrasas,getAllLocations:l.getAllLocations,getAllUsers:o.getAllUsers},Yn=Object(p.b)(function(e){return{token:e.auth.token}},Jn)(Object($.f)(Vn)),$n=n(199),Kn=n.n($n),Qn=n(200),Xn=n.n(Qn),Zn=function(e){var t=e.users;return u.a.createElement(s.Fragment,null,u.a.createElement(Qe,null,u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text"},"Name"),u.a.createElement("th",{className:"text"},"Madrasa"),u.a.createElement("th",{className:"text-centered"},"Phone"),u.a.createElement("th",{className:"text-centered"},"Blood Group"),u.a.createElement("th",{className:"number"},"Last Donated"))),u.a.createElement("tbody",null,t.results.map(function(e){return e.id?u.a.createElement("tr",{key:e.id},u.a.createElement("td",{className:"text"},e.name),u.a.createElement("td",{className:"text"},e.madrasa?e.madrasa.name:"-"),u.a.createElement("td",{className:"text-centered"},e.mobile||"-"),u.a.createElement("td",{className:"text-centered"},e.blood_group),u.a.createElement("td",{className:"number"},e.last_donated_on?Object(On.a)(new Date(e.last_donated_on),"PPpp",{}):"N/A")):""}))),u.a.createElement(Ze,null,t.previous?u.a.createElement("p",{className:"prev"},u.a.createElement(Kn.a,null)):"",u.a.createElement("p",{className:"table-pagination-info ".concat(t.next||t.previous?"pull-to-top":"")},"1 to ",t.next?"":t.count," of ",t.count),t.next?u.a.createElement("p",{className:"next"},u.a.createElement(Xn.a,null)):""))},er=function(e){var t=e.users,n=e.userMessage;return u.a.createElement(Zt,null,u.a.createElement(qe,{variant:"card",p:24,mb:24},u.a.createElement(Yn,null)),u.a.createElement(qe,{variant:"card"},t.count?u.a.createElement(Zn,{users:t}):u.a.createElement(Et,{p:16,textAlign:"center"},n)))},tr=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return u.a.createElement(mn,null)}}]),t}(s.Component),nr=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.token;(0,e.getAllRequests)(t)}},{key:"render",value:function(){return u.a.createElement(qn,this.props)}}]),t}(s.Component),rr={getAllRequests:a.getAllRequests},ar=Object(p.b)(function(e){var t=e.auth,n=e.donations;return{token:t.token,donationRequests:n.donationRequests}},rr)(nr),or=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Z.a)(X.a.mark(function e(){var t,n,r,a,o;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.getAllUsers,r=t.getAllRequests,a=t.getAllMadrasas,o=t.token,e.next=3,n(o,{});case 3:return e.next=5,r(o);case 5:return e.next=7,a(o);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return u.a.createElement(Sn,this.props)}}]),t}(s.Component),cr={getAllUsers:o.getAllUsers,getAllRequests:a.getAllRequests,getAllMadrasas:c.getAllMadrasas},ir=Object(p.b)(function(e){var t=e.auth,n=e.users,r=e.donations,a=e.madrasas;return{token:t.token,users:n.users,madrasas:a.madrasas,donationRequests:r.donationRequests}},cr)(or),lr=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return this.props.isAuthenticated?u.a.createElement($.a,{to:"/feeds"}):u.a.createElement(Nn,null)}}]),t}(s.Component),sr=Object(p.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(lr),ur=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return u.a.createElement(Hn,null)}}]),t}(s.Component),mr=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Z.a)(X.a.mark(function e(){var t,n,r;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.getAllUsers,r=t.token,e.next=3,n(r,{});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.users;return u.a.createElement(er,{users:e,userMessage:0===e.count?"No user found":"Loading..."})}}]),t}(s.Component),dr={getAllUsers:o.getAllUsers},pr=Object(p.b)(function(e){var t=e.auth,n=e.users;return Object(h.a)({token:t.token},n)},dr)(mr),hr=function(){return u.a.createElement($.d,null,u.a.createElement($.b,{exact:!0,path:"/",component:sr}),u.a.createElement($.b,{exact:!0,path:"/feeds",component:K(ir)}),u.a.createElement($.b,{exact:!0,path:"/add-user",component:K(tr)}),u.a.createElement($.b,{exact:!0,path:"/madrasas",component:K(ur)}),u.a.createElement($.b,{exact:!0,path:"/search",component:K(pr)}),u.a.createElement($.b,{exact:!0,path:"/blood-requests",component:K(ar)}),u.a.createElement($.b,{component:en}))},fr={borders:{primary:"1px solid #FF7275",light:"1px solid #E9EBEC"},typography:{fontFamily:'"IBM Plex Sans", sans-serif',fontSize:"18px",lineHeight:1.45,fontWeight:"400",h1:{fontSize:"3.052em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h2:{fontSize:"2.441em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h3:{fontSize:"1.953em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h4:{fontSize:"1.563em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h5:{fontSize:"1.25em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h6:{fontSize:"1em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},body:{fontSize:"1em",lineHeight:1.45,fontWeight:400,fontFamily:'"IBM Plex Sans", sans-serif'},caption:{fontSize:".8em",lineHeight:1.45,fontWeight:400,fontFamily:'"IBM Plex Sans", sans-serif'}},colors:{primary:"#FF7275",secondary:"#DB5461",dark:"#303334",lightDark:"#4E5355",light:"#EFF1F3",lighter:"#FEFFFE",error:"#FF3C38",success:"#FFCA1E",warning:"#78BE20",placeholder:"#A9AEB1"},space:[0,4,8,16,32,64,128,256],breakpoints:{xs:0,sm:576,md:768,lg:992,xl:1200}},br=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return u.a.createElement(be.a,{theme:fr},u.a.createElement(fe.a,null,u.a.createElement(hr,null)))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var gr=new le.a,vr={};gr.loggedIn()&&(vr.auth={isAuthenticated:!0,token:gr.getToken()});var yr=function(e){var t=[de,g.a],n=[f.applyMiddleware.apply(void 0,t)],r=b.composeWithDevTools.apply(void 0,n);return Object(f.createStore)(he,e,r)}(vr);d.a.render(u.a.createElement(p.a,{store:yr},u.a.createElement(br,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},72:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return l});var r=n(10),a=n(34),o=n.n(a),c=n(82),i=n.n(c),l=function t(){var n=this;Object(r.a)(this,t),this.loggedIn=function(e){return!!n.getToken(e)},this.setUser=function(e){o.a.set("user",JSON.stringify(e),{expires:7})},this.getUser=function(t){return e.browser?n.getUserFromBrowser():n.getUserFromServer(t)},this.getUserFromBrowser=function(){return o.a.get("user")},this.getUserFromServer=function(e){if(e&&e.headers){var t=e.headers.cookie;if("string"===typeof t){var n=i.a.parse(t);return n.user?JSON.parse(n.user):{}}}else;},this.setToken=function(t){e.browser&&o.a.set("Token",t,{expires:7})},this.getToken=function(t){return e.browser?n.getTokenFromBrowser():n.getTokenFromServer(t)},this.getTokenFromBrowser=function(){return o.a.get("Token")},this.getTokenFromServer=function(e){if(e&&e.headers){var t=e.headers.cookie;return"string"===typeof t?i.a.parse(t).Token:void 0}},this.getCsrfToken=function(t){return e.browser?n.getCsrfFromBrowser():n.getCsrfFromServer(t)},this.getCsrfFromBrowser=function(){return o.a.get("csrftoken")},this.getCsrfFromServer=function(e){if(e&&e.headers){var t=e.headers.cookie;return"string"===typeof t?i.a.parse(t).csrftoken:void 0}},this.removeToken=function(){o.a.remove("Token"),o.a.remove("user"),o.a.remove("csrftoken")}}}).call(this,n(60))}},[[206,1,2]]]);
//# sourceMappingURL=main.a1093256.chunk.js.map