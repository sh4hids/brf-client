(this["webpackJsonpbrf-blood-bank-database"]=this["webpackJsonpbrf-blood-bank-database"]||[]).push([[0],{230:function(e,t,n){e.exports=n.p+"static/media/bg.e36e78ea.svg"},236:function(e,t,n){e.exports=n(456)},456:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"signup",(function(){return E})),n.d(a,"login",(function(){return k})),n.d(a,"logout",(function(){return O})),n.d(a,"setUserToken",(function(){return j}));var r={};n.r(r),n.d(r,"makeRequest",(function(){return w})),n.d(r,"updateRequest",(function(){return A})),n.d(r,"serveRequest",(function(){return M})),n.d(r,"getAllRequests",(function(){return q})),n.d(r,"getRequestById",(function(){return S}));var o={};n.r(o),n.d(o,"addUser",(function(){return F})),n.d(o,"updateUserInfo",(function(){return z})),n.d(o,"getAllUsers",(function(){return R})),n.d(o,"getEligibleDonors",(function(){return T}));var c={};n.r(c),n.d(c,"addMadrasa",(function(){return U})),n.d(c,"getAllMadrasas",(function(){return L}));var l={};n.r(l),n.d(l,"auth",(function(){return _})),n.d(l,"donations",(function(){return B})),n.d(l,"users",(function(){return D})),n.d(l,"madrasas",(function(){return G}));var i={};n.r(i),n.d(i,"addLocation",(function(){return an})),n.d(i,"getAllLocations",(function(){return rn}));var s=n(0),u=n.n(s),d=n(37),m=n.n(d),p=n(20),h=n(8),f=n(68),b=n(212),g=n(213),v="auth/login",y={isAuthenticated:!1,token:"",redirectTo:"/"},E=function(e){return{type:"auth/signup",meta:{async:!0,blocking:!0,path:"signup",method:"POST",body:{email:e.email,username:e.username,phone:e.phone,password:e.password}}}},k=function(e){var t=e.username,n=e.password;return{type:v,meta:{async:!0,blocking:!0,path:"/api-token-auth/",method:"POST",body:{username:t,password:n}}}},O=function(e){return{type:"auth/logout",meta:{async:!0,blocking:!0,path:"/api-auth/logout/",method:"POST",token:e}}},j=function(e){return{type:"auth/set_user_token",payload:e}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"auth/signup_completed":return Object(h.a)({},e,{isAuthenticated:!0,user:Object(h.a)({},a.user),jwt:a.token,draftSignUp:{},redirectTo:"/dashboard"});case"auth/login_completed":return Object(h.a)({},e,{isAuthenticated:!0,token:a.token,redirectTo:"/"});case"auth/login_failed":return Object(h.a)({},e,{isAuthenticated:!1});case"auth/logout_completed":return Object(h.a)({},e,{isAuthenticated:!1,token:"",redirectTo:"/"});case"auth/set_user_token":return Object(h.a)({},e,{isAuthenticated:!!a,jwt:a});case"auth/reset_password_completed":return Object(h.a)({},e,{redirectTo:"/login"});case"auth/set_user_unauthorized":return Object(h.a)({},e,{isAuthenticated:!1,token:"",redirectTo:"/login"});default:return e}},x={donationRequests:{},requestDetails:{}},w=function(e,t){return{type:"donations/make_request",meta:{async:!0,blocking:!0,path:"/blood_requests/",method:"POST",body:e,token:t}}},A=function(e,t,n){return{type:"donations/update_request",meta:{async:!0,blocking:!0,path:"/blood_requests/".concat(e,"/"),method:"PATCH",body:t,token:n}}},M=function(e,t){return{type:"donations/serve_request",meta:{async:!0,blocking:!0,path:"/history/",method:"POST",body:e,token:t}}},q=function(e){return{type:"donations/get_all_requests",meta:{async:!0,blocking:!0,path:"/blood_requests/",method:"GET",token:e}}},S=function(e,t){return{type:"donations/get_request_by_id",meta:{async:!0,blocking:!0,path:"/blood_requests/".concat(e,"/"),method:"GET",token:t}}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"donations/get_all_requests_completed":return Object(h.a)({},e,{donationRequests:Object(h.a)({},a)});case"donations/get_request_by_id_completed":case"donations/update_request_completed":return Object(h.a)({},e,{requestDetails:a});default:return e}},C={users:{},eligibleDonors:{}},F=function(e,t){return{type:"users/add_user",meta:{async:!0,blocking:!0,path:"/persons/",method:"POST",body:e,token:t}}},z=function(e,t,n){return{type:"users/update_user_info",meta:{async:!0,blocking:!0,path:"/persons/".concat(e,"/"),method:"PATCH",body:t,token:n}}},R=function(e,t){var n=t.blood_group,a=t.madrasa,r=t.place,o=t.gender,c=t.role;return{type:"users/get_all_users",meta:{async:!0,blocking:!0,path:"/persons/?blood_group=".concat(n?encodeURIComponent(n):"","&madrasa=").concat(a||"","&place=").concat(r||"","&gender=").concat(o||"","&role=").concat(c||""),method:"GET",token:e}}},T=function(e,t){var n=t.blood_group,a=t.madrasa,r=t.place,o=t.gender,c=t.role,l=t.mobile;return{type:"users/get_eligible_donors",meta:{async:!0,blocking:!0,path:"/persons/eligible_donors/?blood_group=".concat(n?encodeURIComponent(n):"","&madrasa=").concat(a||"","&place=").concat(r||"","&gender=").concat(o||"","&role=").concat(c||"","&mobile=").concat(l),method:"GET",token:e}}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"users/get_all_users_completed":return Object(h.a)({},e,{users:Object(h.a)({},a)});case"users/get_eligible_donors_completed":return Object(h.a)({},e,{eligibleDonors:Object(h.a)({},a)});default:return e}},N={madrasas:{}},U=function(e,t){return{type:"madrasas/add_madrasa",meta:{async:!0,blocking:!0,path:"/madrasas/",method:"POST",body:e,token:t}}},L=function(e){return{type:"madrasas/get_all_madrasas",meta:{async:!0,blocking:!0,path:"/madrasas/",method:"GET",token:e}}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"madrasas/get_all_madrasas_completed":return Object(h.a)({},e,{madrasas:Object(h.a)({},a)});default:return e}},P=n(13),I=n(14),H=n(16),W=n(15),V=n(17),J=n(21),Y=n.n(J),$=n(61);function K(e){var t=function(t){function n(){return Object(P.a)(this,n),Object(H.a)(this,Object(W.a)(n).apply(this,arguments))}return Object(V.a)(n,t),Object(I.a)(n,[{key:"render",value:function(){var t=this.props.isAuthenticated;return u.a.createElement(s.Fragment,null,t?u.a.createElement(e,this.props):u.a.createElement($.a,{to:"/"}))}}]),n}(s.Component);Y.a.bool;return Object(p.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))(t)}var Q=n(10),X=n.n(Q),Z=n(214),ee=n.n(Z);function te(e,t){return new Promise((function(n,a){e>=200&&e<300?t.then((function(e){return n(e)})):t.then((function(t){return a({status:e,message:t})}))}))}function ne(e){var t;return X.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(204!==e.status){n.next=2;break}return n.abrupt("return","");case 2:return n.prev=2,n.next=5,X.a.awrap(e.data);case 5:return t=n.sent,n.abrupt("return",t);case 9:return n.prev=9,n.t0=n.catch(2),n.abrupt("return",n.t0);case 12:case"end":return n.stop()}}),null,null,[[2,9]])}function ae(e,t){return t&&"multipart"===t?{Authorization:e?"Token ".concat(e):""}:{Accept:"application/json","Content-Type":"application/json",Authorization:e?"Token ".concat(e):""}}var re=function(e){var t,n,a,r,o,c,l;return X.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.url,n=e.method,a=e.body,r=e.type,o=e.token,c={method:n,headers:ae(o,r),data:"GET"!==n?"multipart"!==r?JSON.stringify(a):a:null},i.next=4,X.a.awrap(ee()(t,c));case 4:return l=i.sent,i.abrupt("return",te(l.status,ne(l)));case 6:case"end":return i.stop()}}))},oe="https://radiant-atoll-02965.herokuapp.com",ce=n(98),le=new ce.a,ie="".concat(oe).concat("/api/v1"),se=[v,"auth/signup","auth/fb_login","auth/linkedin_login","auth/google_login"];var ue=function(){return function(e){return function(t){var n=e(t);if(!t.meta||!t.meta.async)return n;var a=t.meta,r=a.path,o=a.method,c=void 0===o?"GET":o,l=a.body,i=a.type,s=a.token;if(!r)throw new Error("'path' not specified for async action ".concat(t.type));var u="".concat(ie).concat(r),d=le.getCsrfToken();return t.type===v&&(u="".concat(oe).concat(r)),re({url:u,method:c,body:l,type:i,token:s,csrf:d}).then((function(n){return function(e,t,n){if(se.includes(t.type)){var a=e.user,r=e.token;a=Object(h.a)({},a),le.setToken(r),le.setUser(a)}else"auth/logout"===t.type&&le.removeToken();return n({type:"".concat(t.type,"_completed"),payload:e,meta:t.meta}),e}(n,t,e)}),(function(n){return function(e,t,n){"auth/logout"===t.type&&le.removeToken();401===e.status?n({type:"auth/set_user_unauthorized",payload:e,meta:t.meta}):n({type:"".concat(t.type,"_failed"),payload:e,meta:t.meta});return Promise.reject(e)}(n,t,e)}))}}},de=Object(f.combineReducers)(l),me=function(e,t){return"auth/logout"===t.type&&(e=Object(h.a)({},e,{auth:{isAuthenticated:!1,token:""}})),de(e,t)};var pe=n(32),he=n(7),fe=n(11);function be(){var e=Object(fe.a)(["\n  html {\n    scroll-behavior: smooth;\n  }\n  body {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: ",";\n    font-size: ",";\n    background-color: ",';\n    min-height: 100vh;\n  }\n  p {\n    line-height: 1.45;\n    font-size: 1em;\n    margin: 0;\n    padding: 0;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    margin: 0;\n    line-height: 1.15;\n  }\n  h1 {\n    font-size: 3.052em;\n  }\n  h2 {\n    font-size: 2.441em;\n  }\n  h3 {\n    font-size: 1.953em;\n  }\n  h4 {\n    font-size: 1.563em;\n  }\n  h5 {\n    font-size: 1.25em;\n  }\n  h6 {\n    font-size: 1em;\n  }\n  :not(pre) > code[class*="language-"], pre[class*="language-"] {\n    background-color: #f0f8fb;\n  }\n']);return be=function(){return e},e}var ge=Object(he.b)(be(),(function(e){return e.theme.typography.fontFamily}),(function(e){return e.theme.typography.fontSize}),(function(e){return e.theme.colors.light})),ve=n(79),ye=n(6);function Ee(){var e=Object(fe.a)(["\n  outline: none;\n  border: none;\n  color: ",";\n  background-color: ",";\n"]);return Ee=function(){return e},e}function ke(){var e=Object(fe.a)(["\n  outline: none;\n  width: 100%;\n  height: 48px;\n  cursor: pointer;\n  border-radius: 4px;\n  text-transform: uppercase;\n  font-size: ",";\n  border: ",";\n  color: ",";\n  background-color: ",";\n\n  &.btn-small {\n    height: 40px;\n  }\n\n  ",";\n  ",";\n"]);return ke=function(){return e},e}var Oe=he.d.button(ke(),(function(e){return e.theme.typography.caption.fontSize}),(function(e){return e.theme.borders.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter}),ye.k,ye.n),je=Object(he.d)(Oe)(Ee(),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.primary})),_e=function(e){var t=e.children,n=e.variant,a=Object(ve.a)(e,["children","variant"]);switch(n){case"primary":return u.a.createElement(je,a,t);default:return u.a.createElement(Oe,a,t)}};function xe(){var e=Object(fe.a)(["\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n"]);return xe=function(){return e},e}var we=he.d.div(xe(),ye.k,ye.i,ye.j,ye.e,ye.m);function Ae(){var e=Object(fe.a)(["\n      border-radius: 4px;\n      background-color: ",";\n    "]);return Ae=function(){return e},e}function Me(){var e=Object(fe.a)(["\n      width: 100vw;\n      margin: 0 auto;\n    "]);return Me=function(){return e},e}function qe(){var e=Object(fe.a)(["\n  ",";\n  ",";\n\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n"]);return qe=function(){return e},e}var Se=he.d.div(qe(),(function(e){return"main"===e.variant&&Object(he.c)(Me())}),(function(e){return"card"===e.variant&&Object(he.c)(Ae(),(function(e){return e.theme.colors.lighter}))}),ye.e,ye.k,ye.h,ye.n,ye.l),Be=n(233);function Ce(){var e=Object(fe.a)(["\n  ",";\n\n  > div {\n    ",";\n  }\n"]);return Ce=function(){return e},e}var Fe=Object(he.d)(Be.a)(Ce(),ye.h,ye.k);function ze(){var e=Object(fe.a)(["\n  display: block;\n  height: 1px;\n  border: 0;\n  border-top: ",";\n  margin: 1em 0;\n  padding: 0;\n\n  ",";\n"]);return ze=function(){return e},e}var Re=he.d.hr(ze(),(function(e){return e.theme.borders.light}),ye.c);function Te(){var e=Object(fe.a)(["\n  background-image: url(",");\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-color: ",";\n  ",";\n"]);return Te=function(){return e},e}var De=he.d.div(Te(),(function(e){return e.imgSrc}),(function(e){return e.theme.colors.light}),ye.h);function Ne(){var e=Object(fe.a)(["\n  text-decoration: none;\n  color: ",";\n  ",";\n\n  &:active,\n  &:focus {\n    color: ",";\n  }\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return Ne=function(){return e},e}function Ue(){var e=Object(fe.a)(["\n  text-decoration: none;\n  color: ",";\n  ",";\n\n  &:active,\n  &:focus {\n    color: ",";\n  }\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return Ue=function(){return e},e}var Le=Object(he.d)(pe.b)(Ue(),(function(e){return e.theme.colors.primary}),ye.e,(function(e){return e.theme.colors.primary})),Ge=he.d.a(Ne(),(function(e){return e.theme.colors.primary}),ye.e,(function(e){return e.theme.colors.primary})),Pe=function(e){var t=e.children,n=e.variant,a=e.link,r=Object(ve.a)(e,["children","variant","link"]);switch(n){case"offsite":return u.a.createElement(Ge,Object.assign({href:a},r),t);default:return u.a.createElement(Le,Object.assign({to:a},r),t)}};function Ie(){var e=Object(fe.a)(["\n  padding: 8px 16px;\n  border-radius: 4px;\n  border: ",";\n  border-color: ",";\n  background-color: ",";\n\n  ",";\n  ",";\n  ","\n  ",";\n  ",";\n\n  input,\n  textarea {\n    border: none;\n    outline: none;\n    width: 100%;\n    height: 100%;\n    padding-bottom: 4px;\n    background-color: ",";\n    font-size: ",";\n    font-family: ",";\n    color: ",";\n\n    ",";\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n\n  textarea {\n    resize: none;\n    height: 95%;\n  }\n"]);return Ie=function(){return e},e}var He=he.d.div(Ie(),(function(e){return e.theme.borders.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter}),ye.a,ye.b,ye.d,ye.h,ye.k,(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.typography.caption.fontSize}),(function(e){return e.theme.typography.fontFamily}),(function(e){return e.theme.colors.lightDark}),ye.l,(function(e){return e.theme.colors.placeholder}));function We(){var e=Object(fe.a)(["\n  padding: 16px 24px;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n\n  ",";\n  ",";\n"]);return We=function(){return e},e}var Ve=he.d.div(We(),ye.e,ye.k);function Je(){var e=Object(fe.a)(["\n          cursor: pointer;\n          color: ",";\n\n          ",";\n\n          &:hover {\n            text-decoration: underline;\n          }\n        "]);return Je=function(){return e},e}function Ye(){var e=Object(fe.a)(["\n  ",";\n  ",";\n  ",";\n  ","\n"]);return Ye=function(){return e},e}var $e=he.d.span(Ye(),ye.e,ye.f,ye.g,(function(e){switch(e.variant){case"url":return Object(he.c)(Je(),(function(e){return e.theme.colors.primary}),ye.e);default:return""}}));function Ke(){var e=Object(fe.a)(["\n  width: 100%;\n  border-collapse: collapse;\n  font-size: ",";\n\n  thead {\n    border-bottom: ",";\n  }\n\n  tr {\n    border-bottom: ",";\n\n    &:last-child {\n      border: none;\n    }\n  }\n\n  th {\n    font-weight: 400;\n    color: ",";\n  }\n\n  td {\n    font-weight: 400;\n    font-size: ",";\n  }\n\n  th,\n  td {\n    padding: 16px;\n  }\n\n  th.text,\n  td.text {\n    text-align: left;\n  }\n\n  th.text-centered,\n  td.text-centered {\n    text-align: center;\n  }\n\n  th.number,\n  td.number {\n    text-align: right;\n  }\n"]);return Ke=function(){return e},e}var Qe=he.d.table(Ke(),(function(e){return e.theme.typography.fontSize}),(function(e){return e.theme.borders.light}),(function(e){return e.theme.borders.light}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.typography.caption.fontSize}));function Xe(){var e=Object(fe.a)(["\n  padding: 8px;\n  text-align: center;\n  color: ",";\n  border-top: ",";\n  font-size: ",";\n\n  p {\n    margin: 0;\n    padding: 0;\n    display: inline;\n\n    svg {\n      position: relative;\n      top: 2px;\n      cursor: pointer;\n    }\n  }\n\n  p.prev {\n    margin-right: 24px;\n  }\n\n  p.next {\n    margin-left: 24px;\n  }\n\n  p.table-pagination-info {\n    position: relative;\n\n    &.pull-to-top {\n      top: -5px;\n    }\n  }\n"]);return Xe=function(){return e},e}var Ze=he.d.div(Xe(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.borders.light}),(function(e){return e.theme.typography.caption.fontSize})),et=function(e,t){var n,a=t.split(".");if(!e||"object"!==typeof e)return!1;for(;n=a.shift();){if(!e.hasOwnProperty(n))return!1;e=e[n]}return!0};function tt(){var e=Object(fe.a)(["\n  p {\n    line-height: 1.45;\n    font-size: 1em;\n  }\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin: 0;\n    line-height: 1.15;\n  }\n  h1 {\n    font-size: 3.052em;\n  }\n  h2 {\n    font-size: 2.441em;\n  }\n  h3 {\n    font-size: 1.953em;\n  }\n  h4 {\n    font-size: 1.563em;\n  }\n  h5 {\n    font-size: 1.25em;\n  }\n  h6 {\n    font-size: 1em;\n  }\n\n  ",";\n"]);return tt=function(){return e},e}function nt(){var e=Object(fe.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return nt=function(){return e},e}function at(){var e=Object(fe.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return at=function(){return e},e}function rt(){var e=Object(fe.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return rt=function(){return e},e}function ot(){var e=Object(fe.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return ot=function(){return e},e}function ct(){var e=Object(fe.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return ct=function(){return e},e}function lt(){var e=Object(fe.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return lt=function(){return e},e}function it(){var e=Object(fe.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return it=function(){return e},e}function st(){var e=Object(fe.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return st=function(){return e},e}var ut="rgba(0, 0, 0, .8)",dt=he.d.h1(st(),(function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut}),(function(e){var t=e.theme;return et(t,"typography.h1")?t.typography.h1.fontSize:"3.052em"}),(function(e){var t=e.theme;return et(t,"typography.h1")?t.typography.h1.lineHeight:1.15}),(function(e){var t=e.theme;return et(t,"typography.h1")?t.typography.h1.fontWeight:700}),ye.e,ye.k,ye.l),mt=he.d.h2(it(),(function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut}),(function(e){var t=e.theme;return et(t,"typography.h2")?t.typography.h2.fontSize:"2.441em"}),(function(e){var t=e.theme;return et(t,"typography.h2")?t.typography.h2.lineHeight:1.15}),(function(e){var t=e.theme;return et(t,"typography.h2")?t.typography.h2.fontWeight:700}),ye.e,ye.k,ye.l),pt=he.d.h3(lt(),(function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut}),(function(e){var t=e.theme;return et(t,"typography.h3")?t.typography.h3.fontSize:"1.953em"}),(function(e){var t=e.theme;return et(t,"typography.h3")?t.typography.h3.lineHeight:1.15}),(function(e){var t=e.theme;return et(t,"typography.h3")?t.typography.h3.fontWeight:700}),ye.e,ye.k,ye.l),ht=he.d.h4(ct(),(function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut}),(function(e){var t=e.theme;return et(t,"typography.h4")?t.typography.h4.fontSize:"1.563em"}),(function(e){var t=e.theme;return et(t,"typography.h4")?t.typography.h4.lineHeight:1.15}),(function(e){var t=e.theme;return et(t,"typography.h4")?t.typography.h4.fontWeight:700}),ye.e,ye.k,ye.l),ft=he.d.h5(ot(),(function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut}),(function(e){var t=e.theme;return et(t,"typography.h5")?t.typography.h5.fontSize:"1.25em"}),(function(e){var t=e.theme;return et(t,"typography.h5")?t.typography.h5.lineHeight:1.15}),(function(e){var t=e.theme;return et(t,"typography.h5")?t.typography.h5.fontWeight:700}),ye.e,ye.k,ye.l),bt=he.d.h6(rt(),(function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut}),(function(e){var t=e.theme;return et(t,"typography.h6")?t.typography.h6.fontSize:"1em"}),(function(e){var t=e.theme;return et(t,"typography.h6")?t.typography.h6.lineHeight:1.15}),(function(e){var t=e.theme;return et(t,"typography.h6")?t.typography.h6.fontWeight:700}),ye.e,ye.k,ye.l),gt=he.d.p(at(),(function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut}),(function(e){var t=e.theme;return et(t,"typography.body")?t.typography.body.fontSize:"1em"}),(function(e){var t=e.theme;return et(t,"typography.body")?t.typography.body.lineHeight:1.45}),(function(e){var t=e.theme;return et(t,"typography.body")?t.typography.body.fontWeight:400}),ye.e,ye.k,ye.l),vt=he.d.p(nt(),(function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut}),(function(e){var t=e.theme;return et(t,"typography.caption")?t.typography.caption.fontSize:"0.8em"}),(function(e){var t=e.theme;return et(t,"typography.caption")?t.typography.caption.lineHeight:1.45}),(function(e){var t=e.theme;return et(t,"typography.caption")?t.typography.caption.fontWeight:400}),ye.e,ye.k,ye.l),yt=he.d.div(tt(),ye.k),Et=function(e){var t=e.variant,n=(e.theme,e.children),a=e.html,r=Object(ve.a)(e,["variant","theme","children","html"]);switch(t){case"h1":return u.a.createElement(dt,r,n);case"h2":return u.a.createElement(mt,r,n);case"h3":return u.a.createElement(pt,r,n);case"h4":return u.a.createElement(ht,r,n);case"h5":return u.a.createElement(ft,r,n);case"h6":return u.a.createElement(bt,r,n);case"caption":return u.a.createElement(vt,r,n);case"raw":return u.a.createElement(yt,Object.assign({dangerouslySetInnerHTML:{__html:a}},r));default:return u.a.createElement(gt,r,n)}},kt=function(e){var t=e.children;return u.a.createElement(Se,{variant:"main"},u.a.createElement(ge,null),t)},Ot=n(217),jt=n.n(Ot),_t=n(218),xt=n.n(_t),wt=n(219),At=n.n(wt),Mt=n(220),qt=n.n(Mt),St=n(221),Bt=n.n(St),Ct=n(222),Ft=n.n(Ct);function zt(){var e=Object(fe.a)(["\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n\n      span {\n        cursor: pointer;\n        display: flex;\n        height: 60px;\n        line-height: 60px;\n        padding: 0 24px;\n        font-size: ",";\n        color: ",";\n        border-top: ",";\n      }\n    "]);return zt=function(){return e},e}function Rt(){var e=Object(fe.a)(["\n      a {\n        background-color: ",";\n        color: ",";\n      }\n    "]);return Rt=function(){return e},e}function Tt(){var e=Object(fe.a)(["\n  a {\n    text-decoration: none;\n    display: flex;\n    height: 60px;\n    line-height: 60px;\n    padding: 0 24px;\n    font-size: ",";\n    border-bottom: ",";\n    color: ",";\n\n    &:active,\n    &:focus {\n      color: ",";\n    }\n  }\n\n  a,\n  span {\n    .menu-mdi {\n      margin-top: 16px;\n      margin-right: 8px;\n    }\n  }\n\n  ",";\n  ",";\n"]);return Tt=function(){return e},e}function Dt(){var e=Object(fe.a)(["\n  width: 280px;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: ",";\n\n  ul {\n    margin: 0;\n    padding: 0;\n    height: 100%;\n    list-style: none;\n    position: relative;\n  }\n"]);return Dt=function(){return e},e}var Nt=he.d.div(Dt(),(function(e){return e.theme.colors.lighter})),Ut=he.d.li(Tt(),(function(e){return e.theme.typography.caption.fontSize}),(function(e){return e.theme.borders.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return"primary"===e.variant&&Object(he.c)(Rt(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter}))}),(function(e){return"bottom-item"===e.variant&&Object(he.c)(zt(),(function(e){return e.theme.typography.caption.fontSize}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.borders.primary}))})),Lt={logout:a.logout},Gt=Object(p.b)(null,Lt)((function(e){var t=e.logout;return u.a.createElement(Nt,null,u.a.createElement("ul",null,u.a.createElement(Ut,{variant:"primary"},u.a.createElement(pe.c,{to:"/"},"BRF Blood Bank Database")),u.a.createElement(Ut,null,u.a.createElement(pe.c,{to:"/feeds"},u.a.createElement(At.a,{className:"menu-mdi"})," Home")),u.a.createElement(Ut,null,u.a.createElement(pe.c,{to:"/search"},u.a.createElement(Ft.a,{className:"menu-mdi"})," Search")),u.a.createElement(Ut,null,u.a.createElement(pe.c,{to:"/add-user"},u.a.createElement(jt.a,{className:"menu-mdi"})," Add User")),u.a.createElement(Ut,null,u.a.createElement(pe.c,{to:"/blood-requests"},u.a.createElement(qt.a,{className:"menu-mdi"})," Blood Requests")),u.a.createElement(Ut,null,u.a.createElement(pe.c,{to:"/madrasas"},u.a.createElement(xt.a,{className:"menu-mdi"})," Madrasas")),u.a.createElement(Ut,{variant:"bottom-item",onClick:t},u.a.createElement("span",null,u.a.createElement(Bt.a,{className:"menu-mdi"}),"Logout"))))})),Pt=n(224),It=n(223);function Ht(){var e=Object(fe.a)(["\n  ",";\n\n  .styled__control {\n    border-color: ",";\n\n    &:hover {\n      border-color: ",";\n    }\n\n    ",";\n  }\n\n  .styled__menu {\n    z-index: 10;\n  }\n\n  .styled__control--is-focused {\n    border: 1px solid ",";\n    box-shadow: none;\n\n    &:hover {\n      border: 1px solid ",";\n    }\n  }\n\n  .styled__placeholder {\n    color: ",";\n  }\n\n  .styled__placeholder,\n  .styled__single-value,\n  .styled__menu {\n    font-size: ",";\n  }\n"]);return Ht=function(){return e},e}var Wt=he.d.div(Ht(),ye.k,(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),ye.h,(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.placeholder}),(function(e){return e.theme.typography.caption.fontSize})),Vt={indicatorsContainer:function(e,t){return Object(h.a)({},e,{borderColor:"green"})},option:function(e,t){return Object(h.a)({},e)},singleValue:function(e,t){var n=t.isDisabled?.5:1;return Object(h.a)({},e,{opacity:n,transition:"opacity 300ms"})}},Jt=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){n.props.onChange(n.props.keyName,e)},n.handleBlur=function(){n.props.onBlur(n.props.keyName,!0)},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return u.a.createElement(Wt,Object.assign({},this.props.margin,this.props.padding,this.props.size,{className:this.props.selectClass}),this.props.async?u.a.createElement(s.Fragment,null,u.a.createElement(It.a,Object.assign({},this.props,{onChange:this.handleChange,onBlur:this.handleBlur,styles:Vt,classNamePrefix:"styled"})),!!this.props.error&&this.props.touched&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8},this.props.error)):u.a.createElement(s.Fragment,null,u.a.createElement(Pt.a,Object.assign({},this.props,{onChange:this.handleChange,onBlur:this.handleBlur,styles:Vt,classNamePrefix:"styled"})),!!this.props.error&&this.props.touched&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8},this.props.error)))}}]),t}(s.Component),Yt=n(225),$t=n.n(Yt);n(262);function Kt(){var e=Object(fe.a)(["\n  padding: 6px 16px;\n  border-radius: 4px;\n  border: ",";\n  border-color: ",";\n  background-color: ",";\n\n  .react-datepicker-wrapper,\n  .react-datepicker__input-container {\n    width: 100%;\n  }\n\n  input {\n    border: none;\n    outline: none;\n    width: 100%;\n    padding-bottom: 4px;\n    background-color: ",";\n    font-size: ",";\n    color: ",";\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n\n  ",";\n"]);return Kt=function(){return e},e}var Qt=he.d.div(Kt(),(function(e){return e.theme.borders.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.typography.caption.fontSize}),(function(e){return e.theme.colors.lightDark}),(function(e){return e.theme.colors.placeholder}),ye.k),Xt=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){n.props.onChange(n.props.keyName,e)},n.handleBlur=function(){n.props.onBlur(n.props.keyName,!0)},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return u.a.createElement(s.Fragment,null,u.a.createElement(Qt,Object.assign({},this.props.margin,this.props.padding,this.props.size),u.a.createElement($t.a,Object.assign({},this.props,{onChange:this.handleChange,onBlur:this.handleBlur,className:"date-picker-input"}))),!!this.props.error&&this.props.touched&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:16},this.props.error))}}]),t}(s.Component),Zt=function(e){var t=e.children;return u.a.createElement(Se,{pl:280},u.a.createElement(ge,null),u.a.createElement(Gt,null),u.a.createElement(Se,{p:24},t))},en=function(){return u.a.createElement(kt,null,u.a.createElement(Fe,{valign:"center",halign:"justify-center",height:"100vh"},u.a.createElement(we,{width:{xs:1,sm:1}},u.a.createElement(Et,{variant:"h4",textAlign:"center"},"(404) Not found"),u.a.createElement(Et,{textAlign:"center",mt:16},"Back to ",u.a.createElement(Pe,{link:"/"},"Home")))))},tn=n(18),nn=n(12),an=function(e,t){return{type:"locations/add_location",meta:{async:!0,blocking:!0,path:"/places/",method:"POST",body:e,token:t}}},rn=function(e){return{type:"locations/get_all_locations",meta:{async:!0,blocking:!0,path:"/places/",method:"GET",token:e}}},on=function(e,t){if(e&&e.length){for(var n=[],a=0;a<e.length;a++)n.push({value:e[a].id,label:t?e[a][t]:e[a].name});return n}return[]},cn=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={madrasaOptions:[],locationOptions:[]},n.handleClearForm=function(){(0,n.props.resetForm)({name:"",selectedLocation:"",selectedGender:"",selectedRole:"",selectedMadrasa:"",selectedBloodGroup:"",date_of_birth:"",address:"",mobile:"",last_donated_on:"",last_received_on:"",emergency_contact_name:"",emergency_contact_phone:""})},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,a,r,o,c,l;return X.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=this.props,t=e.getAllLocations,n=e.getAllMadrasas,a=e.token,i.next=3,X.a.awrap(t(a));case 3:return r=i.sent,i.next=6,X.a.awrap(n(a));case 6:o=i.sent,c=[],l=[],o.count>0&&(c=on(o.results),this.setState(Object(h.a)({},this.state,{madrasaOptions:c}))),r.count>0&&(l=on(r.results,"upazila"),this.setState(Object(h.a)({},this.state,{locationOptions:l})));case 10:case"end":return i.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors,a=e.setFieldValue,r=e.setFieldTouched,o=e.values,c=this.state,l=c.madrasaOptions,i=c.locationOptions;return u.a.createElement(Se,{width:600,m:"0 auto"},u.a.createElement(tn.b,null,u.a.createElement(Fe,null,u.a.createElement(we,{width:1},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Name"),u.a.createElement(He,{mb:16,mt:8},u.a.createElement(tn.a,{type:"text",name:"name",placeholder:"Enter fullname"})),t.name&&n.name&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.name))),u.a.createElement(we,{width:[1,2/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Location"),u.a.createElement(Jt,{isMulti:!1,value:o.selectedLocation,keyName:"selectedLocation",onChange:a,onBlur:r,error:n.selectedLocation,touched:t.selectedLocation,placeholder:"Select a location",options:i,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(we,{width:[1,1/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Blood Group"),u.a.createElement(Jt,{isMulti:!1,value:o.selectedBloodGroup,keyName:"selectedBloodGroup",onChange:a,onBlur:r,error:n.selectedBloodGroup,touched:t.selectedBloodGroup,placeholder:"Select a group",options:[{value:"A+",label:"A+"},{value:"A-",label:"A-"},{value:"B+",label:"B+"},{value:"B-",label:"B-"},{value:"O+",label:"O+"},{value:"O-",label:"O-"},{value:"AB+",label:"AB+"},{value:"AB-",label:"AB-"}],margin:{mt:8},size:{height:40}}))),u.a.createElement(we,{width:1},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Madrassa"),u.a.createElement(Jt,{isMulti:!1,value:o.selectedMadrasa,keyName:"selectedMadrasa",onChange:a,onBlur:r,error:n.selectedMadrasa,touched:t.selectedMadrasa,placeholder:"Select a madrassa",options:l,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(we,{width:[1,2/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Date of birth"),u.a.createElement(Xt,{keyName:"date_of_birth",onChange:a,onBlur:r,error:n.date_of_birth,touched:t.date_of_birth,placeholderText:"Add birth date",selected:o.date_of_birth,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",dateFormat:"dd/MM/yyyy",className:"date-picker",margin:{mt:8}}))),u.a.createElement(we,{width:[1,1/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Gender"),u.a.createElement(Jt,{isMulti:!1,value:o.selectedGender,keyName:"selectedGender",onChange:a,onBlur:r,error:n.selectedGender,touched:t.selectedGender,placeholder:"Select gender",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(we,{width:[1,2/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Address"),u.a.createElement(He,{mb:16,mt:8},u.a.createElement(tn.a,{type:"text",name:"address",placeholder:"Enter full address"})),t.address&&n.address&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.address))),u.a.createElement(we,{width:[1,1/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Mobile"),u.a.createElement(He,{mb:16,mt:8},u.a.createElement(tn.a,{type:"text",name:"mobile",placeholder:"Enter mobile number"})),t.mobile&&n.mobile&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.mobile))),u.a.createElement(we,{width:[1,2/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Emergency contact"),u.a.createElement(He,{mb:16,mt:8},u.a.createElement(tn.a,{type:"text",name:"emergency_contact_name",placeholder:"Enter contact fullname"})),t.emergency_contact_name&&n.emergency_contact_name&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.emergency_contact_name))),u.a.createElement(we,{width:[1,1/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Contact Phone"),u.a.createElement(He,{mb:16,mt:8},u.a.createElement(tn.a,{type:"text",name:"emergency_contact_phone",placeholder:"Enter mobile number"})),t.emergency_contact_phone&&n.emergency_contact_phone&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.emergency_contact_phone))),u.a.createElement(we,{width:[1,1/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Last donated"),u.a.createElement(Xt,{keyName:"last_donated_on",onChange:a,onBlur:r,error:n.last_donated_on,touched:t.last_donated_on,placeholderText:"Last doantion date",selected:o.last_donated_on,showMonthDropdown:!0,showYearDropdown:!0,showTimeSelect:!0,dropdownMode:"select",timeFormat:"HH:mm",dateFormat:"MMM d, yyyy h:mm aa",className:"date-picker",margin:{mt:8}}))),u.a.createElement(we,{width:[1,1/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Last received date"),u.a.createElement(Xt,{keyName:"last_received_on",onChange:a,onBlur:r,error:n.last_received_on,touched:t.last_received_on,placeholderText:"Last received date",selected:o.last_received_on,showMonthDropdown:!0,showYearDropdown:!0,showTimeSelect:!0,dropdownMode:"select",timeFormat:"HH:mm aa",dateFormat:"MMM d, yyyy h:mm aa",className:"date-picker",margin:{mt:8}}))),u.a.createElement(we,{width:[1,1/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Role"),u.a.createElement(Jt,{isMulti:!1,value:o.selectedRole,keyName:"selectedRole",onChange:a,onBlur:r,error:n.selectedRole,touched:t.selectedRole,placeholder:"Select a role",options:[{value:"Donor",label:"Donor"},{value:"Receiver",label:"Receiver"},{value:"Both",label:"Both"}],margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(we,{width:[.5,.5]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(_e,{mt:24,type:"button",onClick:this.props.onClear||this.handleClearForm},"Cancel"))),u.a.createElement(we,{width:[.5,.5]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(_e,{type:"submit",variant:"primary",mt:24},"Add User"))))))}}]),t}(s.Component),ln=Object(tn.c)({mapPropsToValues:function(){return{name:"",selectedLocation:"",selectedGender:"",selectedRole:"",selectedMadrasa:"",selectedBloodGroup:"",date_of_birth:"",address:"",mobile:"",last_donated_on:"",last_received_on:"",emergency_contact_name:"",emergency_contact_phone:""}},validationSchema:nn.object().shape({name:nn.string().required("Fullname is required"),selectedLocation:nn.object().required("Location is required"),selectedGender:nn.object().required("Gender is required"),selectedRole:nn.object().required("Role is required"),selectedMadrasa:nn.object().nullable(),selectedBloodGroup:nn.object().required("Blood group is required"),date_of_birth:nn.string().required("Date of birth is required"),address:nn.string(),mobile:nn.string().required("Phone number is required"),last_donated_on:nn.date().nullable(),last_received_on:nn.date().nullable(),emergency_contact_name:nn.string().required("Emergency contact is required"),emergency_contact_phone:nn.string()}),handleSubmit:function(e,t){var n,a,r,o,c,l,i,s,u;return X.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(n=t.props,t.setErrors,a=t.setSubmitting,r=t.resetForm,d.prev=1,o=n.addUser,c=n.onAddUser,l=n.token,i=n.history,(s=Object(h.a)({},e)).date_of_birth=e.date_of_birth.toISOString(),s.blood_group=e.selectedBloodGroup.value,s.role=e.selectedRole.value,s.gender=e.selectedGender.value,s.madrasa=e.selectedMadrasa.value,s.place=e.selectedLocation.value,s.date_of_birth&&(s.date_of_birth=s.date_of_birth.split("T")[0]),e.last_donated_on?s.last_donated_on=e.last_donated_on:s.last_donated_on=null,e.last_received_on?s.last_received_on=e.last_donated_on:s.last_received_on=null,!c){d.next=17;break}c(s),d.next=23;break;case 17:return d.next=19,X.a.awrap(o(s,l));case 19:u=d.sent,a(),r(),u.id&&i.push("/feeds");case 23:d.next=28;break;case 25:d.prev=25,d.t0=d.catch(1),console.log(d.t0);case 28:case"end":return d.stop()}}),null,null,[[1,25]])}})(cn),sn={getAllMadrasas:c.getAllMadrasas,getAllLocations:i.getAllLocations,addUser:o.addUser},un=Object(p.b)((function(e){return{token:e.auth.token}}),sn)(Object($.g)(ln)),dn=function(){return u.a.createElement(Zt,null,u.a.createElement(Ve,{bg:"primary"},u.a.createElement(Et,{variant:"h4",color:"lighter",textAlign:"center"},"Add User")),u.a.createElement(Se,{variant:"card",p:24,pb:64},u.a.createElement(un,null)))},mn=n(118),pn=n(80),hn=n.n(pn),fn=document.getElementById("root");hn.a.setAppElement(fn);var bn={overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",height:"560px",transform:"translate(-50%, -50%)"}},gn=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={userOptions:[],isModalOpen:!1},n.handleClearForm=function(){(0,n.props.resetForm)({selectedUser:"",request_date:"",reason:""})},n.handleOpenModal=function(){n.setState(Object(h.a)({},n.state,{isModalOpen:!0}))},n.handleCloseModal=function(){n.setState(Object(h.a)({},n.state,{isModalOpen:!1}))},n.handleAddUser=function(e){var t,a,r,o,c,l,i,s;return X.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t=n.props,a=t.addUser,r=t.getAllUsers,o=t.setFieldValue,c=t.token,u.next=3,X.a.awrap(a(e,c));case 3:return l=u.sent,u.next=6,X.a.awrap(r(c));case 6:i=u.sent,s=[],i.count>0&&(s=on(i.results),n.setState(Object(h.a)({},n.state,{userOptions:s}))),l.id&&(o("selectedUser",{value:l.id,label:l.name}),n.handleCloseModal());case 10:case"end":return u.stop()}}))},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,a,r;return X.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.props,t=e.getAllUsers,n=e.token,o.next=3,X.a.awrap(t(n,{}));case 3:a=o.sent,r=[],a.count>0&&(r=on(a.results),this.setState(Object(h.a)({},this.state,{userOptions:r})));case 6:case"end":return o.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors,a=e.setFieldValue,r=e.setFieldTouched,o=e.values,c=this.state.userOptions;return u.a.createElement(Se,null,u.a.createElement(tn.b,null,u.a.createElement(Fe,null,u.a.createElement(we,{width:{xs:1,sm:1/3}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Request for"),u.a.createElement(Jt,{isMulti:!1,value:o.selectedUser,keyName:"selectedUser",onChange:a,onBlur:r,error:n.selectedUser,touched:t.selectedUser,placeholder:"Select a user",options:c,margin:{mt:8},size:{height:40}}))),u.a.createElement(we,{width:{xs:1,sm:1/12}},u.a.createElement(Et,{pt:32,textAlign:"center"},"or")),u.a.createElement(we,{width:{xs:1,sm:.25}},u.a.createElement(Se,{mr:16},u.a.createElement(_e,{variant:"primary",type:"button",mt:28,className:"btn-small",onClick:this.handleOpenModal},"Add User"))),u.a.createElement(we,{width:{xs:1,sm:1/3}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Request date"),u.a.createElement(Xt,{keyName:"request_date",onChange:a,onBlur:r,error:n.request_date,touched:t.request_date,placeholderText:"Add request date",selected:o.request_date,showMonthDropdown:!0,showYearDropdown:!0,showTimeSelect:!0,dropdownMode:"select",timeFormat:"HH:mm",dateFormat:"MMM d, yyyy h:mm aa",className:"date-picker",margin:{mt:8}}))),u.a.createElement(we,{width:{xs:1,sm:1}},u.a.createElement(Se,{pl:8,pr:8,mt:16},u.a.createElement(Et,{variant:"caption"},"Reason"),u.a.createElement(He,{mb:16,mt:8,height:100},u.a.createElement(tn.a,{component:"textarea",name:"reason",placeholder:"Enter reason"})),t.reason&&n.reason&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.reason))),u.a.createElement(we,{width:{xs:.5,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(_e,{mt:30,className:"btn-small",type:"button",onClick:this.handleClearForm},"Clear"))),u.a.createElement(we,{width:{xs:.5,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(_e,{type:"submit",variant:"primary",mt:30,className:"btn-small"},"Make Request"))))),u.a.createElement(hn.a,{isOpen:this.state.isModalOpen,onRequestClose:this.handleCloseModal,style:bn,contentLabel:"Add User Modal"},u.a.createElement(Se,null,u.a.createElement(un,{onClear:this.handleCloseModal,onAddUser:this.handleAddUser}))))}}]),t}(s.Component),vn=Object(tn.c)({mapPropsToValues:function(){return{selectedUser:"",request_date:"",reason:""}},validationSchema:nn.object().shape({selectedUser:nn.object().required(),request_date:nn.string().required(),reason:nn.string().required()}),handleSubmit:function(e,t){var n,a,r,o,c,l,i,s;return X.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.props,t.setErrors,a=t.setSubmitting,r=t.resetForm,u.prev=1,o=n.makeRequest,c=n.getAllRequests,l=n.token,(i=e).receiver=e.selectedUser.value,u.next=7,X.a.awrap(o(i,l));case 7:if(s=u.sent,a(),r(),!s.id){u.next=13;break}return u.next=13,X.a.awrap(c(l));case 13:u.next=18;break;case 15:u.prev=15,u.t0=u.catch(1),console.log(u.t0);case 18:a();case 19:case"end":return u.stop()}}),null,null,[[1,15]])}})(gn),yn={addUser:o.addUser,getAllUsers:o.getAllUsers,makeRequest:r.makeRequest,getAllRequests:r.getAllRequests},En=Object(p.b)((function(e){return{token:e.auth.token}}),yn)(Object($.g)(vn)),kn=n(458),On=document.getElementById("root");hn.a.setAppElement(On);var jn={overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",height:"520px",transform:"translate(-50%, -50%)"}},_n=function(e){var t=e.request,n=e.showDevider,a=Object(s.useState)(!1),r=Object(mn.a)(a,2),o=r[0],c=r[1];return u.a.createElement(s.Fragment,null,u.a.createElement(Et,null,u.a.createElement($e,{fontWeight:"bold"},t.receiver.name)," ","requested fro"," ",u.a.createElement($e,{color:"primary",fontWeight:"bold"},t.receiver.blood_group)," ","blood on"," ",u.a.createElement($e,{fontWeight:"bold"},Object(kn.default)(new Date(t.request_date),"MMMM dd, yyyy",{})),"."," ",u.a.createElement($e,{variant:"url",onClick:function(){c(!0)}},"See details")),n?u.a.createElement(Re,null):"",u.a.createElement(hn.a,{isOpen:o,onRequestClose:function(){c(!1)},style:jn,contentLabel:"Add User Modal"},u.a.createElement(qn,{handleCloseModal:function(){c(!1)},requestId:t.id})))},xn=n(234),wn=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={requestId:void 0,donorOptions:[]},n.searchEligibleDonors=function(e){var t,a,r,o,c,l,i;return X.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=n.props,a=t.requestDetails,r=t.getEligibleDonors,o=t.token,c=Object(xn.a)(r,500),s.next=4,X.a.awrap(c(o,{blood_group:a.receiver.blood_group,mobile:e}));case 4:if(!((l=s.sent).count>0)){s.next=9;break}return i=on(l.results,"mobile"),n.setState(Object(h.a)({},n.state,{donorOptions:i})),s.abrupt("return",i);case 9:case"end":return s.stop()}}))},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,a,r,o,c,l;return X.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.props,t=e.requestId,n=e.getRequestById,a=e.getEligibleDonors,r=e.token,t===this.state.requestId){i.next=10;break}return this.setState(Object(h.a)({},this.state,{requestId:t})),i.next=5,X.a.awrap(n(t,r));case 5:return o=i.sent,i.next=8,X.a.awrap(a(r,{blood_group:o.receiver.blood_group}));case 8:(c=i.sent).count>0&&(l=on(c.results,"mobile"),this.setState(Object(h.a)({},this.state,{donorOptions:l})));case 10:case"end":return i.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props,t=e.requestDetails,n=e.setFieldValue,a=e.setFieldTouched,r=e.errors,o=e.touched,c=e.values,l=e.handleCloseModal,i=this.state.donorOptions;return u.a.createElement(s.Fragment,null,t.receiver?u.a.createElement(Se,{width:560},u.a.createElement(Et,{variant:"h5",color:"primary"},t.receiver.name),u.a.createElement(Re,null),u.a.createElement(Et,{mb:8},"Blood Group:"," ",u.a.createElement($e,{color:"primary",fontWeight:700},t.receiver.blood_group)),u.a.createElement(Et,{mb:8},"Request Date:"," ",u.a.createElement($e,{color:"primary",fontWeight:700},Object(kn.default)(new Date(t.request_date),"MMMM dd, yyyy",{}))),u.a.createElement(Et,{mb:8},"Address:"," ",u.a.createElement($e,{color:"primary",fontWeight:700},t.receiver.address||"Not mentioned")),u.a.createElement(Re,null),u.a.createElement(Et,{mb:8},"Reason:"),u.a.createElement(Et,{color:"primary"},t.reason||"Not mentioned"),u.a.createElement(Re,null),t.is_served?u.a.createElement(u.a.Fragment,null,u.a.createElement(Et,null,"Request has been served."),u.a.createElement(Se,{textAlign:"right",mt:144},u.a.createElement(_e,{width:120,mr:16,type:"button",onClick:l},"Close"))):u.a.createElement(tn.b,null,u.a.createElement(Fe,{mb:16},u.a.createElement(we,{width:{xs:1}},u.a.createElement(Et,{mb:8},"Select Donor:"),u.a.createElement(Jt,{async:!0,isMulti:!1,value:c.selectedDonor,keyName:"selectedDonor",onChange:n,onBlur:a,error:r.selectedDonor,touched:o.selectedDonor,placeholder:"Select a donor",defaultOptions:i,loadOptions:this.searchEligibleDonors,margin:{mt:8},size:{height:40}})),u.a.createElement(we,{width:{xs:1}},u.a.createElement(Et,{mb:8},"Donation Date:"),u.a.createElement(Xt,{keyName:"donation_date",onChange:n,onBlur:a,error:r.donation_date,touched:o.donation_date,placeholderText:"Add donation date",selected:c.donation_date,showMonthDropdown:!0,showYearDropdown:!0,showTimeSelect:!0,dropdownMode:"select",timeFormat:"HH:mm",dateFormat:"MMM d, yyyy h:mm aa",className:"date-picker",margin:{mt:8}}))),u.a.createElement(Se,{textAlign:"right",mt:56},u.a.createElement(_e,{width:120,mr:16,type:"button",onClick:l},"Cancel")," ",u.a.createElement(_e,{variant:"primary",width:120,type:"submit"},"Complete")))):u.a.createElement(Et,{variant:"h5"},"Loading..."))}}]),t}(s.Component),An=Object(tn.c)({mapPropsToValues:function(){return{selectedDonor:"",donation_date:new Date}},validationSchema:nn.object().shape({selectedDonor:nn.object().required("Donor must be selected"),donation_date:nn.string().required("Donation date must be provided")}),handleSubmit:function(e,t){var n,a,r,o,c,l,i,s,u,d;return X.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return n=t.props,t.setErrors,a=t.setSubmitting,t.resetForm,m.prev=1,r=n.handleCloseModal,o=n.requestId,c=n.serveRequest,l=n.updateRequest,i=n.updateUserInfo,s=n.token,u={donation_date:e.donation_date,donor:e.selectedDonor.value,request:o},m.next=6,X.a.awrap(c(u,s));case 6:if(!(d=m.sent).id){m.next=12;break}return m.next=10,X.a.awrap(i(u.donor,{last_donated_on:u.donation_date},s));case 10:return m.next=12,X.a.awrap(l(o,{is_served:!0},s));case 12:a(),d.id&&r(),m.next=19;break;case 16:m.prev=16,m.t0=m.catch(1),console.log(m.t0);case 19:a();case 20:case"end":return m.stop()}}),null,null,[[1,16]])}})(wn),Mn={getRequestById:r.getRequestById,updateRequest:r.updateRequest,serveRequest:r.serveRequest,getEligibleDonors:o.getEligibleDonors,updateUserInfo:o.updateUserInfo},qn=Object(p.b)((function(e){var t=e.auth,n=e.donations,a=e.users;return{token:t.token,requestDetails:n.requestDetails,eligibleDonors:a.eligibleDonors}}),Mn)(An),Sn=function(e){var t=e.donationRequests,n=Object(s.useState)(!1),a=Object(mn.a)(n,2),r=a[0],o=a[1];return u.a.createElement(Zt,null,r&&u.a.createElement(s.Fragment,null,u.a.createElement(_e,{onClick:function(){o(!1)},mb:24,variant:"primary"},"Hide form"),u.a.createElement(Se,{variant:"card",p:24,mb:24},u.a.createElement(En,null))),!r&&u.a.createElement(_e,{variant:"primary",onClick:function(){o(!0)}},"Create new request"),u.a.createElement(Ve,{bg:"primary",mt:24},u.a.createElement(Et,{variant:"h6",color:"lighter"},"Latest requests")),u.a.createElement(Se,{variant:"card",p:24},t.count>0?t.results.map((function(e,n){return u.a.createElement(_n,{request:e,showDevider:n!==t.results.length-1,key:e.id})})):""))},Bn=function(e){return u.a.createElement(Zt,null,u.a.createElement(Fe,null,u.a.createElement(we,{width:{xs:.5,sm:1/3}},u.a.createElement(Se,{mr:24},u.a.createElement(Ve,{bg:"primary"},u.a.createElement(Et,{variant:"body",color:"lighter",textAlign:"center"},"Total Users")),u.a.createElement(Se,{variant:"card",p:24},u.a.createElement(Et,{textAlign:"center",variant:"44"},e.users.count||0)))),u.a.createElement(we,{width:{xs:.5,sm:1/3}},u.a.createElement(Se,{mr:24},u.a.createElement(Ve,{bg:"primary"},u.a.createElement(Et,{variant:"body",color:"lighter",textAlign:"center"},"Total Madrasas")),u.a.createElement(Se,{variant:"card",p:24},u.a.createElement(Et,{textAlign:"center",variant:"44"},e.madrasas.count||0)))),u.a.createElement(we,{width:{xs:.5,sm:1/3}},u.a.createElement(Se,{mr:24},u.a.createElement(Ve,{bg:"primary"},u.a.createElement(Et,{variant:"body",color:"lighter",textAlign:"center"},"Total Requests")),u.a.createElement(Se,{variant:"card",p:24},u.a.createElement(Et,{textAlign:"center",variant:"44"},e.donationRequests.count||0))))))},Cn=function(){return u.a.createElement(Se,null,u.a.createElement(Et,{variant:"h2",color:"lighter"},"BRF ",u.a.createElement("br",null),"Blood Bank ",u.a.createElement("br",null)," Database"),u.a.createElement(Et,{variant:"body",color:"lighter"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestias libero laudantium velit doloribus numquam, corrupti! Ipsum aperiam doloribus, ad saepe distinctio eius, doloremque id! Numquam minima, molestias dolorum! Unde, natus."))},Fn=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors;return u.a.createElement(tn.b,null,u.a.createElement(Se,{variant:"card",p:24,maxWidth:320},u.a.createElement(He,{border:"none",borderBottom:"1px solid #FF7275",borderRadius:0,mb:16,textAlign:"center"},u.a.createElement(tn.a,{type:"text",name:"username",placeholder:"username or email"})),t.username&&n.username&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.username),u.a.createElement(He,{border:"none",borderBottom:"1px solid #FF7275",borderRadius:0,mb:16,textAlign:"center"},u.a.createElement(tn.a,{type:"password",name:"password",placeholder:"password"})),t.password&&n.password&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.password),u.a.createElement(_e,{type:"submit",variant:"primary",mt:16},"Login")))}}]),t}(s.Component),zn=Object(tn.c)({mapPropsToValues:function(){return{username:"",password:""}},validationSchema:nn.object().shape({username:nn.string().required("Username is required"),password:nn.string().required("Password is required")}),handleSubmit:function(e,t){var n,a,r,o,c,l;return X.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.props,a=t.setErrors,r=t.setSubmitting,t.resetForm,i.prev=1,o=n.login,c=e.username,l=e.password,i.next=6,X.a.awrap(o({username:c,password:l}));case 6:r(),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(1),a({password:"Username or password not correct"});case 12:case"end":return i.stop()}}),null,null,[[1,9]])}})(Fn),Rn={login:a.login},Tn=Object(p.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),Rn)(zn),Dn=n(230),Nn=n.n(Dn),Un=function(){return u.a.createElement(De,{imgSrc:Nn.a,height:"100vh"},u.a.createElement(kt,null,u.a.createElement(Fe,{valign:"center",halign:"justify-center",height:"100vh",p:[3,3,0,0]},u.a.createElement(we,{width:[1,1,1/3,1/3]},u.a.createElement(Cn,null)),u.a.createElement(we,{width:[1,1,1/3,1/3]},u.a.createElement(Tn,null)))))},Ln=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={locationOptions:[]},n.handleClearForm=function(){(0,n.props.resetForm)({name:"",selectedLocation:"",address:"",phone:"",contact_person:""})},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,a,r;return X.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.props,t=e.getAllLocations,n=e.token,o.next=3,X.a.awrap(t(n));case 3:a=o.sent,r=[],a.count>0&&(r=on(a.results,"upazila"),this.setState(Object(h.a)({},this.state,{locationOptions:r})));case 6:case"end":return o.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors,a=e.setFieldValue,r=e.setFieldTouched,o=e.values,c=this.state.locationOptions;return u.a.createElement(Se,{width:600,m:"0 auto"},u.a.createElement(tn.b,null,u.a.createElement(Fe,null,u.a.createElement(we,{width:{xs:1,sm:1}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Madrasa Name"),u.a.createElement(He,{mb:16,mt:8},u.a.createElement(tn.a,{type:"text",name:"name",placeholder:"Enter fullname"})),t.name&&n.name&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.name))),u.a.createElement(we,{width:{xs:1,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Location"),u.a.createElement(Jt,{isMulti:!1,value:o.selectedLocation,keyName:"selectedLocation",onChange:a,onBlur:r,error:n.selectedLocation,touched:t.selectedLocation,placeholder:"Select a location",options:c,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(we,{width:{xs:1,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Address"),u.a.createElement(He,{mb:16,mt:8},u.a.createElement(tn.a,{type:"text",name:"address",placeholder:"Enter full address"})),t.address&&n.address&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.address))),u.a.createElement(we,{width:{xs:1,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Mobile"),u.a.createElement(He,{mb:16,mt:8},u.a.createElement(tn.a,{type:"text",name:"phone",placeholder:"Enter mobile number"})),t.phone&&n.phoe&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.phone))),u.a.createElement(we,{width:{xs:1,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Contact Person"),u.a.createElement(He,{mb:16,mt:8},u.a.createElement(tn.a,{type:"text",name:"contact_person",placeholder:"Enter contact fullname"})),t.contact_person&&n.contact_person&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.contact_person))),u.a.createElement(we,{width:{xs:.5,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(_e,{mt:24,type:"button",onClick:this.props.onClear||this.handleClearForm},"Cancel"))),u.a.createElement(we,{width:{xs:.5,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(_e,{type:"submit",variant:"primary",mt:24},"Add Madrasa"))))))}}]),t}(s.Component),Gn=Object(tn.c)({mapPropsToValues:function(){return{name:"",selectedLocation:"",address:"",phone:"",contact_person:""}},validationSchema:nn.object().shape({name:nn.string().required("Madrasa name is required"),selectedLocation:nn.object().required("Location is required"),address:nn.string().required("Adress is required"),phone:nn.string(),contact_person:nn.string().required("Contact person is required")}),handleSubmit:function(e,t){var n,a,r,o,c,l,i,s;return X.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.props,t.setErrors,a=t.setSubmitting,r=t.resetForm,u.prev=1,o=n.addMadrasa,c=n.token,l=n.history,(i=e).place=e.selectedLocation.value,u.next=7,X.a.awrap(o(i,c));case 7:s=u.sent,a(),r(),s.id&&l.push("/feeds"),u.next=16;break;case 13:u.prev=13,u.t0=u.catch(1),console.log(u.t0);case 16:a();case 17:case"end":return u.stop()}}),null,null,[[1,13]])}})(Ln),Pn={addMadrasa:c.addMadrasa,getAllMadrasas:c.getAllMadrasas,getAllLocations:i.getAllLocations},In=Object(p.b)((function(e){return{token:e.auth.token}}),Pn)(Object($.g)(Gn)),Hn=function(){return u.a.createElement(Zt,null,u.a.createElement(Ve,{bg:"primary"},u.a.createElement(Et,{variant:"h4",color:"lighter",textAlign:"center"},"Add Madrasa")),u.a.createElement(Se,{variant:"card",p:24,pb:64},u.a.createElement(In,null)))},Wn=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={madrasaOptions:[],locationOptions:[]},n.handleClearForm=function(){var e=n.props,t=e.resetForm;(0,e.setSubmitting)(!1),t()},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,a,r,o,c,l;return X.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=this.props,t=e.getAllLocations,n=e.getAllMadrasas,a=e.token,i.next=3,X.a.awrap(t(a));case 3:return r=i.sent,i.next=6,X.a.awrap(n(a));case 6:o=i.sent,c=[],l=[],o.count>0&&(c=on(o.results),this.setState(Object(h.a)({},this.state,{madrasaOptions:c}))),r.count>0&&(l=on(r.results,"upazila"),this.setState(Object(h.a)({},this.state,{locationOptions:l})));case 10:case"end":return i.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors,a=e.setFieldValue,r=e.setFieldTouched,o=e.values,c=this.state,l=c.madrasaOptions,i=c.locationOptions;return u.a.createElement(Se,null,u.a.createElement(tn.b,null,u.a.createElement(Fe,null,u.a.createElement(we,{width:{xs:1,sm:.25}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Blood Group"),u.a.createElement(Jt,{isMulti:!1,value:o.selectedBloodGroup,keyName:"selectedBloodGroup",onChange:a,onBlur:r,error:n.selectedBloodGroup,touched:t.selectedBloodGroup,placeholder:"Select a group",options:[{value:"A+",label:"A+"},{value:"A-",label:"A-"},{value:"B+",label:"B+"},{value:"B-",label:"B-"},{value:"O+",label:"O+"},{value:"O-",label:"O-"},{value:"AB+",label:"AB+"},{value:"AB-",label:"AB-"}],margin:{mt:8},size:{height:40}}))),u.a.createElement(we,{width:{xs:1,sm:.25}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Location"),u.a.createElement(Jt,{isMulti:!1,value:o.selectedLocation,keyName:"selectedLocation",onChange:a,onBlur:r,error:n.selectedLocation,touched:t.selectedLocation,placeholder:"Select a location",options:i,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(we,{width:{xs:1,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Madrassa"),u.a.createElement(Jt,{isMulti:!1,value:o.selectedMadrasa,keyName:"selectedMadrasa",onChange:a,onBlur:r,error:n.selectedMadrasa,touched:t.selectedMadrasa,placeholder:"Select a madrassa",options:l,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(we,{width:{xs:1,sm:.25}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Gender"),u.a.createElement(Jt,{isMulti:!1,value:o.selectedGender,keyName:"selectedGender",onChange:a,onBlur:r,error:n.selectedGender,touched:t.selectedGender,placeholder:"Select gender",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(we,{width:{xs:1,sm:.25}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Role"),u.a.createElement(Jt,{isMulti:!1,value:o.selectedRole,keyName:"selectedRole",onChange:a,onBlur:r,error:n.selectedRole,touched:t.selectedRole,placeholder:"Select a role",options:[{value:"Donor",label:"Donor"},{value:"Receiver",label:"Receiver"},{value:"Both",label:"Both"}],margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(we,{width:{xs:.5,sm:.25}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(_e,{type:"submit",variant:"primary",mt:30,className:"btn-small"},"Search"))),u.a.createElement(we,{width:{xs:.5,sm:.25}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(_e,{mt:30,className:"btn-small",onClick:this.handleClearForm},"Clear"))))))}}]),t}(s.Component),Vn=Object(tn.c)({mapPropsToValues:function(){return{selectedLocation:"",selectedGender:"",selectedRole:"",selectedMadrasa:"",selectedBloodGroup:""}},validationSchema:nn.object().shape({selectedLocation:nn.object(),selectedGender:nn.object(),selectedRole:nn.object(),selectedMadrasa:nn.object().nullable(),selectedBloodGroup:nn.object()}),handleSubmit:function(e,t){var n,a,r,o,c;return X.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:n=t.props,t.setErrors,a=t.setSubmitting,t.resetForm;try{r=n.getAllUsers,o=n.token,c={blood_group:e.selectedBloodGroup.value||"",madrasa:e.selectedMadrasa.value||"",place:e.selectedLocation.value||"",gender:e.selectedGender.value||"",role:e.selectedRole.value||""},r(o,c),a()}catch(i){console.log(i)}a();case 3:case"end":return l.stop()}}))}})(Wn),Jn={getAllMadrasas:c.getAllMadrasas,getAllLocations:i.getAllLocations,getAllUsers:o.getAllUsers},Yn=Object(p.b)((function(e){return{token:e.auth.token}}),Jn)(Object($.g)(Vn)),$n=n(231),Kn=n.n($n),Qn=n(232),Xn=n.n(Qn),Zn=function(e){var t=e.users;return u.a.createElement(s.Fragment,null,u.a.createElement(Qe,null,u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text"},"Name"),u.a.createElement("th",{className:"text"},"Madrasa"),u.a.createElement("th",{className:"text-centered"},"Phone"),u.a.createElement("th",{className:"text-centered"},"Blood Group"),u.a.createElement("th",{className:"number"},"Last Donated"))),u.a.createElement("tbody",null,t.results.map((function(e){return e.id?u.a.createElement("tr",{key:e.id},u.a.createElement("td",{className:"text"},e.name),u.a.createElement("td",{className:"text"},e.madrasa?e.madrasa.name:"-"),u.a.createElement("td",{className:"text-centered"},e.mobile||"-"),u.a.createElement("td",{className:"text-centered"},e.blood_group),u.a.createElement("td",{className:"number"},e.last_donated_on?Object(kn.default)(new Date(e.last_donated_on),"PPpp",{}):"N/A")):""})))),u.a.createElement(Ze,null,t.previous?u.a.createElement("p",{className:"prev"},u.a.createElement(Kn.a,null)):"",u.a.createElement("p",{className:"table-pagination-info ".concat(t.next||t.previous?"pull-to-top":"")},"1 to ",t.next?"":t.count," of ",t.count),t.next?u.a.createElement("p",{className:"next"},u.a.createElement(Xn.a,null)):""))},ea=function(e){var t=e.users,n=e.userMessage;return u.a.createElement(Zt,null,u.a.createElement(Se,{variant:"card",p:24,mb:24},u.a.createElement(Yn,null)),u.a.createElement(Se,{variant:"card"},t.count?u.a.createElement(Zn,{users:t}):u.a.createElement(Et,{p:16,textAlign:"center"},n)))},ta=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return u.a.createElement(dn,null)}}]),t}(s.Component),na=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.token;(0,e.getAllRequests)(t)}},{key:"render",value:function(){return u.a.createElement(Sn,this.props)}}]),t}(s.Component),aa={getAllRequests:r.getAllRequests},ra=Object(p.b)((function(e){var t=e.auth,n=e.donations;return{token:t.token,donationRequests:n.donationRequests}}),aa)(na),oa=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,a,r;return X.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.props,t=e.getAllUsers,n=e.getAllRequests,a=e.getAllMadrasas,r=e.token,o.next=3,X.a.awrap(t(r,{}));case 3:return o.next=5,X.a.awrap(n(r));case 5:return o.next=7,X.a.awrap(a(r));case 7:case"end":return o.stop()}}),null,this)}},{key:"render",value:function(){return u.a.createElement(Bn,this.props)}}]),t}(s.Component),ca={getAllUsers:o.getAllUsers,getAllRequests:r.getAllRequests,getAllMadrasas:c.getAllMadrasas},la=Object(p.b)((function(e){var t=e.auth,n=e.users,a=e.donations,r=e.madrasas;return{token:t.token,users:n.users,madrasas:r.madrasas,donationRequests:a.donationRequests}}),ca)(oa),ia=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return this.props.isAuthenticated?u.a.createElement($.a,{to:"/feeds"}):u.a.createElement(Un,null)}}]),t}(s.Component),sa=Object(p.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))(ia),ua=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return u.a.createElement(Hn,null)}}]),t}(s.Component),da=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e,t,n;return X.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=this.props,t=e.getAllUsers,n=e.token,a.next=3,X.a.awrap(t(n,{}));case 3:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props.users;return u.a.createElement(ea,{users:e,userMessage:0===e.count?"No user found":"Loading..."})}}]),t}(s.Component),ma={getAllUsers:o.getAllUsers},pa=Object(p.b)((function(e){var t=e.auth,n=e.users;return Object(h.a)({token:t.token},n)}),ma)(da),ha=function(){return u.a.createElement($.d,null,u.a.createElement($.b,{exact:!0,path:"/",component:sa}),u.a.createElement($.b,{exact:!0,path:"/feeds",component:K(la)}),u.a.createElement($.b,{exact:!0,path:"/add-user",component:K(ta)}),u.a.createElement($.b,{exact:!0,path:"/madrasas",component:K(ua)}),u.a.createElement($.b,{exact:!0,path:"/search",component:K(pa)}),u.a.createElement($.b,{exact:!0,path:"/blood-requests",component:K(ra)}),u.a.createElement($.b,{component:en}))},fa={borders:{primary:"1px solid #FF7275",light:"1px solid #E9EBEC"},typography:{fontFamily:'"IBM Plex Sans", sans-serif',fontSize:"18px",lineHeight:1.45,fontWeight:"400",h1:{fontSize:"3.052em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h2:{fontSize:"2.441em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h3:{fontSize:"1.953em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h4:{fontSize:"1.563em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h5:{fontSize:"1.25em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h6:{fontSize:"1em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},body:{fontSize:"1em",lineHeight:1.45,fontWeight:400,fontFamily:'"IBM Plex Sans", sans-serif'},caption:{fontSize:".8em",lineHeight:1.45,fontWeight:400,fontFamily:'"IBM Plex Sans", sans-serif'}},colors:{primary:"#FF7275",secondary:"#DB5461",dark:"#303334",lightDark:"#4E5355",light:"#EFF1F3",lighter:"#FEFFFE",error:"#FF3C38",success:"#FFCA1E",warning:"#78BE20",placeholder:"#A9AEB1"},space:[0,4,8,16,32,64,128,256],breakpoints:[0,"576px","768px","992px","1200px"]},ba=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return u.a.createElement(he.a,{theme:fa},u.a.createElement(pe.a,{basename:window.location.pathname||""},u.a.createElement(ha,null)))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ga=new ce.a,va={};ga.loggedIn()&&(va.auth={isAuthenticated:!0,token:ga.getToken()});var ya=function(e){var t=[ue,g.a],n=[f.applyMiddleware.apply(void 0,t)],a=b.composeWithDevTools.apply(void 0,n);return Object(f.createStore)(me,e,a)}(va);m.a.render(u.a.createElement(p.a,{store:ya},u.a.createElement(ba,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},98:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(13),r=n(55),o=n.n(r),c=n(122),l=n.n(c),i=function t(){var n=this;Object(a.a)(this,t),this.loggedIn=function(e){return!!n.getToken(e)},this.setUser=function(e){o.a.set("user",JSON.stringify(e),{expires:7})},this.getUser=function(t){return e.browser?n.getUserFromBrowser():n.getUserFromServer(t)},this.getUserFromBrowser=function(){return o.a.get("user")},this.getUserFromServer=function(e){if(e&&e.headers){var t=e.headers.cookie;if("string"===typeof t){var n=l.a.parse(t);return n.user?JSON.parse(n.user):{}}}else;},this.setToken=function(t){e.browser&&o.a.set("Token",t,{expires:7})},this.getToken=function(t){return e.browser?n.getTokenFromBrowser():n.getTokenFromServer(t)},this.getTokenFromBrowser=function(){return o.a.get("Token")},this.getTokenFromServer=function(e){if(e&&e.headers){var t=e.headers.cookie;return"string"===typeof t?l.a.parse(t).Token:void 0}},this.getCsrfToken=function(t){return e.browser?n.getCsrfFromBrowser():n.getCsrfFromServer(t)},this.getCsrfFromBrowser=function(){return o.a.get("csrftoken")},this.getCsrfFromServer=function(e){if(e&&e.headers){var t=e.headers.cookie;return"string"===typeof t?l.a.parse(t).csrftoken:void 0}},this.removeToken=function(){o.a.remove("Token"),o.a.remove("user"),o.a.remove("csrftoken")}}}).call(this,n(123))}},[[236,1,2]]]);
//# sourceMappingURL=main.aad09c5b.chunk.js.map