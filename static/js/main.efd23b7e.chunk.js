(this["webpackJsonpbrf-blood-bank-database"]=this["webpackJsonpbrf-blood-bank-database"]||[]).push([[0],{230:function(e,t,n){e.exports=n.p+"static/media/bg.e36e78ea.svg"},236:function(e,t,n){e.exports=n(456)},456:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"signup",(function(){return E})),n.d(a,"login",(function(){return O})),n.d(a,"logout",(function(){return k})),n.d(a,"setUserToken",(function(){return j}));var r={};n.r(r),n.d(r,"makeRequest",(function(){return w})),n.d(r,"updateRequest",(function(){return A})),n.d(r,"serveRequest",(function(){return z})),n.d(r,"getAllRequests",(function(){return M})),n.d(r,"getRequestById",(function(){return q}));var o={};n.r(o),n.d(o,"addUser",(function(){return C})),n.d(o,"updateUserInfo",(function(){return U})),n.d(o,"getAllUsers",(function(){return F})),n.d(o,"getEligibleDonors",(function(){return R}));var c={};n.r(c),n.d(c,"addMadrasa",(function(){return N})),n.d(c,"getAllMadrasas",(function(){return L}));var l={};n.r(l),n.d(l,"auth",(function(){return x})),n.d(l,"donations",(function(){return S})),n.d(l,"users",(function(){return T})),n.d(l,"madrasas",(function(){return G}));var s={};n.r(s),n.d(s,"addLocation",(function(){return tn})),n.d(s,"getAllLocations",(function(){return nn}));var i=n(0),u=n.n(i),d=n(37),m=n.n(d),p=n(20),h=n(8),f=n(68),b=n(212),g=n(213),v="auth/login",y={isAuthenticated:!1,token:"",redirectTo:"/"},E=function(e){return{type:"auth/signup",meta:{async:!0,blocking:!0,path:"signup",method:"POST",body:{email:e.email,username:e.username,phone:e.phone,password:e.password}}}},O=function(e){var t=e.username,n=e.password;return{type:v,meta:{async:!0,blocking:!0,path:"/api-token-auth/",method:"POST",body:{username:t,password:n}}}},k=function(e){return{type:"auth/logout",meta:{async:!0,blocking:!0,path:"/api-auth/logout/",method:"POST",token:e}}},j=function(e){return{type:"auth/set_user_token",payload:e}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"auth/signup_completed":return Object(h.a)({},e,{isAuthenticated:!0,user:Object(h.a)({},a.user),jwt:a.token,draftSignUp:{},redirectTo:"/dashboard"});case"auth/login_completed":return Object(h.a)({},e,{isAuthenticated:!0,token:a.token,redirectTo:"/"});case"auth/login_failed":return Object(h.a)({},e,{isAuthenticated:!1});case"auth/logout_completed":return Object(h.a)({},e,{isAuthenticated:!1,token:"",redirectTo:"/"});case"auth/set_user_token":return Object(h.a)({},e,{isAuthenticated:!!a,jwt:a});case"auth/reset_password_completed":return Object(h.a)({},e,{redirectTo:"/login"});case"auth/set_user_unauthorized":return Object(h.a)({},e,{isAuthenticated:!1,token:"",redirectTo:"/login"});default:return e}},_={donationRequests:{},requestDetails:{}},w=function(e,t){return{type:"donations/make_request",meta:{async:!0,blocking:!0,path:"/blood_requests/",method:"POST",body:e,token:t}}},A=function(e,t,n){return{type:"donations/update_request",meta:{async:!0,blocking:!0,path:"/blood_requests/".concat(e,"/"),method:"PATCH",body:t,token:n}}},z=function(e,t){return{type:"donations/serve_request",meta:{async:!0,blocking:!0,path:"/history/",method:"POST",body:e,token:t}}},M=function(e){return{type:"donations/get_all_requests",meta:{async:!0,blocking:!0,path:"/blood_requests/",method:"GET",token:e}}},q=function(e,t){return{type:"donations/get_request_by_id",meta:{async:!0,blocking:!0,path:"/blood_requests/".concat(e,"/"),method:"GET",token:t}}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"donations/get_all_requests_completed":return Object(h.a)({},e,{donationRequests:Object(h.a)({},a)});case"donations/get_request_by_id_completed":case"donations/update_request_completed":return Object(h.a)({},e,{requestDetails:a});default:return e}},B={users:{},eligibleDonors:{}},C=function(e,t){return{type:"users/add_user",meta:{async:!0,blocking:!0,path:"/persons/",method:"POST",body:e,token:t}}},U=function(e,t,n){return{type:"users/update_user_info",meta:{async:!0,blocking:!0,path:"/persons/".concat(e,"/"),method:"PATCH",body:t,token:n}}},F=function(e,t){var n=t.blood_group,a=t.madrasa,r=t.place,o=t.gender,c=t.role;return{type:"users/get_all_users",meta:{async:!0,blocking:!0,path:"/persons/?blood_group=".concat(n?encodeURIComponent(n):"","&madrasa=").concat(a||"","&place=").concat(r||"","&gender=").concat(o||"","&role=").concat(c||""),method:"GET",token:e}}},R=function(e,t){var n=t.blood_group,a=t.madrasa,r=t.place,o=t.gender,c=t.role,l=t.mobile;return{type:"users/get_eligible_donors",meta:{async:!0,blocking:!0,path:"/persons/eligible_donors/?blood_group=".concat(n?encodeURIComponent(n):"","&madrasa=").concat(a||"","&place=").concat(r||"","&gender=").concat(o||"","&role=").concat(c||"","&mobile=").concat(l),method:"GET",token:e}}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"users/get_all_users_completed":return Object(h.a)({},e,{users:Object(h.a)({},a)});case"users/get_eligible_donors_completed":return Object(h.a)({},e,{eligibleDonors:Object(h.a)({},a)});default:return e}},D={madrasas:{}},N=function(e,t){return{type:"madrasas/add_madrasa",meta:{async:!0,blocking:!0,path:"/madrasas/",method:"POST",body:e,token:t}}},L=function(e){return{type:"madrasas/get_all_madrasas",meta:{async:!0,blocking:!0,path:"/madrasas/",method:"GET",token:e}}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"madrasas/get_all_madrasas_completed":return Object(h.a)({},e,{madrasas:Object(h.a)({},a)});default:return e}},P=n(13),I=n(14),H=n(16),W=n(15),V=n(17),J=n(21),Y=n.n(J),$=n(61);function K(e){var t=function(t){function n(){return Object(P.a)(this,n),Object(H.a)(this,Object(W.a)(n).apply(this,arguments))}return Object(V.a)(n,t),Object(I.a)(n,[{key:"render",value:function(){var t=this.props.isAuthenticated;return u.a.createElement(i.Fragment,null,t?u.a.createElement(e,this.props):u.a.createElement($.a,{to:"/"}))}}]),n}(i.Component);Y.a.bool;return Object(p.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))(t)}var Q=n(10),X=n.n(Q),Z=n(214),ee=n.n(Z);function te(e,t){return new Promise((function(n,a){e>=200&&e<300?t.then((function(e){return n(e)})):t.then((function(t){return a({status:e,message:t})}))}))}function ne(e){var t;return X.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(204!==e.status){n.next=2;break}return n.abrupt("return","");case 2:return n.prev=2,n.next=5,X.a.awrap(e.data);case 5:return t=n.sent,n.abrupt("return",t);case 9:return n.prev=9,n.t0=n.catch(2),n.abrupt("return",n.t0);case 12:case"end":return n.stop()}}),null,null,[[2,9]])}function ae(e,t){return t&&"multipart"===t?{Authorization:e?"Token ".concat(e):""}:{Accept:"application/json","Content-Type":"application/json",Authorization:e?"Token ".concat(e):""}}var re=function(e){var t,n,a,r,o,c,l;return X.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.url,n=e.method,a=e.body,r=e.type,o=e.token,c={method:n,headers:ae(o,r),data:"GET"!==n?"multipart"!==r?JSON.stringify(a):a:null},s.next=4,X.a.awrap(ee()(t,c));case 4:return l=s.sent,s.abrupt("return",te(l.status,ne(l)));case 6:case"end":return s.stop()}}))},oe="http://localhost:8000",ce=n(98),le=new ce.a,se="".concat(oe).concat("/api/v1"),ie=[v,"auth/signup","auth/fb_login","auth/linkedin_login","auth/google_login"];var ue=function(){return function(e){return function(t){var n=e(t);if(!t.meta||!t.meta.async)return n;var a=t.meta,r=a.path,o=a.method,c=void 0===o?"GET":o,l=a.body,s=a.type,i=a.token;if(!r)throw new Error("'path' not specified for async action ".concat(t.type));var u="".concat(se).concat(r),d=le.getCsrfToken();return t.type===v&&(u="".concat(oe).concat(r)),re({url:u,method:c,body:l,type:s,token:i,csrf:d}).then((function(n){return function(e,t,n){if(ie.includes(t.type)){var a=e.user,r=e.token;a=Object(h.a)({},a),le.setToken(r),le.setUser(a)}else"auth/logout"===t.type&&le.removeToken();return n({type:"".concat(t.type,"_completed"),payload:e,meta:t.meta}),e}(n,t,e)}),(function(n){return function(e,t,n){"auth/logout"===t.type&&le.removeToken();401===e.status?n({type:"auth/set_user_unauthorized",payload:e,meta:t.meta}):n({type:"".concat(t.type,"_failed"),payload:e,meta:t.meta});return Promise.reject(e)}(n,t,e)}))}}},de=Object(f.combineReducers)(l),me=function(e,t){return"auth/logout"===t.type&&(e=Object(h.a)({},e,{auth:{isAuthenticated:!1,token:""}})),de(e,t)};var pe=n(32),he=n(7),fe=n(11);function be(){var e=Object(fe.a)(["\n  html {\n    scroll-behavior: smooth;\n  }\n  body {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: ",";\n    font-size: ",";\n    background-color: ",';\n    min-height: 100vh;\n  }\n  p {\n    line-height: 1.45;\n    font-size: 1em;\n    margin: 0;\n    padding: 0;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    margin: 0;\n    line-height: 1.15;\n  }\n  h1 {\n    font-size: 3.052em;\n  }\n  h2 {\n    font-size: 2.441em;\n  }\n  h3 {\n    font-size: 1.953em;\n  }\n  h4 {\n    font-size: 1.563em;\n  }\n  h5 {\n    font-size: 1.25em;\n  }\n  h6 {\n    font-size: 1em;\n  }\n  :not(pre) > code[class*="language-"], pre[class*="language-"] {\n    background-color: #f0f8fb;\n  }\n']);return be=function(){return e},e}var ge=Object(he.b)(be(),(function(e){return e.theme.typography.fontFamily}),(function(e){return e.theme.typography.fontSize}),(function(e){return e.theme.colors.light})),ve=n(79),ye=n(6);function Ee(){var e=Object(fe.a)(["\n  outline: none;\n  border: none;\n  color: ",";\n  background-color: ",";\n"]);return Ee=function(){return e},e}function Oe(){var e=Object(fe.a)(["\n  outline: none;\n  width: 100%;\n  height: 48px;\n  cursor: pointer;\n  border-radius: 4px;\n  text-transform: uppercase;\n  font-size: ",";\n  border: ",";\n  color: ",";\n  background-color: ",";\n\n  &.btn-small {\n    height: 40px;\n  }\n\n  ",";\n  ",";\n"]);return Oe=function(){return e},e}var ke=he.d.button(Oe(),(function(e){return e.theme.typography.caption.fontSize}),(function(e){return e.theme.borders.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter}),ye.i,ye.k),je=Object(he.d)(ke)(Ee(),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.primary})),xe=function(e){var t=e.children,n=e.variant,a=Object(ve.a)(e,["children","variant"]);switch(n){case"primary":return u.a.createElement(je,a,t);default:return u.a.createElement(ke,a,t)}};function _e(){var e=Object(fe.a)(["\n      border-radius: 4px;\n      background-color: ",";\n    "]);return _e=function(){return e},e}function we(){var e=Object(fe.a)(["\n      width: 100vw;\n      margin: 0 auto;\n    "]);return we=function(){return e},e}function Ae(){var e=Object(fe.a)(["\n  ",";\n  ",";\n\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n"]);return Ae=function(){return e},e}var ze=he.d.div(Ae(),(function(e){return"main"===e.variant&&Object(he.c)(we())}),(function(e){return"card"===e.variant&&Object(he.c)(_e(),(function(e){return e.theme.colors.lighter}))}),ye.e,ye.i,ye.h,ye.k,ye.j),Me=n(233);function qe(){var e=Object(fe.a)(["\n  ",";\n\n  > div {\n    ",";\n  }\n"]);return qe=function(){return e},e}var Se=Object(he.d)(Me.a)(qe(),ye.h,ye.i);function Be(){var e=Object(fe.a)(["\n  display: block;\n  height: 1px;\n  border: 0;\n  border-top: ",";\n  margin: 1em 0;\n  padding: 0;\n\n  ",";\n"]);return Be=function(){return e},e}var Ce=he.d.hr(Be(),(function(e){return e.theme.borders.light}),ye.c);function Ue(){var e=Object(fe.a)(["\n  background-image: url(",");\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-color: ",";\n  ",";\n"]);return Ue=function(){return e},e}var Fe=he.d.div(Ue(),(function(e){return e.imgSrc}),(function(e){return e.theme.colors.light}),ye.h);function Re(){var e=Object(fe.a)(["\n  text-decoration: none;\n  color: ",";\n  ",";\n\n  &:active,\n  &:focus {\n    color: ",";\n  }\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return Re=function(){return e},e}function Te(){var e=Object(fe.a)(["\n  text-decoration: none;\n  color: ",";\n  ",";\n\n  &:active,\n  &:focus {\n    color: ",";\n  }\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return Te=function(){return e},e}var De=Object(he.d)(pe.b)(Te(),(function(e){return e.theme.colors.primary}),ye.e,(function(e){return e.theme.colors.primary})),Ne=he.d.a(Re(),(function(e){return e.theme.colors.primary}),ye.e,(function(e){return e.theme.colors.primary})),Le=function(e){var t=e.children,n=e.variant,a=e.link,r=Object(ve.a)(e,["children","variant","link"]);switch(n){case"offsite":return u.a.createElement(Ne,Object.assign({href:a},r),t);default:return u.a.createElement(De,Object.assign({to:a},r),t)}};function Ge(){var e=Object(fe.a)(["\n  padding: 8px 16px;\n  border-radius: 4px;\n  border: ",";\n  border-color: ",";\n  background-color: ",";\n\n  ",";\n  ",";\n  ","\n  ",";\n  ",";\n\n  input,\n  textarea {\n    border: none;\n    outline: none;\n    width: 100%;\n    height: 100%;\n    padding-bottom: 4px;\n    background-color: ",";\n    font-size: ",";\n    font-family: ",";\n    color: ",";\n\n    ",";\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n\n  textarea {\n    resize: none;\n    height: 95%;\n  }\n"]);return Ge=function(){return e},e}var Pe=he.d.div(Ge(),(function(e){return e.theme.borders.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter}),ye.a,ye.b,ye.d,ye.h,ye.i,(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.typography.caption.fontSize}),(function(e){return e.theme.typography.fontFamily}),(function(e){return e.theme.colors.lightDark}),ye.j,(function(e){return e.theme.colors.placeholder}));function Ie(){var e=Object(fe.a)(["\n  padding: 16px 24px;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n\n  ",";\n  ",";\n"]);return Ie=function(){return e},e}var He=he.d.div(Ie(),ye.e,ye.i);function We(){var e=Object(fe.a)(["\n          cursor: pointer;\n          color: ",";\n\n          ",";\n\n          &:hover {\n            text-decoration: underline;\n          }\n        "]);return We=function(){return e},e}function Ve(){var e=Object(fe.a)(["\n  ",";\n  ",";\n  ",";\n  ","\n"]);return Ve=function(){return e},e}var Je=he.d.span(Ve(),ye.e,ye.f,ye.g,(function(e){switch(e.variant){case"url":return Object(he.c)(We(),(function(e){return e.theme.colors.primary}),ye.e);default:return""}}));function Ye(){var e=Object(fe.a)(["\n  width: 100%;\n  border-collapse: collapse;\n  font-size: ",";\n\n  thead {\n    border-bottom: ",";\n  }\n\n  tr {\n    border-bottom: ",";\n\n    &:last-child {\n      border: none;\n    }\n  }\n\n  th {\n    font-weight: 400;\n    color: ",";\n  }\n\n  td {\n    font-weight: 400;\n    font-size: ",";\n  }\n\n  th,\n  td {\n    padding: 16px;\n  }\n\n  th.text,\n  td.text {\n    text-align: left;\n  }\n\n  th.text-centered,\n  td.text-centered {\n    text-align: center;\n  }\n\n  th.number,\n  td.number {\n    text-align: right;\n  }\n"]);return Ye=function(){return e},e}var $e=he.d.table(Ye(),(function(e){return e.theme.typography.fontSize}),(function(e){return e.theme.borders.light}),(function(e){return e.theme.borders.light}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.typography.caption.fontSize}));function Ke(){var e=Object(fe.a)(["\n  padding: 8px;\n  text-align: center;\n  color: ",";\n  border-top: ",";\n  font-size: ",";\n\n  p {\n    margin: 0;\n    padding: 0;\n    display: inline;\n\n    svg {\n      position: relative;\n      top: 2px;\n      cursor: pointer;\n    }\n  }\n\n  p.prev {\n    margin-right: 24px;\n  }\n\n  p.next {\n    margin-left: 24px;\n  }\n\n  p.table-pagination-info {\n    position: relative;\n\n    &.pull-to-top {\n      top: -5px;\n    }\n  }\n"]);return Ke=function(){return e},e}var Qe=he.d.div(Ke(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.borders.light}),(function(e){return e.theme.typography.caption.fontSize})),Xe=function(e,t){var n,a=t.split(".");if(!e||"object"!==typeof e)return!1;for(;n=a.shift();){if(!e.hasOwnProperty(n))return!1;e=e[n]}return!0};function Ze(){var e=Object(fe.a)(["\n  p {\n    line-height: 1.45;\n    font-size: 1em;\n  }\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin: 0;\n    line-height: 1.15;\n  }\n  h1 {\n    font-size: 3.052em;\n  }\n  h2 {\n    font-size: 2.441em;\n  }\n  h3 {\n    font-size: 1.953em;\n  }\n  h4 {\n    font-size: 1.563em;\n  }\n  h5 {\n    font-size: 1.25em;\n  }\n  h6 {\n    font-size: 1em;\n  }\n\n  ",";\n"]);return Ze=function(){return e},e}function et(){var e=Object(fe.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return et=function(){return e},e}function tt(){var e=Object(fe.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return tt=function(){return e},e}function nt(){var e=Object(fe.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return nt=function(){return e},e}function at(){var e=Object(fe.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return at=function(){return e},e}function rt(){var e=Object(fe.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return rt=function(){return e},e}function ot(){var e=Object(fe.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return ot=function(){return e},e}function ct(){var e=Object(fe.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return ct=function(){return e},e}function lt(){var e=Object(fe.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return lt=function(){return e},e}var st="rgba(0, 0, 0, .8)",it=he.d.h1(lt(),(function(e){var t=e.theme;return Xe(t,"colors.dark")?t.colors.dark:st}),(function(e){var t=e.theme;return Xe(t,"typography.h1")?t.typography.h1.fontSize:"3.052em"}),(function(e){var t=e.theme;return Xe(t,"typography.h1")?t.typography.h1.lineHeight:1.15}),(function(e){var t=e.theme;return Xe(t,"typography.h1")?t.typography.h1.fontWeight:700}),ye.e,ye.i,ye.j),ut=he.d.h2(ct(),(function(e){var t=e.theme;return Xe(t,"colors.dark")?t.colors.dark:st}),(function(e){var t=e.theme;return Xe(t,"typography.h2")?t.typography.h2.fontSize:"2.441em"}),(function(e){var t=e.theme;return Xe(t,"typography.h2")?t.typography.h2.lineHeight:1.15}),(function(e){var t=e.theme;return Xe(t,"typography.h2")?t.typography.h2.fontWeight:700}),ye.e,ye.i,ye.j),dt=he.d.h3(ot(),(function(e){var t=e.theme;return Xe(t,"colors.dark")?t.colors.dark:st}),(function(e){var t=e.theme;return Xe(t,"typography.h3")?t.typography.h3.fontSize:"1.953em"}),(function(e){var t=e.theme;return Xe(t,"typography.h3")?t.typography.h3.lineHeight:1.15}),(function(e){var t=e.theme;return Xe(t,"typography.h3")?t.typography.h3.fontWeight:700}),ye.e,ye.i,ye.j),mt=he.d.h4(rt(),(function(e){var t=e.theme;return Xe(t,"colors.dark")?t.colors.dark:st}),(function(e){var t=e.theme;return Xe(t,"typography.h4")?t.typography.h4.fontSize:"1.563em"}),(function(e){var t=e.theme;return Xe(t,"typography.h4")?t.typography.h4.lineHeight:1.15}),(function(e){var t=e.theme;return Xe(t,"typography.h4")?t.typography.h4.fontWeight:700}),ye.e,ye.i,ye.j),pt=he.d.h5(at(),(function(e){var t=e.theme;return Xe(t,"colors.dark")?t.colors.dark:st}),(function(e){var t=e.theme;return Xe(t,"typography.h5")?t.typography.h5.fontSize:"1.25em"}),(function(e){var t=e.theme;return Xe(t,"typography.h5")?t.typography.h5.lineHeight:1.15}),(function(e){var t=e.theme;return Xe(t,"typography.h5")?t.typography.h5.fontWeight:700}),ye.e,ye.i,ye.j),ht=he.d.h6(nt(),(function(e){var t=e.theme;return Xe(t,"colors.dark")?t.colors.dark:st}),(function(e){var t=e.theme;return Xe(t,"typography.h6")?t.typography.h6.fontSize:"1em"}),(function(e){var t=e.theme;return Xe(t,"typography.h6")?t.typography.h6.lineHeight:1.15}),(function(e){var t=e.theme;return Xe(t,"typography.h6")?t.typography.h6.fontWeight:700}),ye.e,ye.i,ye.j),ft=he.d.p(tt(),(function(e){var t=e.theme;return Xe(t,"colors.dark")?t.colors.dark:st}),(function(e){var t=e.theme;return Xe(t,"typography.body")?t.typography.body.fontSize:"1em"}),(function(e){var t=e.theme;return Xe(t,"typography.body")?t.typography.body.lineHeight:1.45}),(function(e){var t=e.theme;return Xe(t,"typography.body")?t.typography.body.fontWeight:400}),ye.e,ye.i,ye.j),bt=he.d.p(et(),(function(e){var t=e.theme;return Xe(t,"colors.dark")?t.colors.dark:st}),(function(e){var t=e.theme;return Xe(t,"typography.caption")?t.typography.caption.fontSize:"0.8em"}),(function(e){var t=e.theme;return Xe(t,"typography.caption")?t.typography.caption.lineHeight:1.45}),(function(e){var t=e.theme;return Xe(t,"typography.caption")?t.typography.caption.fontWeight:400}),ye.e,ye.i,ye.j),gt=he.d.div(Ze(),ye.i),vt=function(e){var t=e.variant,n=(e.theme,e.children),a=e.html,r=Object(ve.a)(e,["variant","theme","children","html"]);switch(t){case"h1":return u.a.createElement(it,r,n);case"h2":return u.a.createElement(ut,r,n);case"h3":return u.a.createElement(dt,r,n);case"h4":return u.a.createElement(mt,r,n);case"h5":return u.a.createElement(pt,r,n);case"h6":return u.a.createElement(ht,r,n);case"caption":return u.a.createElement(bt,r,n);case"raw":return u.a.createElement(gt,Object.assign({dangerouslySetInnerHTML:{__html:a}},r));default:return u.a.createElement(ft,r,n)}},yt=function(e){var t=e.children;return u.a.createElement(ze,{variant:"main"},u.a.createElement(ge,null),t)},Et=n(217),Ot=n.n(Et),kt=n(218),jt=n.n(kt),xt=n(219),_t=n.n(xt),wt=n(220),At=n.n(wt),zt=n(221),Mt=n.n(zt),qt=n(222),St=n.n(qt);function Bt(){var e=Object(fe.a)(["\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n\n      span {\n        cursor: pointer;\n        display: flex;\n        height: 60px;\n        line-height: 60px;\n        padding: 0 24px;\n        font-size: ",";\n        color: ",";\n        border-top: ",";\n      }\n    "]);return Bt=function(){return e},e}function Ct(){var e=Object(fe.a)(["\n      a {\n        background-color: ",";\n        color: ",";\n      }\n    "]);return Ct=function(){return e},e}function Ut(){var e=Object(fe.a)(["\n  a {\n    text-decoration: none;\n    display: flex;\n    height: 60px;\n    line-height: 60px;\n    padding: 0 24px;\n    font-size: ",";\n    border-bottom: ",";\n    color: ",";\n\n    &:active,\n    &:focus {\n      color: ",";\n    }\n  }\n\n  a,\n  span {\n    .menu-mdi {\n      margin-top: 16px;\n      margin-right: 8px;\n    }\n  }\n\n  ",";\n  ",";\n"]);return Ut=function(){return e},e}function Ft(){var e=Object(fe.a)(["\n  width: 280px;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: ",";\n\n  ul {\n    margin: 0;\n    padding: 0;\n    height: 100%;\n    list-style: none;\n    position: relative;\n  }\n"]);return Ft=function(){return e},e}var Rt=he.d.div(Ft(),(function(e){return e.theme.colors.lighter})),Tt=he.d.li(Ut(),(function(e){return e.theme.typography.caption.fontSize}),(function(e){return e.theme.borders.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return"primary"===e.variant&&Object(he.c)(Ct(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter}))}),(function(e){return"bottom-item"===e.variant&&Object(he.c)(Bt(),(function(e){return e.theme.typography.caption.fontSize}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.borders.primary}))})),Dt={logout:a.logout},Nt=Object(p.b)(null,Dt)((function(e){var t=e.logout;return u.a.createElement(Rt,null,u.a.createElement("ul",null,u.a.createElement(Tt,{variant:"primary"},u.a.createElement(pe.c,{to:"/"},"BRF Blood Bank Database")),u.a.createElement(Tt,null,u.a.createElement(pe.c,{to:"/feeds"},u.a.createElement(_t.a,{className:"menu-mdi"})," Home")),u.a.createElement(Tt,null,u.a.createElement(pe.c,{to:"/search"},u.a.createElement(St.a,{className:"menu-mdi"})," Search")),u.a.createElement(Tt,null,u.a.createElement(pe.c,{to:"/add-user"},u.a.createElement(Ot.a,{className:"menu-mdi"})," Add User")),u.a.createElement(Tt,null,u.a.createElement(pe.c,{to:"/blood-requests"},u.a.createElement(At.a,{className:"menu-mdi"})," Blood Requests")),u.a.createElement(Tt,null,u.a.createElement(pe.c,{to:"/madrasas"},u.a.createElement(jt.a,{className:"menu-mdi"})," Madrasas")),u.a.createElement(Tt,{variant:"bottom-item",onClick:t},u.a.createElement("span",null,u.a.createElement(Mt.a,{className:"menu-mdi"}),"Logout"))))})),Lt=n(224),Gt=n(223);function Pt(){var e=Object(fe.a)(["\n  ",";\n\n  .styled__control {\n    border-color: ",";\n\n    &:hover {\n      border-color: ",";\n    }\n\n    ",";\n  }\n\n  .styled__menu {\n    z-index: 10;\n  }\n\n  .styled__control--is-focused {\n    border: 1px solid ",";\n    box-shadow: none;\n\n    &:hover {\n      border: 1px solid ",";\n    }\n  }\n\n  .styled__placeholder {\n    color: ",";\n  }\n\n  .styled__placeholder,\n  .styled__single-value,\n  .styled__menu {\n    font-size: ",";\n  }\n"]);return Pt=function(){return e},e}var It=he.d.div(Pt(),ye.i,(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),ye.h,(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.placeholder}),(function(e){return e.theme.typography.caption.fontSize})),Ht={indicatorsContainer:function(e,t){return Object(h.a)({},e,{borderColor:"green"})},option:function(e,t){return Object(h.a)({},e)},singleValue:function(e,t){var n=t.isDisabled?.5:1;return Object(h.a)({},e,{opacity:n,transition:"opacity 300ms"})}},Wt=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){n.props.onChange(n.props.keyName,e)},n.handleBlur=function(){n.props.onBlur(n.props.keyName,!0)},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return u.a.createElement(It,Object.assign({},this.props.margin,this.props.padding,this.props.size,{className:this.props.selectClass}),this.props.async?u.a.createElement(i.Fragment,null,u.a.createElement(Gt.a,Object.assign({},this.props,{onChange:this.handleChange,onBlur:this.handleBlur,styles:Ht,classNamePrefix:"styled"})),!!this.props.error&&this.props.touched&&u.a.createElement(vt,{variant:"caption",color:"error",mt:8},this.props.error)):u.a.createElement(i.Fragment,null,u.a.createElement(Lt.a,Object.assign({},this.props,{onChange:this.handleChange,onBlur:this.handleBlur,styles:Ht,classNamePrefix:"styled"})),!!this.props.error&&this.props.touched&&u.a.createElement(vt,{variant:"caption",color:"error",mt:8},this.props.error)))}}]),t}(i.Component),Vt=n(225),Jt=n.n(Vt);n(262);function Yt(){var e=Object(fe.a)(["\n  padding: 6px 16px;\n  border-radius: 4px;\n  border: ",";\n  border-color: ",";\n  background-color: ",";\n\n  .react-datepicker-wrapper,\n  .react-datepicker__input-container {\n    width: 100%;\n  }\n\n  input {\n    border: none;\n    outline: none;\n    width: 100%;\n    padding-bottom: 4px;\n    background-color: ",";\n    font-size: ",";\n    color: ",";\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n\n  ",";\n"]);return Yt=function(){return e},e}var $t=he.d.div(Yt(),(function(e){return e.theme.borders.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.typography.caption.fontSize}),(function(e){return e.theme.colors.lightDark}),(function(e){return e.theme.colors.placeholder}),ye.i),Kt=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){n.props.onChange(n.props.keyName,e)},n.handleBlur=function(){n.props.onBlur(n.props.keyName,!0)},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return u.a.createElement(i.Fragment,null,u.a.createElement($t,Object.assign({},this.props.margin,this.props.padding,this.props.size),u.a.createElement(Jt.a,Object.assign({},this.props,{onChange:this.handleChange,onBlur:this.handleBlur,className:"date-picker-input"}))),!!this.props.error&&this.props.touched&&u.a.createElement(vt,{variant:"caption",color:"error",mt:8,mb:16},this.props.error))}}]),t}(i.Component),Qt=function(e){var t=e.children;return u.a.createElement(ze,{pl:280},u.a.createElement(ge,null),u.a.createElement(Nt,null),u.a.createElement(ze,{p:24},t))},Xt=function(){return u.a.createElement(yt,null,u.a.createElement(Se,{valign:"center",halign:"justify-center",height:"100vh"},u.a.createElement(Se.Unit,{size:{xs:1,sm:1}},u.a.createElement(vt,{variant:"h4",textAlign:"center"},"(404) Not found"),u.a.createElement(vt,{textAlign:"center",mt:16},"Back to ",u.a.createElement(Le,{link:"/"},"Home")))))},Zt=n(18),en=n(12),tn=function(e,t){return{type:"locations/add_location",meta:{async:!0,blocking:!0,path:"/places/",method:"POST",body:e,token:t}}},nn=function(e){return{type:"locations/get_all_locations",meta:{async:!0,blocking:!0,path:"/places/",method:"GET",token:e}}},an=function(e,t){if(e&&e.length){for(var n=[],a=0;a<e.length;a++)n.push({value:e[a].id,label:t?e[a][t]:e[a].name});return n}return[]},rn=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={madrasaOptions:[],locationOptions:[]},n.handleClearForm=function(){(0,n.props.resetForm)({name:"",selectedLocation:"",selectedGender:"",selectedRole:"",selectedMadrasa:"",selectedBloodGroup:"",date_of_birth:"",address:"",mobile:"",last_donated_on:"",last_received_on:"",emergency_contact_name:"",emergency_contact_phone:""})},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,a,r,o,c,l;return X.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.props,t=e.getAllLocations,n=e.getAllMadrasas,a=e.token,s.next=3,X.a.awrap(t(a));case 3:return r=s.sent,s.next=6,X.a.awrap(n(a));case 6:o=s.sent,c=[],l=[],o.count>0&&(c=an(o.results),this.setState(Object(h.a)({},this.state,{madrasaOptions:c}))),r.count>0&&(l=an(r.results,"upazila"),this.setState(Object(h.a)({},this.state,{locationOptions:l})));case 10:case"end":return s.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors,a=e.setFieldValue,r=e.setFieldTouched,o=e.values,c=this.state,l=c.madrasaOptions,s=c.locationOptions;return u.a.createElement(ze,{width:600,m:"0 auto"},u.a.createElement(Zt.b,null,u.a.createElement(Se,null,u.a.createElement(Se.Unit,{size:{xs:1,sm:1}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Name"),u.a.createElement(Pe,{mb:16,mt:8},u.a.createElement(Zt.a,{type:"text",name:"name",placeholder:"Enter fullname"})),t.name&&n.name&&u.a.createElement(vt,{variant:"caption",color:"error",mt:8,mb:8},n.name))),u.a.createElement(Se.Unit,{size:{xs:1,sm:2/3}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Location"),u.a.createElement(Wt,{isMulti:!1,value:o.selectedLocation,keyName:"selectedLocation",onChange:a,onBlur:r,error:n.selectedLocation,touched:t.selectedLocation,placeholder:"Select a location",options:s,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(Se.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Blood Group"),u.a.createElement(Wt,{isMulti:!1,value:o.selectedBloodGroup,keyName:"selectedBloodGroup",onChange:a,onBlur:r,error:n.selectedBloodGroup,touched:t.selectedBloodGroup,placeholder:"Select a group",options:[{value:"A+",label:"A+"},{value:"A-",label:"A-"},{value:"B+",label:"B+"},{value:"B-",label:"B-"},{value:"O+",label:"O+"},{value:"O-",label:"O-"},{value:"AB+",label:"AB+"},{value:"AB-",label:"AB-"}],margin:{mt:8},size:{height:40}}))),u.a.createElement(Se.Unit,{size:{xs:1,sm:1}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Madrassa"),u.a.createElement(Wt,{isMulti:!1,value:o.selectedMadrasa,keyName:"selectedMadrasa",onChange:a,onBlur:r,error:n.selectedMadrasa,touched:t.selectedMadrasa,placeholder:"Select a madrassa",options:l,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(Se.Unit,{size:{xs:1,sm:2/3}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Date of birth"),u.a.createElement(Kt,{keyName:"date_of_birth",onChange:a,onBlur:r,error:n.date_of_birth,touched:t.date_of_birth,placeholderText:"Add birth date",selected:o.date_of_birth,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",dateFormat:"dd/MM/yyyy",className:"date-picker",margin:{mt:8}}))),u.a.createElement(Se.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Gender"),u.a.createElement(Wt,{isMulti:!1,value:o.selectedGender,keyName:"selectedGender",onChange:a,onBlur:r,error:n.selectedGender,touched:t.selectedGender,placeholder:"Select gender",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(Se.Unit,{size:{xs:1,sm:2/3}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Address"),u.a.createElement(Pe,{mb:16,mt:8},u.a.createElement(Zt.a,{type:"text",name:"address",placeholder:"Enter full address"})),t.address&&n.address&&u.a.createElement(vt,{variant:"caption",color:"error",mt:8,mb:8},n.address))),u.a.createElement(Se.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Mobile"),u.a.createElement(Pe,{mb:16,mt:8},u.a.createElement(Zt.a,{type:"text",name:"mobile",placeholder:"Enter mobile number"})),t.mobile&&n.mobile&&u.a.createElement(vt,{variant:"caption",color:"error",mt:8,mb:8},n.mobile))),u.a.createElement(Se.Unit,{size:{xs:1,sm:2/3}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Emergency contact"),u.a.createElement(Pe,{mb:16,mt:8},u.a.createElement(Zt.a,{type:"text",name:"emergency_contact_name",placeholder:"Enter contact fullname"})),t.emergency_contact_name&&n.emergency_contact_name&&u.a.createElement(vt,{variant:"caption",color:"error",mt:8,mb:8},n.emergency_contact_name))),u.a.createElement(Se.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Contact Phone"),u.a.createElement(Pe,{mb:16,mt:8},u.a.createElement(Zt.a,{type:"text",name:"emergency_contact_phone",placeholder:"Enter mobile number"})),t.emergency_contact_phone&&n.emergency_contact_phone&&u.a.createElement(vt,{variant:"caption",color:"error",mt:8,mb:8},n.emergency_contact_phone))),u.a.createElement(Se.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Last donated"),u.a.createElement(Kt,{keyName:"last_donated_on",onChange:a,onBlur:r,error:n.last_donated_on,touched:t.last_donated_on,placeholderText:"Last doantion date",selected:o.last_donated_on,showMonthDropdown:!0,showYearDropdown:!0,showTimeSelect:!0,dropdownMode:"select",timeFormat:"HH:mm",dateFormat:"MMM d, yyyy h:mm aa",className:"date-picker",margin:{mt:8}}))),u.a.createElement(Se.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Last received date"),u.a.createElement(Kt,{keyName:"last_received_on",onChange:a,onBlur:r,error:n.last_received_on,touched:t.last_received_on,placeholderText:"Last received date",selected:o.last_received_on,showMonthDropdown:!0,showYearDropdown:!0,showTimeSelect:!0,dropdownMode:"select",timeFormat:"HH:mm aa",dateFormat:"MMM d, yyyy h:mm aa",className:"date-picker",margin:{mt:8}}))),u.a.createElement(Se.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Role"),u.a.createElement(Wt,{isMulti:!1,value:o.selectedRole,keyName:"selectedRole",onChange:a,onBlur:r,error:n.selectedRole,touched:t.selectedRole,placeholder:"Select a role",options:[{value:"Donor",label:"Donor"},{value:"Receiver",label:"Receiver"},{value:"Both",label:"Both"}],margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(Se.Unit,{size:{xs:.5,sm:.5}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(xe,{mt:24,type:"button",onClick:this.props.onClear||this.handleClearForm},"Cancel"))),u.a.createElement(Se.Unit,{size:{xs:.5,sm:.5}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(xe,{type:"submit",variant:"primary",mt:24},"Add User"))))))}}]),t}(i.Component),on=Object(Zt.c)({mapPropsToValues:function(){return{name:"",selectedLocation:"",selectedGender:"",selectedRole:"",selectedMadrasa:"",selectedBloodGroup:"",date_of_birth:"",address:"",mobile:"",last_donated_on:"",last_received_on:"",emergency_contact_name:"",emergency_contact_phone:""}},validationSchema:en.object().shape({name:en.string().required("Fullname is required"),selectedLocation:en.object().required("Location is required"),selectedGender:en.object().required("Gender is required"),selectedRole:en.object().required("Role is required"),selectedMadrasa:en.object().nullable(),selectedBloodGroup:en.object().required("Blood group is required"),date_of_birth:en.string().required("Date of birth is required"),address:en.string(),mobile:en.string().required("Phone number is required"),last_donated_on:en.date().nullable(),last_received_on:en.date().nullable(),emergency_contact_name:en.string().required("Emergency contact is required"),emergency_contact_phone:en.string()}),handleSubmit:function(e,t){var n,a,r,o,c,l,s,i,u;return X.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(n=t.props,t.setErrors,a=t.setSubmitting,r=t.resetForm,d.prev=1,o=n.addUser,c=n.onAddUser,l=n.token,s=n.history,(i=Object(h.a)({},e)).date_of_birth=e.date_of_birth.toISOString(),i.blood_group=e.selectedBloodGroup.value,i.role=e.selectedRole.value,i.gender=e.selectedGender.value,i.madrasa=e.selectedMadrasa.value,i.place=e.selectedLocation.value,i.date_of_birth&&(i.date_of_birth=i.date_of_birth.split("T")[0]),e.last_donated_on?i.last_donated_on=e.last_donated_on:i.last_donated_on=null,e.last_received_on?i.last_received_on=e.last_donated_on:i.last_received_on=null,!c){d.next=17;break}c(i),d.next=23;break;case 17:return d.next=19,X.a.awrap(o(i,l));case 19:u=d.sent,a(),r(),u.id&&s.push("/feeds");case 23:d.next=28;break;case 25:d.prev=25,d.t0=d.catch(1),console.log(d.t0);case 28:case"end":return d.stop()}}),null,null,[[1,25]])}})(rn),cn={getAllMadrasas:c.getAllMadrasas,getAllLocations:s.getAllLocations,addUser:o.addUser},ln=Object(p.b)((function(e){return{token:e.auth.token}}),cn)(Object($.g)(on)),sn=function(){return u.a.createElement(Qt,null,u.a.createElement(He,{bg:"primary"},u.a.createElement(vt,{variant:"h4",color:"lighter",textAlign:"center"},"Add User")),u.a.createElement(ze,{variant:"card",p:24,pb:64},u.a.createElement(ln,null)))},un=n(118),dn=n(80),mn=n.n(dn),pn=document.getElementById("root");mn.a.setAppElement(pn);var hn={overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",height:"560px",transform:"translate(-50%, -50%)"}},fn=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={userOptions:[],isModalOpen:!1},n.handleClearForm=function(){(0,n.props.resetForm)({selectedUser:"",request_date:"",reason:""})},n.handleOpenModal=function(){n.setState(Object(h.a)({},n.state,{isModalOpen:!0}))},n.handleCloseModal=function(){n.setState(Object(h.a)({},n.state,{isModalOpen:!1}))},n.handleAddUser=function(e){var t,a,r,o,c,l,s,i;return X.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t=n.props,a=t.addUser,r=t.getAllUsers,o=t.setFieldValue,c=t.token,u.next=3,X.a.awrap(a(e,c));case 3:return l=u.sent,u.next=6,X.a.awrap(r(c));case 6:s=u.sent,i=[],s.count>0&&(i=an(s.results),n.setState(Object(h.a)({},n.state,{userOptions:i}))),l.id&&(o("selectedUser",{value:l.id,label:l.name}),n.handleCloseModal());case 10:case"end":return u.stop()}}))},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,a,r;return X.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.props,t=e.getAllUsers,n=e.token,o.next=3,X.a.awrap(t(n,{}));case 3:a=o.sent,r=[],a.count>0&&(r=an(a.results),this.setState(Object(h.a)({},this.state,{userOptions:r})));case 6:case"end":return o.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors,a=e.setFieldValue,r=e.setFieldTouched,o=e.values,c=this.state.userOptions;return u.a.createElement(ze,null,u.a.createElement(Zt.b,null,u.a.createElement(Se,null,u.a.createElement(Se.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Request for"),u.a.createElement(Wt,{isMulti:!1,value:o.selectedUser,keyName:"selectedUser",onChange:a,onBlur:r,error:n.selectedUser,touched:t.selectedUser,placeholder:"Select a user",options:c,margin:{mt:8},size:{height:40}}))),u.a.createElement(Se.Unit,{size:{xs:1,sm:1/12}},u.a.createElement(vt,{pt:32,textAlign:"center"},"or")),u.a.createElement(Se.Unit,{size:{xs:1,sm:.25}},u.a.createElement(ze,{mr:16},u.a.createElement(xe,{variant:"primary",type:"button",mt:28,className:"btn-small",onClick:this.handleOpenModal},"Add User"))),u.a.createElement(Se.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Request date"),u.a.createElement(Kt,{keyName:"request_date",onChange:a,onBlur:r,error:n.request_date,touched:t.request_date,placeholderText:"Add request date",selected:o.request_date,showMonthDropdown:!0,showYearDropdown:!0,showTimeSelect:!0,dropdownMode:"select",timeFormat:"HH:mm",dateFormat:"MMM d, yyyy h:mm aa",className:"date-picker",margin:{mt:8}}))),u.a.createElement(Se.Unit,{size:{xs:1,sm:1}},u.a.createElement(ze,{pl:8,pr:8,mt:16},u.a.createElement(vt,{variant:"caption"},"Reason"),u.a.createElement(Pe,{mb:16,mt:8,height:100},u.a.createElement(Zt.a,{component:"textarea",name:"reason",placeholder:"Enter reason"})),t.reason&&n.reason&&u.a.createElement(vt,{variant:"caption",color:"error",mt:8,mb:8},n.reason))),u.a.createElement(Se.Unit,{size:{xs:.5,sm:.5}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(xe,{mt:30,className:"btn-small",type:"button",onClick:this.handleClearForm},"Clear"))),u.a.createElement(Se.Unit,{size:{xs:.5,sm:.5}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(xe,{type:"submit",variant:"primary",mt:30,className:"btn-small"},"Make Request"))))),u.a.createElement(mn.a,{isOpen:this.state.isModalOpen,onRequestClose:this.handleCloseModal,style:hn,contentLabel:"Add User Modal"},u.a.createElement(ze,null,u.a.createElement(ln,{onClear:this.handleCloseModal,onAddUser:this.handleAddUser}))))}}]),t}(i.Component),bn=Object(Zt.c)({mapPropsToValues:function(){return{selectedUser:"",request_date:"",reason:""}},validationSchema:en.object().shape({selectedUser:en.object().required(),request_date:en.string().required(),reason:en.string().required()}),handleSubmit:function(e,t){var n,a,r,o,c,l,s,i;return X.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.props,t.setErrors,a=t.setSubmitting,r=t.resetForm,u.prev=1,o=n.makeRequest,c=n.getAllRequests,l=n.token,(s=e).receiver=e.selectedUser.value,u.next=7,X.a.awrap(o(s,l));case 7:if(i=u.sent,a(),r(),!i.id){u.next=13;break}return u.next=13,X.a.awrap(c(l));case 13:u.next=18;break;case 15:u.prev=15,u.t0=u.catch(1),console.log(u.t0);case 18:a();case 19:case"end":return u.stop()}}),null,null,[[1,15]])}})(fn),gn={addUser:o.addUser,getAllUsers:o.getAllUsers,makeRequest:r.makeRequest,getAllRequests:r.getAllRequests},vn=Object(p.b)((function(e){return{token:e.auth.token}}),gn)(Object($.g)(bn)),yn=n(458),En=document.getElementById("root");mn.a.setAppElement(En);var On={overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",height:"520px",transform:"translate(-50%, -50%)"}},kn=function(e){var t=e.request,n=e.showDevider,a=Object(i.useState)(!1),r=Object(un.a)(a,2),o=r[0],c=r[1];return u.a.createElement(i.Fragment,null,u.a.createElement(vt,null,u.a.createElement(Je,{fontWeight:"bold"},t.receiver.name)," ","requested fro"," ",u.a.createElement(Je,{color:"primary",fontWeight:"bold"},t.receiver.blood_group)," ","blood on"," ",u.a.createElement(Je,{fontWeight:"bold"},Object(yn.default)(new Date(t.request_date),"MMMM dd, yyyy",{})),"."," ",u.a.createElement(Je,{variant:"url",onClick:function(){c(!0)}},"See details")),n?u.a.createElement(Ce,null):"",u.a.createElement(mn.a,{isOpen:o,onRequestClose:function(){c(!1)},style:On,contentLabel:"Add User Modal"},u.a.createElement(An,{handleCloseModal:function(){c(!1)},requestId:t.id})))},jn=n(234),xn=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={requestId:void 0,donorOptions:[]},n.searchEligibleDonors=function(e){var t,a,r,o,c,l,s;return X.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=n.props,a=t.requestDetails,r=t.getEligibleDonors,o=t.token,c=Object(jn.a)(r,500),i.next=4,X.a.awrap(c(o,{blood_group:a.receiver.blood_group,mobile:e}));case 4:if(!((l=i.sent).count>0)){i.next=9;break}return s=an(l.results,"mobile"),n.setState(Object(h.a)({},n.state,{donorOptions:s})),i.abrupt("return",s);case 9:case"end":return i.stop()}}))},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,a,r,o,c,l;return X.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e=this.props,t=e.requestId,n=e.getRequestById,a=e.getEligibleDonors,r=e.token,t===this.state.requestId){s.next=10;break}return this.setState(Object(h.a)({},this.state,{requestId:t})),s.next=5,X.a.awrap(n(t,r));case 5:return o=s.sent,s.next=8,X.a.awrap(a(r,{blood_group:o.receiver.blood_group}));case 8:(c=s.sent).count>0&&(l=an(c.results,"mobile"),this.setState(Object(h.a)({},this.state,{donorOptions:l})));case 10:case"end":return s.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props,t=e.requestDetails,n=e.setFieldValue,a=e.setFieldTouched,r=e.errors,o=e.touched,c=e.values,l=e.handleCloseModal,s=this.state.donorOptions;return u.a.createElement(i.Fragment,null,t.receiver?u.a.createElement(ze,{width:560},u.a.createElement(vt,{variant:"h5",color:"primary"},t.receiver.name),u.a.createElement(Ce,null),u.a.createElement(vt,{mb:8},"Blood Group:"," ",u.a.createElement(Je,{color:"primary",fontWeight:700},t.receiver.blood_group)),u.a.createElement(vt,{mb:8},"Request Date:"," ",u.a.createElement(Je,{color:"primary",fontWeight:700},Object(yn.default)(new Date(t.request_date),"MMMM dd, yyyy",{}))),u.a.createElement(vt,{mb:8},"Address:"," ",u.a.createElement(Je,{color:"primary",fontWeight:700},t.receiver.address||"Not mentioned")),u.a.createElement(Ce,null),u.a.createElement(vt,{mb:8},"Reason:"),u.a.createElement(vt,{color:"primary"},t.reason||"Not mentioned"),u.a.createElement(Ce,null),t.is_served?u.a.createElement(u.a.Fragment,null,u.a.createElement(vt,null,"Request has been served."),u.a.createElement(ze,{textAlign:"right",mt:144},u.a.createElement(xe,{width:120,mr:16,type:"button",onClick:l},"Close"))):u.a.createElement(Zt.b,null,u.a.createElement(Se,{mb:16},u.a.createElement(Se.Unit,{size:{xs:1}},u.a.createElement(vt,{mb:8},"Select Donor:"),u.a.createElement(Wt,{async:!0,isMulti:!1,value:c.selectedDonor,keyName:"selectedDonor",onChange:n,onBlur:a,error:r.selectedDonor,touched:o.selectedDonor,placeholder:"Select a donor",defaultOptions:s,loadOptions:this.searchEligibleDonors,margin:{mt:8},size:{height:40}})),u.a.createElement(Se.Unit,{size:{xs:1}},u.a.createElement(vt,{mb:8},"Donation Date:"),u.a.createElement(Kt,{keyName:"donation_date",onChange:n,onBlur:a,error:r.donation_date,touched:o.donation_date,placeholderText:"Add donation date",selected:c.donation_date,showMonthDropdown:!0,showYearDropdown:!0,showTimeSelect:!0,dropdownMode:"select",timeFormat:"HH:mm",dateFormat:"MMM d, yyyy h:mm aa",className:"date-picker",margin:{mt:8}}))),u.a.createElement(ze,{textAlign:"right",mt:56},u.a.createElement(xe,{width:120,mr:16,type:"button",onClick:l},"Cancel")," ",u.a.createElement(xe,{variant:"primary",width:120,type:"submit"},"Complete")))):u.a.createElement(vt,{variant:"h5"},"Loading..."))}}]),t}(i.Component),_n=Object(Zt.c)({mapPropsToValues:function(){return{selectedDonor:"",donation_date:new Date}},validationSchema:en.object().shape({selectedDonor:en.object().required("Donor must be selected"),donation_date:en.string().required("Donation date must be provided")}),handleSubmit:function(e,t){var n,a,r,o,c,l,s,i,u,d;return X.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return n=t.props,t.setErrors,a=t.setSubmitting,t.resetForm,m.prev=1,r=n.handleCloseModal,o=n.requestId,c=n.serveRequest,l=n.updateRequest,s=n.updateUserInfo,i=n.token,u={donation_date:e.donation_date,donor:e.selectedDonor.value,request:o},m.next=6,X.a.awrap(c(u,i));case 6:if(!(d=m.sent).id){m.next=12;break}return m.next=10,X.a.awrap(s(u.donor,{last_donated_on:u.donation_date},i));case 10:return m.next=12,X.a.awrap(l(o,{is_served:!0},i));case 12:a(),d.id&&r(),m.next=19;break;case 16:m.prev=16,m.t0=m.catch(1),console.log(m.t0);case 19:a();case 20:case"end":return m.stop()}}),null,null,[[1,16]])}})(xn),wn={getRequestById:r.getRequestById,updateRequest:r.updateRequest,serveRequest:r.serveRequest,getEligibleDonors:o.getEligibleDonors,updateUserInfo:o.updateUserInfo},An=Object(p.b)((function(e){var t=e.auth,n=e.donations,a=e.users;return{token:t.token,requestDetails:n.requestDetails,eligibleDonors:a.eligibleDonors}}),wn)(_n),zn=function(e){var t=e.donationRequests,n=Object(i.useState)(!1),a=Object(un.a)(n,2),r=a[0],o=a[1];return u.a.createElement(Qt,null,r&&u.a.createElement(i.Fragment,null,u.a.createElement(xe,{onClick:function(){o(!1)},mb:24,variant:"primary"},"Hide form"),u.a.createElement(ze,{variant:"card",p:24,mb:24},u.a.createElement(vn,null))),!r&&u.a.createElement(xe,{variant:"primary",onClick:function(){o(!0)}},"Create new request"),u.a.createElement(He,{bg:"primary",mt:24},u.a.createElement(vt,{variant:"h6",color:"lighter"},"Latest requests")),u.a.createElement(ze,{variant:"card",p:24},t.count>0?t.results.map((function(e,n){return u.a.createElement(kn,{request:e,showDevider:n!==t.results.length-1,key:e.id})})):""))},Mn=function(e){return u.a.createElement(Qt,null,u.a.createElement(Se,null,u.a.createElement(Se.Unit,{size:{xs:.5,sm:1/3}},u.a.createElement(ze,{mr:24},u.a.createElement(He,{bg:"primary"},u.a.createElement(vt,{variant:"body",color:"lighter",textAlign:"center"},"Total Users")),u.a.createElement(ze,{variant:"card",p:24},u.a.createElement(vt,{textAlign:"center",variant:"44"},e.users.count||0)))),u.a.createElement(Se.Unit,{size:{xs:.5,sm:1/3}},u.a.createElement(ze,{mr:24},u.a.createElement(He,{bg:"primary"},u.a.createElement(vt,{variant:"body",color:"lighter",textAlign:"center"},"Total Madrasas")),u.a.createElement(ze,{variant:"card",p:24},u.a.createElement(vt,{textAlign:"center",variant:"44"},e.madrasas.count||0)))),u.a.createElement(Se.Unit,{size:{xs:.5,sm:1/3}},u.a.createElement(ze,{mr:24},u.a.createElement(He,{bg:"primary"},u.a.createElement(vt,{variant:"body",color:"lighter",textAlign:"center"},"Total Requests")),u.a.createElement(ze,{variant:"card",p:24},u.a.createElement(vt,{textAlign:"center",variant:"44"},e.donationRequests.count||0))))))},qn=function(){return u.a.createElement(ze,null,u.a.createElement(vt,{variant:"h2",color:"lighter"},"BRF ",u.a.createElement("br",null),"Blood Bank ",u.a.createElement("br",null)," Database"),u.a.createElement(vt,{variant:"body",color:"lighter"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestias libero laudantium velit doloribus numquam, corrupti! Ipsum aperiam doloribus, ad saepe distinctio eius, doloremque id! Numquam minima, molestias dolorum! Unde, natus."))},Sn=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors;return u.a.createElement(Zt.b,null,u.a.createElement(ze,{variant:"card",p:24,maxWidth:320},u.a.createElement(Pe,{border:"none",borderBottom:"1px solid #FF7275",borderRadius:0,mb:16,textAlign:"center"},u.a.createElement(Zt.a,{type:"text",name:"username",placeholder:"username or email"})),t.username&&n.username&&u.a.createElement(vt,{variant:"caption",color:"error",mt:8,mb:8},n.username),u.a.createElement(Pe,{border:"none",borderBottom:"1px solid #FF7275",borderRadius:0,mb:16,textAlign:"center"},u.a.createElement(Zt.a,{type:"password",name:"password",placeholder:"password"})),t.password&&n.password&&u.a.createElement(vt,{variant:"caption",color:"error",mt:8,mb:8},n.password),u.a.createElement(xe,{type:"submit",variant:"primary",mt:16},"Login")))}}]),t}(i.Component),Bn=Object(Zt.c)({mapPropsToValues:function(){return{username:"",password:""}},validationSchema:en.object().shape({username:en.string().required("Username is required"),password:en.string().required("Password is required")}),handleSubmit:function(e,t){var n,a,r,o,c,l;return X.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.props,a=t.setErrors,r=t.setSubmitting,t.resetForm,s.prev=1,o=n.login,c=e.username,l=e.password,console.log(e),s.next=7,X.a.awrap(o({username:c,password:l}));case 7:r(),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(1),a({password:"Username or password not correct"});case 13:r();case 14:case"end":return s.stop()}}),null,null,[[1,10]])}})(Sn),Cn={login:a.login},Un=Object(p.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),Cn)(Bn),Fn=n(230),Rn=n.n(Fn),Tn=function(){return u.a.createElement(Fe,{imgSrc:Rn.a,height:"100vh"},u.a.createElement(yt,null,u.a.createElement(Se,{valign:"center",halign:"justify-center",height:"100vh",p:[3,0,0]},u.a.createElement(Se.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(qn,null)),u.a.createElement(Se.Unit,{size:{xs:1,sm:1/3}},u.a.createElement(Un,null)))))},Dn=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={locationOptions:[]},n.handleClearForm=function(){(0,n.props.resetForm)({name:"",selectedLocation:"",address:"",phone:"",contact_person:""})},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,a,r;return X.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.props,t=e.getAllLocations,n=e.token,o.next=3,X.a.awrap(t(n));case 3:a=o.sent,r=[],a.count>0&&(r=an(a.results,"upazila"),this.setState(Object(h.a)({},this.state,{locationOptions:r})));case 6:case"end":return o.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors,a=e.setFieldValue,r=e.setFieldTouched,o=e.values,c=this.state.locationOptions;return u.a.createElement(ze,{width:600,m:"0 auto"},u.a.createElement(Zt.b,null,u.a.createElement(Se,null,u.a.createElement(Se.Unit,{size:{xs:1,sm:1}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Madrasa Name"),u.a.createElement(Pe,{mb:16,mt:8},u.a.createElement(Zt.a,{type:"text",name:"name",placeholder:"Enter fullname"})),t.name&&n.name&&u.a.createElement(vt,{variant:"caption",color:"error",mt:8,mb:8},n.name))),u.a.createElement(Se.Unit,{size:{xs:1,sm:.5}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Location"),u.a.createElement(Wt,{isMulti:!1,value:o.selectedLocation,keyName:"selectedLocation",onChange:a,onBlur:r,error:n.selectedLocation,touched:t.selectedLocation,placeholder:"Select a location",options:c,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(Se.Unit,{size:{xs:1,sm:.5}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Address"),u.a.createElement(Pe,{mb:16,mt:8},u.a.createElement(Zt.a,{type:"text",name:"address",placeholder:"Enter full address"})),t.address&&n.address&&u.a.createElement(vt,{variant:"caption",color:"error",mt:8,mb:8},n.address))),u.a.createElement(Se.Unit,{size:{xs:1,sm:.5}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Mobile"),u.a.createElement(Pe,{mb:16,mt:8},u.a.createElement(Zt.a,{type:"text",name:"phone",placeholder:"Enter mobile number"})),t.phone&&n.phoe&&u.a.createElement(vt,{variant:"caption",color:"error",mt:8,mb:8},n.phone))),u.a.createElement(Se.Unit,{size:{xs:1,sm:.5}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Contact Person"),u.a.createElement(Pe,{mb:16,mt:8},u.a.createElement(Zt.a,{type:"text",name:"contact_person",placeholder:"Enter contact fullname"})),t.contact_person&&n.contact_person&&u.a.createElement(vt,{variant:"caption",color:"error",mt:8,mb:8},n.contact_person))),u.a.createElement(Se.Unit,{size:{xs:.5,sm:.5}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(xe,{mt:24,type:"button",onClick:this.props.onClear||this.handleClearForm},"Cancel"))),u.a.createElement(Se.Unit,{size:{xs:.5,sm:.5}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(xe,{type:"submit",variant:"primary",mt:24},"Add Madrasa"))))))}}]),t}(i.Component),Nn=Object(Zt.c)({mapPropsToValues:function(){return{name:"",selectedLocation:"",address:"",phone:"",contact_person:""}},validationSchema:en.object().shape({name:en.string().required("Madrasa name is required"),selectedLocation:en.object().required("Location is required"),address:en.string().required("Adress is required"),phone:en.string(),contact_person:en.string().required("Contact person is required")}),handleSubmit:function(e,t){var n,a,r,o,c,l,s,i;return X.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.props,t.setErrors,a=t.setSubmitting,r=t.resetForm,u.prev=1,o=n.addMadrasa,c=n.token,l=n.history,(s=e).place=e.selectedLocation.value,u.next=7,X.a.awrap(o(s,c));case 7:i=u.sent,a(),r(),i.id&&l.push("/feeds"),u.next=16;break;case 13:u.prev=13,u.t0=u.catch(1),console.log(u.t0);case 16:a();case 17:case"end":return u.stop()}}),null,null,[[1,13]])}})(Dn),Ln={addMadrasa:c.addMadrasa,getAllMadrasas:c.getAllMadrasas,getAllLocations:s.getAllLocations},Gn=Object(p.b)((function(e){return{token:e.auth.token}}),Ln)(Object($.g)(Nn)),Pn=function(){return u.a.createElement(Qt,null,u.a.createElement(He,{bg:"primary"},u.a.createElement(vt,{variant:"h4",color:"lighter",textAlign:"center"},"Add Madrasa")),u.a.createElement(ze,{variant:"card",p:24,pb:64},u.a.createElement(Gn,null)))},In=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={madrasaOptions:[],locationOptions:[]},n.handleClearForm=function(){var e=n.props,t=e.resetForm;(0,e.setSubmitting)(!1),t()},n}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,a,r,o,c,l;return X.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.props,t=e.getAllLocations,n=e.getAllMadrasas,a=e.token,s.next=3,X.a.awrap(t(a));case 3:return r=s.sent,s.next=6,X.a.awrap(n(a));case 6:o=s.sent,c=[],l=[],o.count>0&&(c=an(o.results),this.setState(Object(h.a)({},this.state,{madrasaOptions:c}))),r.count>0&&(l=an(r.results,"upazila"),this.setState(Object(h.a)({},this.state,{locationOptions:l})));case 10:case"end":return s.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors,a=e.setFieldValue,r=e.setFieldTouched,o=e.values,c=this.state,l=c.madrasaOptions,s=c.locationOptions;return u.a.createElement(ze,null,u.a.createElement(Zt.b,null,u.a.createElement(Se,null,u.a.createElement(Se.Unit,{size:{xs:1,sm:.25}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Blood Group"),u.a.createElement(Wt,{isMulti:!1,value:o.selectedBloodGroup,keyName:"selectedBloodGroup",onChange:a,onBlur:r,error:n.selectedBloodGroup,touched:t.selectedBloodGroup,placeholder:"Select a group",options:[{value:"A+",label:"A+"},{value:"A-",label:"A-"},{value:"B+",label:"B+"},{value:"B-",label:"B-"},{value:"O+",label:"O+"},{value:"O-",label:"O-"},{value:"AB+",label:"AB+"},{value:"AB-",label:"AB-"}],margin:{mt:8},size:{height:40}}))),u.a.createElement(Se.Unit,{size:{xs:1,sm:.25}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Location"),u.a.createElement(Wt,{isMulti:!1,value:o.selectedLocation,keyName:"selectedLocation",onChange:a,onBlur:r,error:n.selectedLocation,touched:t.selectedLocation,placeholder:"Select a location",options:s,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(Se.Unit,{size:{xs:1,sm:.5}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Madrassa"),u.a.createElement(Wt,{isMulti:!1,value:o.selectedMadrasa,keyName:"selectedMadrasa",onChange:a,onBlur:r,error:n.selectedMadrasa,touched:t.selectedMadrasa,placeholder:"Select a madrassa",options:l,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(Se.Unit,{size:{xs:1,sm:.25}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Gender"),u.a.createElement(Wt,{isMulti:!1,value:o.selectedGender,keyName:"selectedGender",onChange:a,onBlur:r,error:n.selectedGender,touched:t.selectedGender,placeholder:"Select gender",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(Se.Unit,{size:{xs:1,sm:.25}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(vt,{variant:"caption"},"Role"),u.a.createElement(Wt,{isMulti:!1,value:o.selectedRole,keyName:"selectedRole",onChange:a,onBlur:r,error:n.selectedRole,touched:t.selectedRole,placeholder:"Select a role",options:[{value:"Donor",label:"Donor"},{value:"Receiver",label:"Receiver"},{value:"Both",label:"Both"}],margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(Se.Unit,{size:{xs:.5,sm:.25}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(xe,{type:"submit",variant:"primary",mt:30,className:"btn-small"},"Search"))),u.a.createElement(Se.Unit,{size:{xs:.5,sm:.25}},u.a.createElement(ze,{pl:8,pr:8},u.a.createElement(xe,{mt:30,className:"btn-small",onClick:this.handleClearForm},"Clear"))))))}}]),t}(i.Component),Hn=Object(Zt.c)({mapPropsToValues:function(){return{selectedLocation:"",selectedGender:"",selectedRole:"",selectedMadrasa:"",selectedBloodGroup:""}},validationSchema:en.object().shape({selectedLocation:en.object(),selectedGender:en.object(),selectedRole:en.object(),selectedMadrasa:en.object().nullable(),selectedBloodGroup:en.object()}),handleSubmit:function(e,t){var n,a,r,o,c;return X.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:n=t.props,t.setErrors,a=t.setSubmitting,t.resetForm;try{r=n.getAllUsers,o=n.token,c={blood_group:e.selectedBloodGroup.value||"",madrasa:e.selectedMadrasa.value||"",place:e.selectedLocation.value||"",gender:e.selectedGender.value||"",role:e.selectedRole.value||""},r(o,c),a()}catch(s){console.log(s)}a();case 3:case"end":return l.stop()}}))}})(In),Wn={getAllMadrasas:c.getAllMadrasas,getAllLocations:s.getAllLocations,getAllUsers:o.getAllUsers},Vn=Object(p.b)((function(e){return{token:e.auth.token}}),Wn)(Object($.g)(Hn)),Jn=n(231),Yn=n.n(Jn),$n=n(232),Kn=n.n($n),Qn=function(e){var t=e.users;return u.a.createElement(i.Fragment,null,u.a.createElement($e,null,u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text"},"Name"),u.a.createElement("th",{className:"text"},"Madrasa"),u.a.createElement("th",{className:"text-centered"},"Phone"),u.a.createElement("th",{className:"text-centered"},"Blood Group"),u.a.createElement("th",{className:"number"},"Last Donated"))),u.a.createElement("tbody",null,t.results.map((function(e){return e.id?u.a.createElement("tr",{key:e.id},u.a.createElement("td",{className:"text"},e.name),u.a.createElement("td",{className:"text"},e.madrasa?e.madrasa.name:"-"),u.a.createElement("td",{className:"text-centered"},e.mobile||"-"),u.a.createElement("td",{className:"text-centered"},e.blood_group),u.a.createElement("td",{className:"number"},e.last_donated_on?Object(yn.default)(new Date(e.last_donated_on),"PPpp",{}):"N/A")):""})))),u.a.createElement(Qe,null,t.previous?u.a.createElement("p",{className:"prev"},u.a.createElement(Yn.a,null)):"",u.a.createElement("p",{className:"table-pagination-info ".concat(t.next||t.previous?"pull-to-top":"")},"1 to ",t.next?"":t.count," of ",t.count),t.next?u.a.createElement("p",{className:"next"},u.a.createElement(Kn.a,null)):""))},Xn=function(e){var t=e.users,n=e.userMessage;return u.a.createElement(Qt,null,u.a.createElement(ze,{variant:"card",p:24,mb:24},u.a.createElement(Vn,null)),u.a.createElement(ze,{variant:"card"},t.count?u.a.createElement(Qn,{users:t}):u.a.createElement(vt,{p:16,textAlign:"center"},n)))},Zn=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return u.a.createElement(sn,null)}}]),t}(i.Component),ea=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.token;(0,e.getAllRequests)(t)}},{key:"render",value:function(){return u.a.createElement(zn,this.props)}}]),t}(i.Component),ta={getAllRequests:r.getAllRequests},na=Object(p.b)((function(e){var t=e.auth,n=e.donations;return{token:t.token,donationRequests:n.donationRequests}}),ta)(ea),aa=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,a,r;return X.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.props,t=e.getAllUsers,n=e.getAllRequests,a=e.getAllMadrasas,r=e.token,o.next=3,X.a.awrap(t(r,{}));case 3:return o.next=5,X.a.awrap(n(r));case 5:return o.next=7,X.a.awrap(a(r));case 7:case"end":return o.stop()}}),null,this)}},{key:"render",value:function(){return u.a.createElement(Mn,this.props)}}]),t}(i.Component),ra={getAllUsers:o.getAllUsers,getAllRequests:r.getAllRequests,getAllMadrasas:c.getAllMadrasas},oa=Object(p.b)((function(e){var t=e.auth,n=e.users,a=e.donations,r=e.madrasas;return{token:t.token,users:n.users,madrasas:r.madrasas,donationRequests:a.donationRequests}}),ra)(aa),ca=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return this.props.isAuthenticated?u.a.createElement($.a,{to:"/feeds"}):u.a.createElement(Tn,null)}}]),t}(i.Component),la=Object(p.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))(ca),sa=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return u.a.createElement(Pn,null)}}]),t}(i.Component),ia=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e,t,n;return X.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=this.props,t=e.getAllUsers,n=e.token,a.next=3,X.a.awrap(t(n,{}));case 3:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props.users;return u.a.createElement(Xn,{users:e,userMessage:0===e.count?"No user found":"Loading..."})}}]),t}(i.Component),ua={getAllUsers:o.getAllUsers},da=Object(p.b)((function(e){var t=e.auth,n=e.users;return Object(h.a)({token:t.token},n)}),ua)(ia),ma=function(){return u.a.createElement($.d,null,u.a.createElement($.b,{exact:!0,path:"/",component:la}),u.a.createElement($.b,{exact:!0,path:"/feeds",component:K(oa)}),u.a.createElement($.b,{exact:!0,path:"/add-user",component:K(Zn)}),u.a.createElement($.b,{exact:!0,path:"/madrasas",component:K(sa)}),u.a.createElement($.b,{exact:!0,path:"/search",component:K(da)}),u.a.createElement($.b,{exact:!0,path:"/blood-requests",component:K(na)}),u.a.createElement($.b,{component:Xt}))},pa={borders:{primary:"1px solid #FF7275",light:"1px solid #E9EBEC"},typography:{fontFamily:'"IBM Plex Sans", sans-serif',fontSize:"18px",lineHeight:1.45,fontWeight:"400",h1:{fontSize:"3.052em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h2:{fontSize:"2.441em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h3:{fontSize:"1.953em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h4:{fontSize:"1.563em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h5:{fontSize:"1.25em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h6:{fontSize:"1em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},body:{fontSize:"1em",lineHeight:1.45,fontWeight:400,fontFamily:'"IBM Plex Sans", sans-serif'},caption:{fontSize:".8em",lineHeight:1.45,fontWeight:400,fontFamily:'"IBM Plex Sans", sans-serif'}},colors:{primary:"#FF7275",secondary:"#DB5461",dark:"#303334",lightDark:"#4E5355",light:"#EFF1F3",lighter:"#FEFFFE",error:"#FF3C38",success:"#FFCA1E",warning:"#78BE20",placeholder:"#A9AEB1"},space:[0,4,8,16,32,64,128,256],breakpoints:{xs:0,sm:576,md:768,lg:992,xl:1200}},ha=function(e){function t(){return Object(P.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return u.a.createElement(he.a,{theme:pa},u.a.createElement(pe.a,null,u.a.createElement(ma,null)))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fa=new ce.a,ba={};fa.loggedIn()&&(ba.auth={isAuthenticated:!0,token:fa.getToken()});var ga=function(e){var t=[ue,g.a],n=[f.applyMiddleware.apply(void 0,t)],a=b.composeWithDevTools.apply(void 0,n);return Object(f.createStore)(me,e,a)}(ba);m.a.render(u.a.createElement(p.a,{store:ga},u.a.createElement(ha,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},98:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(13),r=n(55),o=n.n(r),c=n(122),l=n.n(c),s=function t(){var n=this;Object(a.a)(this,t),this.loggedIn=function(e){return!!n.getToken(e)},this.setUser=function(e){o.a.set("user",JSON.stringify(e),{expires:7})},this.getUser=function(t){return e.browser?n.getUserFromBrowser():n.getUserFromServer(t)},this.getUserFromBrowser=function(){return o.a.get("user")},this.getUserFromServer=function(e){if(e&&e.headers){var t=e.headers.cookie;if("string"===typeof t){var n=l.a.parse(t);return n.user?JSON.parse(n.user):{}}}else;},this.setToken=function(t){e.browser&&o.a.set("Token",t,{expires:7})},this.getToken=function(t){return e.browser?n.getTokenFromBrowser():n.getTokenFromServer(t)},this.getTokenFromBrowser=function(){return o.a.get("Token")},this.getTokenFromServer=function(e){if(e&&e.headers){var t=e.headers.cookie;return"string"===typeof t?l.a.parse(t).Token:void 0}},this.getCsrfToken=function(t){return e.browser?n.getCsrfFromBrowser():n.getCsrfFromServer(t)},this.getCsrfFromBrowser=function(){return o.a.get("csrftoken")},this.getCsrfFromServer=function(e){if(e&&e.headers){var t=e.headers.cookie;return"string"===typeof t?l.a.parse(t).csrftoken:void 0}},this.removeToken=function(){o.a.remove("Token"),o.a.remove("user"),o.a.remove("csrftoken")}}}).call(this,n(123))}},[[236,1,2]]]);
//# sourceMappingURL=main.efd23b7e.chunk.js.map