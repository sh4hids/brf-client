(this["webpackJsonpbrf-blood-bank-database"]=this["webpackJsonpbrf-blood-bank-database"]||[]).push([[0],{230:function(e,t,n){e.exports=n.p+"static/media/bg.e36e78ea.svg"},236:function(e,t,n){e.exports=n(456)},456:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"signup",(function(){return E})),n.d(r,"login",(function(){return O})),n.d(r,"logout",(function(){return k})),n.d(r,"setUserToken",(function(){return x}));var a={};n.r(a),n.d(a,"makeRequest",(function(){return _})),n.d(a,"updateRequest",(function(){return C})),n.d(a,"serveRequest",(function(){return A})),n.d(a,"getAllRequests",(function(){return q})),n.d(a,"getRequestById",(function(){return S}));var o={};n.r(o),n.d(o,"addUser",(function(){return M})),n.d(o,"updateUserInfo",(function(){return z})),n.d(o,"getAllUsers",(function(){return R})),n.d(o,"getEligibleDonors",(function(){return N}));var c={};n.r(c),n.d(c,"addCommunity",(function(){return U})),n.d(c,"getAllCommunities",(function(){return L}));var i={};n.r(i),n.d(i,"auth",(function(){return j})),n.d(i,"donations",(function(){return B})),n.d(i,"users",(function(){return T})),n.d(i,"communities",(function(){return G}));var l={};n.r(l),n.d(l,"addLocation",(function(){return pn})),n.d(l,"getAllLocations",(function(){return hn}));var s=n(0),u=n.n(s),m=n(37),d=n.n(m),p=n(21),h=n(9),b=n(68),f=n(218),g=n(219),y="auth/login",v={isAuthenticated:!1,token:"",redirectTo:"/"},E=function(e){return{type:"auth/signup",meta:{async:!0,blocking:!0,path:"signup",method:"POST",body:{email:e.email,username:e.username,phone:e.phone,password:e.password}}}},O=function(e){var t=e.username,n=e.password;return{type:y,meta:{async:!0,blocking:!0,path:"/api-token-auth/",method:"POST",body:{username:t,password:n}}}},k=function(e){return{type:"auth/logout",meta:{async:!0,blocking:!0,path:"/api-auth/logout/",method:"POST",token:e}}},x=function(e){return{type:"auth/set_user_token",payload:e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"auth/signup_completed":return Object(h.a)({},e,{isAuthenticated:!0,user:Object(h.a)({},r.user),jwt:r.token,draftSignUp:{},redirectTo:"/dashboard"});case"auth/login_completed":return Object(h.a)({},e,{isAuthenticated:!0,token:r.token,redirectTo:"/"});case"auth/login_failed":return Object(h.a)({},e,{isAuthenticated:!1});case"auth/logout_completed":return Object(h.a)({},e,{isAuthenticated:!1,token:"",redirectTo:"/"});case"auth/set_user_token":return Object(h.a)({},e,{isAuthenticated:!!r,jwt:r});case"auth/reset_password_completed":return Object(h.a)({},e,{redirectTo:"/login"});case"auth/set_user_unauthorized":return Object(h.a)({},e,{isAuthenticated:!1,token:"",redirectTo:"/login"});default:return e}},w={donationRequests:{},requestDetails:{}},_=function(e,t){return{type:"donations/make_request",meta:{async:!0,blocking:!0,path:"/blood_requests/",method:"POST",body:e,token:t}}},C=function(e,t,n){return{type:"donations/update_request",meta:{async:!0,blocking:!0,path:"/blood_requests/".concat(e,"/"),method:"PATCH",body:t,token:n}}},A=function(e,t){return{type:"donations/serve_request",meta:{async:!0,blocking:!0,path:"/history/",method:"POST",body:e,token:t}}},q=function(e){return{type:"donations/get_all_requests",meta:{async:!0,blocking:!0,path:"/blood_requests/",method:"GET",token:e}}},S=function(e,t){return{type:"donations/get_request_by_id",meta:{async:!0,blocking:!0,path:"/blood_requests/".concat(e,"/"),method:"GET",token:t}}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"donations/get_all_requests_completed":return Object(h.a)({},e,{donationRequests:Object(h.a)({},r)});case"donations/get_request_by_id_completed":case"donations/update_request_completed":return Object(h.a)({},e,{requestDetails:r});default:return e}},F={users:{},eligibleDonors:{}},M=function(e,t){return{type:"users/add_user",meta:{async:!0,blocking:!0,path:"/persons/",method:"POST",body:e,token:t}}},z=function(e,t,n){return{type:"users/update_user_info",meta:{async:!0,blocking:!0,path:"/persons/".concat(e,"/"),method:"PATCH",body:t,token:n}}},R=function(e,t){var n=t.blood_group,r=t.community,a=t.place,o=t.gender,c=t.role,i=t.mobile;return{type:"users/get_all_users",meta:{async:!0,blocking:!0,path:"/persons/?blood_group=".concat(n?encodeURIComponent(n):"","&community=").concat(r||"","&place=").concat(a||"","&gender=").concat(o||"","&role=").concat(c||"","&mobile=").concat(i||""),method:"GET",token:e}}},N=function(e,t){var n=t.blood_group,r=t.madrasa,a=t.place,o=t.gender,c=t.role,i=t.mobile;return{type:"users/get_eligible_donors",meta:{async:!0,blocking:!0,path:"/persons/eligible_donors/?blood_group=".concat(n?encodeURIComponent(n):"","&madrasa=").concat(r||"","&place=").concat(a||"","&gender=").concat(o||"","&role=").concat(c||"","&mobile=").concat(i),method:"GET",token:e}}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"users/get_all_users_completed":return Object(h.a)({},e,{users:Object(h.a)({},r)});case"users/get_eligible_donors_completed":return Object(h.a)({},e,{eligibleDonors:Object(h.a)({},r)});default:return e}},D={communities:{}},U=function(e,t){return{type:"communities/add",meta:{async:!0,blocking:!0,path:"/communities/",method:"POST",body:e,token:t}}},L=function(e){return{type:"communities/get_all",meta:{async:!0,blocking:!0,path:"/communities/",method:"GET",token:e}}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"communities/get_all_completed":return Object(h.a)({},e,{communities:Object(h.a)({},r)});default:return e}},P=n(13),H=n(14),I=n(16),W=n(15),V=n(17),J=n(22),Y=n.n(J),X=n(61);function $(e){var t=function(t){function n(){return Object(P.a)(this,n),Object(I.a)(this,Object(W.a)(n).apply(this,arguments))}return Object(V.a)(n,t),Object(H.a)(n,[{key:"render",value:function(){var t=this.props.isAuthenticated;return u.a.createElement(s.Fragment,null,t?u.a.createElement(e,this.props):u.a.createElement(X.a,{to:"/"}))}}]),n}(s.Component);Y.a.bool;return Object(p.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))(t)}var K=n(11),Q=n.n(K),Z=n(220),ee=n.n(Z);function te(e,t){return new Promise((function(n,r){e>=200&&e<300?t.then((function(e){return n(e)})):t.then((function(t){return r({status:e,message:t})}))}))}function ne(e){var t;return Q.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(204!==e.status){n.next=2;break}return n.abrupt("return","");case 2:return n.prev=2,n.next=5,Q.a.awrap(e.data);case 5:return t=n.sent,n.abrupt("return",t);case 9:return n.prev=9,n.t0=n.catch(2),n.abrupt("return",n.t0);case 12:case"end":return n.stop()}}),null,null,[[2,9]])}function re(e,t){return t&&"multipart"===t?{Authorization:e?"Token ".concat(e):""}:{Accept:"application/json","Content-Type":"application/json",Authorization:e?"Token ".concat(e):""}}var ae=function(e){var t,n,r,a,o,c,i;return Q.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.url,n=e.method,r=e.body,a=e.type,o=e.token,c={method:n,headers:re(o,a),data:"GET"!==n?"multipart"!==a?JSON.stringify(r):r:null},l.next=4,Q.a.awrap(ee()(t,c));case 4:return i=l.sent,l.abrupt("return",te(i.status,ne(i)));case 6:case"end":return l.stop()}}))},oe="https://radiant-atoll-02965.herokuapp.com",ce=n(99),ie=new ce.a,le="".concat(oe).concat("/api/v1"),se=[y,"auth/signup","auth/fb_login","auth/linkedin_login","auth/google_login"];var ue=function(){return function(e){return function(t){var n=e(t);if(!t.meta||!t.meta.async)return n;var r=t.meta,a=r.path,o=r.method,c=void 0===o?"GET":o,i=r.body,l=r.type,s=r.token;if(!a)throw new Error("'path' not specified for async action ".concat(t.type));var u="".concat(le).concat(a),m=ie.getCsrfToken();return t.type===y&&(u="".concat(oe).concat(a)),ae({url:u,method:c,body:i,type:l,token:s,csrf:m}).then((function(n){return function(e,t,n){if(se.includes(t.type)){var r=e.user,a=e.token;r=Object(h.a)({},r),ie.setToken(a),ie.setUser(r)}else"auth/logout"===t.type&&ie.removeToken();return n({type:"".concat(t.type,"_completed"),payload:e,meta:t.meta}),e}(n,t,e)}),(function(n){return function(e,t,n){"auth/logout"===t.type&&ie.removeToken();401===e.status?n({type:"auth/set_user_unauthorized",payload:e,meta:t.meta}):n({type:"".concat(t.type,"_failed"),payload:e,meta:t.meta});return Promise.reject(e)}(n,t,e)}))}}},me=Object(b.combineReducers)(i),de=function(e,t){return"auth/logout"===t.type&&(e=Object(h.a)({},e,{auth:{isAuthenticated:!1,token:""}})),me(e,t)};var pe=n(19),he=n(7),be=n(8);function fe(){var e=Object(be.a)(["\n  html {\n    scroll-behavior: smooth;\n  }\n  body {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: ",";\n    font-size: ",";\n    background-color: ",';\n    min-height: 100vh;\n  }\n  p {\n    line-height: 1.45;\n    font-size: 1em;\n    margin: 0;\n    padding: 0;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    margin: 0;\n    line-height: 1.15;\n  }\n  h1 {\n    font-size: 3.052em;\n  }\n  h2 {\n    font-size: 2.441em;\n  }\n  h3 {\n    font-size: 1.953em;\n  }\n  h4 {\n    font-size: 1.563em;\n  }\n  h5 {\n    font-size: 1.25em;\n  }\n  h6 {\n    font-size: 1em;\n  }\n  :not(pre) > code[class*="language-"], pre[class*="language-"] {\n    background-color: #f0f8fb;\n  }\n\n  a {\n    text-decoration: none;\n  }\n']);return fe=function(){return e},e}var ge=Object(he.b)(fe(),(function(e){return e.theme.typography.fontFamily}),(function(e){return e.theme.typography.fontSize}),(function(e){return e.theme.colors.light})),ye=n(80),ve=n(6);function Ee(){var e=Object(be.a)(["\n  outline: none;\n  border: none;\n  color: ",";\n  background-color: ",";\n"]);return Ee=function(){return e},e}function Oe(){var e=Object(be.a)(["\n  outline: none;\n  width: 100%;\n  height: 48px;\n  cursor: pointer;\n  border-radius: 4px;\n  text-transform: uppercase;\n  font-size: ",";\n  border: ",";\n  color: ",";\n  background-color: ",";\n\n  &.btn-small {\n    height: 40px;\n  }\n\n  ",";\n  ",";\n"]);return Oe=function(){return e},e}var ke=he.d.button(Oe(),(function(e){return e.theme.typography.caption.fontSize}),(function(e){return e.theme.borders.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter}),ve.k,ve.n),xe=Object(he.d)(ke)(Ee(),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.primary})),je=function(e){var t=e.children,n=e.variant,r=Object(ye.a)(e,["children","variant"]);switch(n){case"primary":return u.a.createElement(xe,r,t);default:return u.a.createElement(ke,r,t)}};function we(){var e=Object(be.a)(["\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n"]);return we=function(){return e},e}var _e=he.d.div(we(),ve.k,ve.i,ve.j,ve.e,ve.m);function Ce(){var e=Object(be.a)(["\n      border-radius: 4px;\n      background-color: ",";\n    "]);return Ce=function(){return e},e}function Ae(){var e=Object(be.a)(["\n      width: 100vw;\n      margin: 0 auto;\n    "]);return Ae=function(){return e},e}function qe(){var e=Object(be.a)(["\n  ",";\n  ",";\n\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n"]);return qe=function(){return e},e}var Se=he.d.div(qe(),(function(e){return"main"===e.variant&&Object(he.c)(Ae())}),(function(e){return"card"===e.variant&&Object(he.c)(Ce(),(function(e){return e.theme.colors.lighter}))}),ve.e,ve.k,ve.h,ve.n,ve.l,ve.i),Be=n(233);function Fe(){var e=Object(be.a)(["\n  ",";\n\n  > div {\n    ",";\n  }\n"]);return Fe=function(){return e},e}var Me=Object(he.d)(Be.a)(Fe(),ve.h,ve.k);function ze(){var e=Object(be.a)(["\n  display: block;\n  height: 1px;\n  border: 0;\n  border-top: ",";\n  margin: 1em 0;\n  padding: 0;\n\n  ",";\n"]);return ze=function(){return e},e}var Re=he.d.hr(ze(),(function(e){return e.theme.borders.light}),ve.c);function Ne(){var e=Object(be.a)(["\n  background-image: url(",");\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-color: ",";\n  ",";\n"]);return Ne=function(){return e},e}var Te=he.d.div(Ne(),(function(e){return e.imgSrc}),(function(e){return e.theme.colors.light}),ve.h);function De(){var e=Object(be.a)(["\n  text-decoration: none;\n  color: ",";\n  ",";\n\n  &:active,\n  &:focus {\n    color: ",";\n  }\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return De=function(){return e},e}function Ue(){var e=Object(be.a)(["\n  text-decoration: none;\n  color: ",";\n  ",";\n\n  &:active,\n  &:focus {\n    color: ",";\n  }\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return Ue=function(){return e},e}var Le=Object(he.d)(pe.b)(Ue(),(function(e){return e.theme.colors.primary}),ve.e,(function(e){return e.theme.colors.primary})),Ge=he.d.a(De(),(function(e){return e.theme.colors.primary}),ve.e,(function(e){return e.theme.colors.primary})),Pe=function(e){var t=e.children,n=e.variant,r=e.link,a=Object(ye.a)(e,["children","variant","link"]);switch(n){case"offsite":return u.a.createElement(Ge,Object.assign({href:r},a),t);default:return u.a.createElement(Le,Object.assign({to:r},a),t)}};function He(){var e=Object(be.a)(["\n  padding: 8px 16px;\n  border-radius: 4px;\n  border: ",";\n  border-color: ",";\n  background-color: ",";\n\n  ",";\n  ",";\n  ","\n  ",";\n  ",";\n\n  input,\n  textarea {\n    border: none;\n    outline: none;\n    width: 100%;\n    height: 100%;\n    padding-bottom: 4px;\n    background-color: ",";\n    font-size: ",";\n    font-family: ",";\n    color: ",";\n\n    ",";\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n\n  textarea {\n    resize: none;\n    height: 95%;\n  }\n"]);return He=function(){return e},e}var Ie=he.d.div(He(),(function(e){return e.theme.borders.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter}),ve.a,ve.b,ve.d,ve.h,ve.k,(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.typography.caption.fontSize}),(function(e){return e.theme.typography.fontFamily}),(function(e){return e.theme.colors.lightDark}),ve.l,(function(e){return e.theme.colors.placeholder}));function We(){var e=Object(be.a)(["\n  padding: 16px 24px;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n\n  ",";\n  ",";\n"]);return We=function(){return e},e}var Ve=he.d.div(We(),ve.e,ve.k);function Je(){var e=Object(be.a)(["\n          cursor: pointer;\n          color: ",";\n\n          ",";\n\n          &:hover {\n            text-decoration: underline;\n          }\n        "]);return Je=function(){return e},e}function Ye(){var e=Object(be.a)(["\n  ",";\n  ",";\n  ",";\n  ","\n"]);return Ye=function(){return e},e}var Xe=he.d.span(Ye(),ve.e,ve.f,ve.g,(function(e){switch(e.variant){case"url":return Object(he.c)(Je(),(function(e){return e.theme.colors.primary}),ve.e);default:return""}}));function $e(){var e=Object(be.a)(["\n  width: 100%;\n  border-collapse: collapse;\n  font-size: ",";\n\n  thead {\n    border-bottom: ",";\n  }\n\n  tr {\n    border-bottom: ",";\n\n    &:last-child {\n      border: none;\n    }\n  }\n\n  th {\n    font-weight: 400;\n    color: ",";\n  }\n\n  td {\n    font-weight: 400;\n    font-size: ",";\n  }\n\n  th,\n  td {\n    padding: 16px;\n  }\n\n  th.text,\n  td.text {\n    text-align: left;\n  }\n\n  th.text-centered,\n  td.text-centered {\n    text-align: center;\n  }\n\n  th.number,\n  td.number {\n    text-align: right;\n  }\n"]);return $e=function(){return e},e}var Ke=he.d.table($e(),(function(e){return e.theme.typography.fontSize}),(function(e){return e.theme.borders.light}),(function(e){return e.theme.borders.light}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.typography.caption.fontSize}));function Qe(){var e=Object(be.a)(["\n  padding: 8px;\n  text-align: center;\n  color: ",";\n  border-top: ",";\n  font-size: ",";\n\n  p {\n    margin: 0;\n    padding: 0;\n    display: inline;\n\n    svg {\n      position: relative;\n      top: 2px;\n      cursor: pointer;\n    }\n  }\n\n  p.prev {\n    margin-right: 24px;\n  }\n\n  p.next {\n    margin-left: 24px;\n  }\n\n  p.table-pagination-info {\n    position: relative;\n\n    &.pull-to-top {\n      top: -5px;\n    }\n  }\n"]);return Qe=function(){return e},e}var Ze=he.d.div(Qe(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.borders.light}),(function(e){return e.theme.typography.caption.fontSize})),et=function(e,t){var n,r=t.split(".");if(!e||"object"!==typeof e)return!1;for(;n=r.shift();){if(!e.hasOwnProperty(n))return!1;e=e[n]}return!0};function tt(){var e=Object(be.a)(["\n  p {\n    line-height: 1.45;\n    font-size: 1em;\n  }\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin: 0;\n    line-height: 1.15;\n  }\n  h1 {\n    font-size: 3.052em;\n  }\n  h2 {\n    font-size: 2.441em;\n  }\n  h3 {\n    font-size: 1.953em;\n  }\n  h4 {\n    font-size: 1.563em;\n  }\n  h5 {\n    font-size: 1.25em;\n  }\n  h6 {\n    font-size: 1em;\n  }\n\n  ",";\n"]);return tt=function(){return e},e}function nt(){var e=Object(be.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return nt=function(){return e},e}function rt(){var e=Object(be.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return rt=function(){return e},e}function at(){var e=Object(be.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return at=function(){return e},e}function ot(){var e=Object(be.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return ot=function(){return e},e}function ct(){var e=Object(be.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return ct=function(){return e},e}function it(){var e=Object(be.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return it=function(){return e},e}function lt(){var e=Object(be.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return lt=function(){return e},e}function st(){var e=Object(be.a)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n  ",";\n  ",";\n  ",";\n"]);return st=function(){return e},e}var ut="rgba(0, 0, 0, .8)",mt=he.d.h1(st(),(function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut}),(function(e){var t=e.theme;return et(t,"typography.h1")?t.typography.h1.fontSize:"3.052em"}),(function(e){var t=e.theme;return et(t,"typography.h1")?t.typography.h1.lineHeight:1.15}),(function(e){var t=e.theme;return et(t,"typography.h1")?t.typography.h1.fontWeight:700}),ve.e,ve.k,ve.l),dt=he.d.h2(lt(),(function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut}),(function(e){var t=e.theme;return et(t,"typography.h2")?t.typography.h2.fontSize:"2.441em"}),(function(e){var t=e.theme;return et(t,"typography.h2")?t.typography.h2.lineHeight:1.15}),(function(e){var t=e.theme;return et(t,"typography.h2")?t.typography.h2.fontWeight:700}),ve.e,ve.k,ve.l),pt=he.d.h3(it(),(function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut}),(function(e){var t=e.theme;return et(t,"typography.h3")?t.typography.h3.fontSize:"1.953em"}),(function(e){var t=e.theme;return et(t,"typography.h3")?t.typography.h3.lineHeight:1.15}),(function(e){var t=e.theme;return et(t,"typography.h3")?t.typography.h3.fontWeight:700}),ve.e,ve.k,ve.l),ht=he.d.h4(ct(),(function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut}),(function(e){var t=e.theme;return et(t,"typography.h4")?t.typography.h4.fontSize:"1.563em"}),(function(e){var t=e.theme;return et(t,"typography.h4")?t.typography.h4.lineHeight:1.15}),(function(e){var t=e.theme;return et(t,"typography.h4")?t.typography.h4.fontWeight:700}),ve.e,ve.k,ve.l),bt=he.d.h5(ot(),(function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut}),(function(e){var t=e.theme;return et(t,"typography.h5")?t.typography.h5.fontSize:"1.25em"}),(function(e){var t=e.theme;return et(t,"typography.h5")?t.typography.h5.lineHeight:1.15}),(function(e){var t=e.theme;return et(t,"typography.h5")?t.typography.h5.fontWeight:700}),ve.e,ve.k,ve.l),ft=he.d.h6(at(),(function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut}),(function(e){var t=e.theme;return et(t,"typography.h6")?t.typography.h6.fontSize:"1em"}),(function(e){var t=e.theme;return et(t,"typography.h6")?t.typography.h6.lineHeight:1.15}),(function(e){var t=e.theme;return et(t,"typography.h6")?t.typography.h6.fontWeight:700}),ve.e,ve.k,ve.l),gt=he.d.p(rt(),(function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut}),(function(e){var t=e.theme;return et(t,"typography.body")?t.typography.body.fontSize:"1em"}),(function(e){var t=e.theme;return et(t,"typography.body")?t.typography.body.lineHeight:1.45}),(function(e){var t=e.theme;return et(t,"typography.body")?t.typography.body.fontWeight:400}),ve.e,ve.k,ve.l),yt=he.d.p(nt(),(function(e){var t=e.theme;return et(t,"colors.dark")?t.colors.dark:ut}),(function(e){var t=e.theme;return et(t,"typography.caption")?t.typography.caption.fontSize:"0.8em"}),(function(e){var t=e.theme;return et(t,"typography.caption")?t.typography.caption.lineHeight:1.45}),(function(e){var t=e.theme;return et(t,"typography.caption")?t.typography.caption.fontWeight:400}),ve.e,ve.k,ve.l),vt=he.d.div(tt(),ve.k),Et=function(e){var t=e.variant,n=(e.theme,e.children),r=e.html,a=Object(ye.a)(e,["variant","theme","children","html"]);switch(t){case"h1":return u.a.createElement(mt,a,n);case"h2":return u.a.createElement(dt,a,n);case"h3":return u.a.createElement(pt,a,n);case"h4":return u.a.createElement(ht,a,n);case"h5":return u.a.createElement(bt,a,n);case"h6":return u.a.createElement(ft,a,n);case"caption":return u.a.createElement(yt,a,n);case"raw":return u.a.createElement(vt,Object.assign({dangerouslySetInnerHTML:{__html:r}},a));default:return u.a.createElement(gt,a,n)}},Ot=function(e){var t=e.children;return u.a.createElement(Se,{variant:"main"},u.a.createElement(ge,null),t)},kt=n(108),xt=n.n(kt),jt=n(109),wt=n.n(jt),_t=n(110),Ct=n.n(_t),At=n(111),qt=n.n(At),St=n(112),Bt=n.n(St),Ft=n(113),Mt=n.n(Ft);function zt(){var e=Object(be.a)(["\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n\n      span {\n        cursor: pointer;\n        display: flex;\n        height: 60px;\n        line-height: 60px;\n        padding: 0 24px;\n        font-size: ",";\n        color: ",";\n        border-top: ",";\n      }\n    "]);return zt=function(){return e},e}function Rt(){var e=Object(be.a)(["\n      a {\n        background-color: ",";\n        color: ",";\n      }\n    "]);return Rt=function(){return e},e}function Nt(){var e=Object(be.a)(["\n  a {\n    text-decoration: none;\n    display: flex;\n    height: 60px;\n    line-height: 60px;\n    padding: 0 24px;\n    font-size: ",";\n    border-bottom: ",";\n    color: ",";\n\n    &:active,\n    &:focus {\n      color: ",";\n    }\n  }\n\n  a,\n  span {\n    .menu-mdi {\n      margin-top: 16px;\n      margin-right: 8px;\n    }\n  }\n\n  ",";\n  ",";\n"]);return Nt=function(){return e},e}function Tt(){var e=Object(be.a)(["\n  width: 280px;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: ",";\n\n  ul {\n    margin: 0;\n    padding: 0;\n    height: 100%;\n    list-style: none;\n    position: relative;\n  }\n"]);return Tt=function(){return e},e}var Dt=Object(he.d)(Se)(Tt(),(function(e){return e.theme.colors.lighter})),Ut=he.d.li(Nt(),(function(e){return e.theme.typography.caption.fontSize}),(function(e){return e.theme.borders.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return"primary"===e.variant&&Object(he.c)(Rt(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter}))}),(function(e){return"bottom-item"===e.variant&&Object(he.c)(zt(),(function(e){return e.theme.typography.caption.fontSize}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.borders.primary}))})),Lt={logout:r.logout},Gt=Object(p.b)(null,Lt)((function(e){var t=e.logout;return u.a.createElement(Dt,{display:["none","block","block","block"]},u.a.createElement("ul",null,u.a.createElement(Ut,{variant:"primary"},u.a.createElement(pe.c,{to:"/"},"BRF Blood Bank Database")),u.a.createElement(Ut,null,u.a.createElement(pe.c,{to:"/feeds"},u.a.createElement(Ct.a,{className:"menu-mdi"})," Home")),u.a.createElement(Ut,null,u.a.createElement(pe.c,{to:"/search"},u.a.createElement(Mt.a,{className:"menu-mdi"})," Search")),u.a.createElement(Ut,null,u.a.createElement(pe.c,{to:"/add-user"},u.a.createElement(xt.a,{className:"menu-mdi"})," Add User")),u.a.createElement(Ut,null,u.a.createElement(pe.c,{to:"/blood-requests"},u.a.createElement(qt.a,{className:"menu-mdi"})," Blood Requests")),u.a.createElement(Ut,null,u.a.createElement(pe.c,{to:"/communities"},u.a.createElement(wt.a,{className:"menu-mdi"})," Communities")),u.a.createElement(Ut,{variant:"bottom-item",onClick:t},u.a.createElement("span",null,u.a.createElement(Bt.a,{className:"menu-mdi"}),"Logout"))))})),Pt=n(79);function Ht(){var e=Object(be.a)(["\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n\n      span {\n        cursor: pointer;\n        display: flex;\n        height: 60px;\n        line-height: 60px;\n        padding: 0 24px;\n        font-size: ",";\n        color: ",";\n        border-top: ",";\n      }\n    "]);return Ht=function(){return e},e}function It(){var e=Object(be.a)(["\n      a {\n        background-color: ",";\n        color: ",";\n      }\n    "]);return It=function(){return e},e}function Wt(){var e=Object(be.a)(["\n  a {\n    text-decoration: none;\n    display: flex;\n    height: 60px;\n    line-height: 60px;\n    padding: 0 24px;\n    font-size: ",";\n    border-bottom: ",";\n    color: ",";\n\n    &:active,\n    &:focus {\n      color: ",";\n    }\n  }\n\n  a,\n  span {\n    .menu-mdi {\n      margin-top: 16px;\n      margin-right: 8px;\n    }\n  }\n\n  ",";\n  ",";\n"]);return Wt=function(){return e},e}function Vt(){var e=Object(be.a)(["\n  width: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: ",";\n  z-index: 50;\n\n  .mobile-header {\n    background-color: ",";\n    height: 60px;\n    line-height; 60px;\n    padding: 0 24px;\n    display: flex;\n    vertical-align: middle;\n    align-items: center;\n    justify-content: space-between;\n\n    a {\n      color: white;\n    }\n\n    .menu-button {\n      color: white;\n      border: 1px solid white;\n      padding: 2px 8px;\n      border-radius: 4px;\n    }\n  }\n\n  ul {\n    margin: 0;\n    padding: 0;\n    height: calc(100vh - 60px);\n    list-style: none;\n    position: relative;\n    background: white;\n    display: ",";\n  }\n"]);return Vt=function(){return e},e}var Jt=Object(he.d)(Se)(Vt(),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.primary}),(function(e){return e.isMenuOpen?"block":"none"})),Yt=he.d.li(Wt(),(function(e){return e.theme.typography.caption.fontSize}),(function(e){return e.theme.borders.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return"primary"===e.variant&&Object(he.c)(It(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter}))}),(function(e){return"bottom-item"===e.variant&&Object(he.c)(Ht(),(function(e){return e.theme.typography.caption.fontSize}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.borders.primary}))})),Xt={logout:r.logout},$t=Object(p.b)(null,Xt)((function(e){var t=e.logout,n=Object(s.useState)(!1),r=Object(Pt.a)(n,2),a=r[0],o=r[1];return u.a.createElement(Jt,{display:["block","none","none","none"],isMenuOpen:a},u.a.createElement("div",{className:"mobile-header"},u.a.createElement(pe.c,{to:"/"},"BRF Database"),u.a.createElement("span",{className:"menu-button",onClick:function(){o(!a)}},"\u2630")),u.a.createElement("ul",null,u.a.createElement(Yt,null,u.a.createElement(pe.c,{to:"/feeds"},u.a.createElement(Ct.a,{className:"menu-mdi"})," Home")),u.a.createElement(Yt,null,u.a.createElement(pe.c,{to:"/search"},u.a.createElement(Mt.a,{className:"menu-mdi"})," Search")),u.a.createElement(Yt,null,u.a.createElement(pe.c,{to:"/add-user"},u.a.createElement(xt.a,{className:"menu-mdi"})," Add User")),u.a.createElement(Yt,null,u.a.createElement(pe.c,{to:"/blood-requests"},u.a.createElement(qt.a,{className:"menu-mdi"})," Blood Requests")),u.a.createElement(Yt,null,u.a.createElement(pe.c,{to:"/communities"},u.a.createElement(wt.a,{className:"menu-mdi"})," Communities")),u.a.createElement(Yt,{variant:"bottom-item",onClick:t},u.a.createElement("span",null,u.a.createElement(Bt.a,{className:"menu-mdi"}),"Logout"))))})),Kt=n(224),Qt=n(223);function Zt(){var e=Object(be.a)(["\n  ",";\n\n  .styled__control {\n    border-color: ",";\n\n    &:hover {\n      border-color: ",";\n    }\n\n    ",";\n  }\n\n  .styled__menu {\n    z-index: 10;\n  }\n\n  .styled__control--is-focused {\n    border: 1px solid ",";\n    box-shadow: none;\n\n    &:hover {\n      border: 1px solid ",";\n    }\n  }\n\n  .styled__placeholder {\n    color: ",";\n  }\n\n  .styled__placeholder,\n  .styled__single-value,\n  .styled__menu {\n    font-size: ",";\n  }\n"]);return Zt=function(){return e},e}var en=he.d.div(Zt(),ve.k,(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),ve.h,(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.placeholder}),(function(e){return e.theme.typography.caption.fontSize})),tn={indicatorsContainer:function(e,t){return Object(h.a)({},e,{borderColor:"green"})},option:function(e,t){return Object(h.a)({},e)},singleValue:function(e,t){var n=t.isDisabled?.5:1;return Object(h.a)({},e,{opacity:n,transition:"opacity 300ms"})}},nn=function(e){function t(){var e,n;Object(P.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(I.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(a)))).handleChange=function(e){n.props.onChange(n.props.keyName,e)},n.handleBlur=function(){n.props.onBlur(n.props.keyName,!0)},n}return Object(V.a)(t,e),Object(H.a)(t,[{key:"render",value:function(){return u.a.createElement(en,Object.assign({},this.props.margin,this.props.padding,this.props.size,{className:this.props.selectClass}),this.props.async?u.a.createElement(s.Fragment,null,u.a.createElement(Qt.a,Object.assign({},this.props,{onChange:this.handleChange,onBlur:this.handleBlur,styles:tn,classNamePrefix:"styled"})),!!this.props.error&&this.props.touched&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8},this.props.error)):u.a.createElement(s.Fragment,null,u.a.createElement(Kt.a,Object.assign({},this.props,{onChange:this.handleChange,onBlur:this.handleBlur,styles:tn,classNamePrefix:"styled"})),!!this.props.error&&this.props.touched&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8},this.props.error)))}}]),t}(s.Component),rn=n(225),an=n.n(rn);n(262);function on(){var e=Object(be.a)(["\n  padding: 6px 16px;\n  border-radius: 4px;\n  border: ",";\n  border-color: ",";\n  background-color: ",";\n\n  .react-datepicker-wrapper,\n  .react-datepicker__input-container {\n    width: 100%;\n  }\n\n  input {\n    border: none;\n    outline: none;\n    width: 100%;\n    padding-bottom: 4px;\n    background-color: ",";\n    font-size: ",";\n    color: ",";\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n\n  ",";\n"]);return on=function(){return e},e}var cn=he.d.div(on(),(function(e){return e.theme.borders.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.typography.caption.fontSize}),(function(e){return e.theme.colors.lightDark}),(function(e){return e.theme.colors.placeholder}),ve.k),ln=function(e){function t(){var e,n;Object(P.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(I.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(a)))).handleChange=function(e){n.props.onChange(n.props.keyName,e)},n.handleBlur=function(){n.props.onBlur(n.props.keyName,!0)},n}return Object(V.a)(t,e),Object(H.a)(t,[{key:"render",value:function(){return u.a.createElement(s.Fragment,null,u.a.createElement(cn,Object.assign({},this.props.margin,this.props.padding,this.props.size),u.a.createElement(an.a,Object.assign({},this.props,{onChange:this.handleChange,onBlur:this.handleBlur,className:"date-picker-input"}))),!!this.props.error&&this.props.touched&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:16},this.props.error))}}]),t}(s.Component),sn=function(e){var t=e.children;return u.a.createElement(Se,{pl:[0,280,280,280],pt:[60,0,0,0]},u.a.createElement(ge,null),u.a.createElement(Gt,null),u.a.createElement($t,null),u.a.createElement(Se,{p:24},t))},un=function(){return u.a.createElement(Ot,null,u.a.createElement(Me,{valign:"center",halign:"justify-center",height:"100vh"},u.a.createElement(_e,{width:{xs:1,sm:1}},u.a.createElement(Et,{variant:"h4",textAlign:"center"},"(404) Not found"),u.a.createElement(Et,{textAlign:"center",mt:16},"Back to ",u.a.createElement(Pe,{link:"/"},"Home")))))},mn=n(18),dn=n(12),pn=function(e,t){return{type:"locations/add_location",meta:{async:!0,blocking:!0,path:"/places/",method:"POST",body:e,token:t}}},hn=function(e){return{type:"locations/get_all_locations",meta:{async:!0,blocking:!0,path:"/places/",method:"GET",token:e}}},bn=function(e,t){if(e&&e.length){for(var n=[],r=0;r<e.length;r++)n.push({value:e[r].id,label:t?e[r][t]:e[r].name});return n}return[]},fn=function(e){function t(){var e,n;Object(P.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(I.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(a)))).state={communityOptions:[],locationOptions:[]},n.handleClearForm=function(){(0,n.props.resetForm)({name:"",selectedLocation:"",selectedGender:"",selectedRole:"",communityOptions:"",selectedBloodGroup:"",date_of_birth:"",address:"",mobile:"",last_donated_on:"",last_received_on:"",emergency_contact_name:"",emergency_contact_phone:""})},n}return Object(V.a)(t,e),Object(H.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,r,a,o,c,i;return Q.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e=this.props,t=e.getAllLocations,n=e.getAllCommunities,r=e.token,l.next=3,Q.a.awrap(t(r));case 3:return a=l.sent,l.next=6,Q.a.awrap(n(r));case 6:o=l.sent,c=[],i=[],o.count>0&&(c=bn(o.results),this.setState(Object(h.a)({},this.state,{communityOptions:c}))),a.count>0&&(i=bn(a.results,"upazila"),this.setState(Object(h.a)({},this.state,{locationOptions:i})));case 10:case"end":return l.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors,r=e.setFieldValue,a=e.setFieldTouched,o=e.values,c=this.state,i=c.communityOptions,l=c.locationOptions;return u.a.createElement(Se,{width:{xs:"100%",sm:600},m:"0 auto"},u.a.createElement(mn.b,null,u.a.createElement(Me,null,u.a.createElement(_e,{width:1},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Name"),u.a.createElement(Ie,{mb:16,mt:8},u.a.createElement(mn.a,{type:"text",name:"name",placeholder:"Enter fullname"})),t.name&&n.name&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.name))),u.a.createElement(_e,{width:[1,2/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Location"),u.a.createElement(nn,{isMulti:!1,value:o.selectedLocation,keyName:"selectedLocation",onChange:r,onBlur:a,error:n.selectedLocation,touched:t.selectedLocation,placeholder:"Select a location",options:l,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(_e,{width:[1,1/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Blood Group"),u.a.createElement(nn,{isMulti:!1,value:o.selectedBloodGroup,keyName:"selectedBloodGroup",onChange:r,onBlur:a,error:n.selectedBloodGroup,touched:t.selectedBloodGroup,placeholder:"Select a group",options:[{value:"A+",label:"A+"},{value:"A-",label:"A-"},{value:"B+",label:"B+"},{value:"B-",label:"B-"},{value:"O+",label:"O+"},{value:"O-",label:"O-"},{value:"AB+",label:"AB+"},{value:"AB-",label:"AB-"}],margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(_e,{width:1},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Community"),u.a.createElement(nn,{isMulti:!1,value:o.communityOptions,keyName:"communityOptions",onChange:r,onBlur:a,error:n.communityOptions,touched:t.communityOptions,placeholder:"Select a community",options:i,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(_e,{width:[1,2/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Date of birth"),u.a.createElement(ln,{keyName:"date_of_birth",onChange:r,onBlur:a,error:n.date_of_birth,touched:t.date_of_birth,placeholderText:"Add birth date",selected:o.date_of_birth,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",dateFormat:"dd/MM/yyyy",className:"date-picker",margin:{mt:8,mb:16}}))),u.a.createElement(_e,{width:[1,1/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Gender"),u.a.createElement(nn,{isMulti:!1,value:o.selectedGender,keyName:"selectedGender",onChange:r,onBlur:a,error:n.selectedGender,touched:t.selectedGender,placeholder:"Select gender",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(_e,{width:[1,2/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Address"),u.a.createElement(Ie,{mb:16,mt:8},u.a.createElement(mn.a,{type:"text",name:"address",placeholder:"Enter full address"})),t.address&&n.address&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.address))),u.a.createElement(_e,{width:[1,1/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Mobile"),u.a.createElement(Ie,{mb:16,mt:8},u.a.createElement(mn.a,{type:"text",name:"mobile",placeholder:"Enter mobile number"})),t.mobile&&n.mobile&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.mobile))),u.a.createElement(_e,{width:[1,2/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Emergency contact"),u.a.createElement(Ie,{mb:16,mt:8},u.a.createElement(mn.a,{type:"text",name:"emergency_contact_name",placeholder:"Enter contact fullname"})),t.emergency_contact_name&&n.emergency_contact_name&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.emergency_contact_name))),u.a.createElement(_e,{width:[1,1/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Contact Phone"),u.a.createElement(Ie,{mb:16,mt:8},u.a.createElement(mn.a,{type:"text",name:"emergency_contact_phone",placeholder:"Enter mobile number"})),t.emergency_contact_phone&&n.emergency_contact_phone&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.emergency_contact_phone))),u.a.createElement(_e,{width:[1,1/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Last donated"),u.a.createElement(ln,{keyName:"last_donated_on",onChange:r,onBlur:a,error:n.last_donated_on,touched:t.last_donated_on,placeholderText:"Last doantion date",selected:o.last_donated_on,showMonthDropdown:!0,showYearDropdown:!0,showTimeSelect:!0,dropdownMode:"select",timeFormat:"HH:mm",dateFormat:"MMM d, yyyy h:mm aa",className:"date-picker",margin:{mt:8}}))),u.a.createElement(_e,{width:[1,1/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Last received date"),u.a.createElement(ln,{keyName:"last_received_on",onChange:r,onBlur:a,error:n.last_received_on,touched:t.last_received_on,placeholderText:"Last received date",selected:o.last_received_on,showMonthDropdown:!0,showYearDropdown:!0,showTimeSelect:!0,dropdownMode:"select",timeFormat:"HH:mm aa",dateFormat:"MMM d, yyyy h:mm aa",className:"date-picker",margin:{mt:8}}))),u.a.createElement(_e,{width:[1,1/3]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Role"),u.a.createElement(nn,{isMulti:!1,value:o.selectedRole,keyName:"selectedRole",onChange:r,onBlur:a,error:n.selectedRole,touched:t.selectedRole,placeholder:"Select a role",options:[{value:"Donor",label:"Donor"},{value:"Receiver",label:"Receiver"},{value:"Both",label:"Both"}],margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(_e,{width:[.5,.5]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(je,{mt:24,type:"button",onClick:this.props.onClear||this.handleClearForm},"Cancel"))),u.a.createElement(_e,{width:[.5,.5]},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(je,{type:"submit",variant:"primary",mt:24},"Add User"))))))}}]),t}(s.Component),gn=Object(mn.c)({mapPropsToValues:function(){return{name:"",selectedLocation:"",selectedGender:"",selectedRole:"",communityOptions:"",selectedBloodGroup:"",date_of_birth:"",address:"",mobile:"",last_donated_on:"",last_received_on:"",emergency_contact_name:"",emergency_contact_phone:""}},validationSchema:dn.object().shape({name:dn.string().required("Fullname is required"),selectedLocation:dn.object().required("Location is required"),selectedGender:dn.object().required("Gender is required"),selectedRole:dn.object().required("Role is required"),communityOptions:dn.object().nullable(),selectedBloodGroup:dn.object().required("Blood group is required"),date_of_birth:dn.string().required("Date of birth is required"),address:dn.string(),mobile:dn.string().required("Phone number is required"),last_donated_on:dn.date().nullable(),last_received_on:dn.date().nullable(),emergency_contact_name:dn.string().required("Emergency contact is required"),emergency_contact_phone:dn.string()}),handleSubmit:function(e,t){var n,r,a,o,c,i,l,s;return Q.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(n=t.props,t.setErrors,r=t.setSubmitting,t.resetForm,u.prev=1,a=n.addUser,o=n.onAddUser,c=n.token,i=n.history,(l=Object(h.a)({},e)).date_of_birth=e.date_of_birth.toISOString(),l.blood_group=e.selectedBloodGroup.value,l.role=e.selectedRole.value,l.gender=e.selectedGender.value,l.community=e.communityOptions.value,l.place=e.selectedLocation.value,l.date_of_birth&&(l.date_of_birth=l.date_of_birth.split("T")[0]),e.last_donated_on?l.last_donated_on=e.last_donated_on:l.last_donated_on=null,e.last_received_on?l.last_received_on=e.last_donated_on:l.last_received_on=null,!o){u.next=17;break}o(l),u.next=22;break;case 17:return u.next=19,Q.a.awrap(a(l,c));case 19:s=u.sent,r(),s.id&&i.push("/feeds");case 22:u.next=27;break;case 24:u.prev=24,u.t0=u.catch(1),console.log(u.t0);case 27:case"end":return u.stop()}}),null,null,[[1,24]])}})(fn),yn={getAllCommunities:c.getAllCommunities,getAllLocations:l.getAllLocations,addUser:o.addUser},vn=Object(p.b)((function(e){return{token:e.auth.token}}),yn)(Object(X.g)(gn)),En=function(){return u.a.createElement(sn,null,u.a.createElement(Ve,{bg:"primary"},u.a.createElement(Et,{variant:"h4",color:"lighter",textAlign:"center"},"Add User")),u.a.createElement(Se,{variant:"card",p:24,pb:64},u.a.createElement(vn,null)))},On=n(81),kn=n.n(On),xn=document.getElementById("root");kn.a.setAppElement(xn);var jn={overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",height:"560px",transform:"translate(-50%, -50%)"}},wn=function(e){function t(){var e,n;Object(P.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(I.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(a)))).state={userOptions:[],isModalOpen:!1},n.handleClearForm=function(){(0,n.props.resetForm)({selectedUser:"",request_date:"",reason:""})},n.handleOpenModal=function(){n.setState(Object(h.a)({},n.state,{isModalOpen:!0}))},n.handleCloseModal=function(){n.setState(Object(h.a)({},n.state,{isModalOpen:!1}))},n.handleAddUser=function(e){var t,r,a,o,c,i,l,s;return Q.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t=n.props,r=t.addUser,a=t.getAllUsers,o=t.setFieldValue,c=t.token,u.next=3,Q.a.awrap(r(e,c));case 3:return i=u.sent,u.next=6,Q.a.awrap(a(c));case 6:l=u.sent,s=[],l.count>0&&(s=bn(l.results),n.setState(Object(h.a)({},n.state,{userOptions:s}))),i.id&&(o("selectedUser",{value:i.id,label:i.name}),n.handleCloseModal());case 10:case"end":return u.stop()}}))},n}return Object(V.a)(t,e),Object(H.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,r,a;return Q.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.props,t=e.getAllUsers,n=e.token,o.next=3,Q.a.awrap(t(n,{}));case 3:r=o.sent,a=[],r.count>0&&(a=bn(r.results),this.setState(Object(h.a)({},this.state,{userOptions:a})));case 6:case"end":return o.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors,r=e.setFieldValue,a=e.setFieldTouched,o=e.values,c=this.state.userOptions;return u.a.createElement(Se,null,u.a.createElement(mn.b,null,u.a.createElement(Me,null,u.a.createElement(_e,{width:{xs:1,sm:1/3}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Request for"),u.a.createElement(nn,{isMulti:!1,value:o.selectedUser,keyName:"selectedUser",onChange:r,onBlur:a,error:n.selectedUser,touched:t.selectedUser,placeholder:"Select a user",options:c,margin:{mt:8},size:{height:40}}))),u.a.createElement(_e,{width:{xs:1,sm:1/12}},u.a.createElement(Et,{pt:32,textAlign:"center"},"or")),u.a.createElement(_e,{width:{xs:1,sm:.25}},u.a.createElement(Se,{mr:16},u.a.createElement(je,{variant:"primary",type:"button",mt:28,className:"btn-small",onClick:this.handleOpenModal},"Add User"))),u.a.createElement(_e,{width:{xs:1,sm:1/3}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Request date"),u.a.createElement(ln,{keyName:"request_date",onChange:r,onBlur:a,error:n.request_date,touched:t.request_date,placeholderText:"Add request date",selected:o.request_date,showMonthDropdown:!0,showYearDropdown:!0,showTimeSelect:!0,dropdownMode:"select",timeFormat:"HH:mm",dateFormat:"MMM d, yyyy h:mm aa",className:"date-picker",margin:{mt:8}}))),u.a.createElement(_e,{width:{xs:1,sm:1}},u.a.createElement(Se,{pl:8,pr:8,mt:16},u.a.createElement(Et,{variant:"caption"},"Reason"),u.a.createElement(Ie,{mb:16,mt:8,height:100},u.a.createElement(mn.a,{component:"textarea",name:"reason",placeholder:"Enter reason"})),t.reason&&n.reason&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.reason))),u.a.createElement(_e,{width:{xs:.5,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(je,{mt:30,className:"btn-small",type:"button",onClick:this.handleClearForm},"Clear"))),u.a.createElement(_e,{width:{xs:.5,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(je,{type:"submit",variant:"primary",mt:30,className:"btn-small"},"Make Request"))))),u.a.createElement(kn.a,{isOpen:this.state.isModalOpen,onRequestClose:this.handleCloseModal,style:jn,contentLabel:"Add User Modal"},u.a.createElement(Se,null,u.a.createElement(vn,{onClear:this.handleCloseModal,onAddUser:this.handleAddUser}))))}}]),t}(s.Component),_n=Object(mn.c)({mapPropsToValues:function(){return{selectedUser:"",request_date:"",reason:""}},validationSchema:dn.object().shape({selectedUser:dn.object().required(),request_date:dn.string().required(),reason:dn.string().required()}),handleSubmit:function(e,t){var n,r,a,o,c,i,l,s;return Q.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.props,t.setErrors,r=t.setSubmitting,a=t.resetForm,u.prev=1,o=n.makeRequest,c=n.getAllRequests,i=n.token,(l=e).receiver=e.selectedUser.value,u.next=7,Q.a.awrap(o(l,i));case 7:if(s=u.sent,r(),a(),!s.id){u.next=13;break}return u.next=13,Q.a.awrap(c(i));case 13:u.next=18;break;case 15:u.prev=15,u.t0=u.catch(1),console.log(u.t0);case 18:case"end":return u.stop()}}),null,null,[[1,15]])}})(wn),Cn={addUser:o.addUser,getAllUsers:o.getAllUsers,makeRequest:a.makeRequest,getAllRequests:a.getAllRequests},An=Object(p.b)((function(e){return{token:e.auth.token}}),Cn)(Object(X.g)(_n)),qn=n(458),Sn=document.getElementById("root");kn.a.setAppElement(Sn);var Bn={overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",height:"520px",transform:"translate(-50%, -50%)"}},Fn=function(e){var t=e.request,n=e.showDevider,r=Object(s.useState)(!1),a=Object(Pt.a)(r,2),o=a[0],c=a[1];return u.a.createElement(s.Fragment,null,u.a.createElement(Et,null,u.a.createElement(Xe,{fontWeight:"bold"},t.receiver.name)," ","requested for"," ",u.a.createElement(Xe,{fontWeight:"bold"},t.receiver.blood_group)," ","blood on"," ",u.a.createElement(Xe,{fontWeight:"bold"},Object(qn.default)(new Date(t.request_date),"MMMM dd, yyyy",{})),"."," ",u.a.createElement(Xe,{variant:"url",onClick:function(){c(!0)}},"See details")),n?u.a.createElement(Re,null):"",u.a.createElement(kn.a,{isOpen:o,onRequestClose:function(){c(!1)},style:Bn,contentLabel:"Add User Modal"},u.a.createElement(Tn,{handleCloseModal:function(){c(!1)},requestId:t.id})))},Mn=n(234),zn=function(e){function t(){var e,n;Object(P.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(I.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(a)))).state={requestId:void 0,donorOptions:[]},n.searchEligibleDonors=function(e){var t,r,a,o,c,i,l;return Q.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=n.props,r=t.requestDetails,a=t.getEligibleDonors,o=t.token,c=Object(Mn.a)(a,500),s.next=4,Q.a.awrap(c(o,{blood_group:r.receiver.blood_group,mobile:e}));case 4:if(!((i=s.sent).count>0)){s.next=9;break}return l=bn(i.results,"mobile"),n.setState(Object(h.a)({},n.state,{donorOptions:l})),s.abrupt("return",l);case 9:case"end":return s.stop()}}))},n}return Object(V.a)(t,e),Object(H.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,r,a,o,c,i;return Q.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(e=this.props,t=e.requestId,n=e.getRequestById,r=e.getEligibleDonors,a=e.token,t===this.state.requestId){l.next=10;break}return this.setState(Object(h.a)({},this.state,{requestId:t})),l.next=5,Q.a.awrap(n(t,a));case 5:return o=l.sent,l.next=8,Q.a.awrap(r(a,{blood_group:o.receiver.blood_group}));case 8:(c=l.sent).count>0&&(i=bn(c.results,"mobile"),this.setState(Object(h.a)({},this.state,{donorOptions:i})));case 10:case"end":return l.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props,t=e.requestDetails,n=e.setFieldValue,r=e.setFieldTouched,a=e.errors,o=e.touched,c=e.values,i=e.handleCloseModal,l=this.state.donorOptions;return u.a.createElement(s.Fragment,null,t.receiver?u.a.createElement(Se,{width:560},u.a.createElement(Et,{variant:"h5"},t.receiver.name),u.a.createElement(Re,null),u.a.createElement(Et,{mb:8},"Blood Group:"," ",u.a.createElement(Xe,{fontWeight:700},t.receiver.blood_group)),u.a.createElement(Et,{mb:8},"Request Date:"," ",u.a.createElement(Xe,{fontWeight:700},Object(qn.default)(new Date(t.request_date),"MMMM dd, yyyy",{}))),u.a.createElement(Et,{mb:8},"Address:"," ",u.a.createElement(Xe,{fontWeight:700},t.receiver.address||"Not mentioned")),u.a.createElement(Re,null),u.a.createElement(Et,{mb:8},"Reason:"),u.a.createElement(Et,null,t.reason||"Not mentioned"),u.a.createElement(Re,null),t.is_served?u.a.createElement(u.a.Fragment,null,u.a.createElement(Et,null,"Request has been served."),u.a.createElement(Se,{textAlign:"right",mt:144},u.a.createElement(je,{width:120,mr:16,type:"button",onClick:i},"Close"))):u.a.createElement(mn.b,null,u.a.createElement(Me,{mb:16},u.a.createElement(_e,{width:{xs:1}},u.a.createElement(Et,{mb:8},"Select Donor:"),u.a.createElement(nn,{async:!0,isMulti:!1,value:c.selectedDonor,keyName:"selectedDonor",onChange:n,onBlur:r,error:a.selectedDonor,touched:o.selectedDonor,placeholder:"Select a donor",defaultOptions:l,loadOptions:this.searchEligibleDonors,margin:{mt:8},size:{height:40}})),u.a.createElement(_e,{width:{xs:1}},u.a.createElement(Et,{mb:8},"Donation Date:"),u.a.createElement(ln,{keyName:"donation_date",onChange:n,onBlur:r,error:a.donation_date,touched:o.donation_date,placeholderText:"Add donation date",selected:c.donation_date,showMonthDropdown:!0,showYearDropdown:!0,showTimeSelect:!0,dropdownMode:"select",timeFormat:"HH:mm",dateFormat:"MMM d, yyyy h:mm aa",className:"date-picker",margin:{mt:8}}))),u.a.createElement(Se,{textAlign:"right",mt:56},u.a.createElement(je,{width:120,mr:16,type:"button",onClick:i},"Cancel")," ",u.a.createElement(je,{variant:"primary",width:120,type:"submit"},"Complete")))):u.a.createElement(Et,{variant:"h5"},"Loading..."))}}]),t}(s.Component),Rn=Object(mn.c)({mapPropsToValues:function(){return{selectedDonor:"",donation_date:new Date}},validationSchema:dn.object().shape({selectedDonor:dn.object().required("Donor must be selected"),donation_date:dn.string().required("Donation date must be provided")}),handleSubmit:function(e,t){var n,r,a,o,c,i,l,s,u,m;return Q.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return n=t.props,t.setErrors,r=t.setSubmitting,t.resetForm,d.prev=1,a=n.handleCloseModal,o=n.requestId,c=n.serveRequest,i=n.updateRequest,l=n.updateUserInfo,s=n.token,u={donation_date:e.donation_date,donor:e.selectedDonor.value,request:o},d.next=6,Q.a.awrap(c(u,s));case 6:if(!(m=d.sent).id){d.next=12;break}return d.next=10,Q.a.awrap(l(u.donor,{last_donated_on:u.donation_date},s));case 10:return d.next=12,Q.a.awrap(i(o,{is_served:!0},s));case 12:r(),m.id&&a(),d.next=19;break;case 16:d.prev=16,d.t0=d.catch(1),console.log(d.t0);case 19:r();case 20:case"end":return d.stop()}}),null,null,[[1,16]])}})(zn),Nn={getRequestById:a.getRequestById,updateRequest:a.updateRequest,serveRequest:a.serveRequest,getEligibleDonors:o.getEligibleDonors,updateUserInfo:o.updateUserInfo},Tn=Object(p.b)((function(e){var t=e.auth,n=e.donations,r=e.users;return{token:t.token,requestDetails:n.requestDetails,eligibleDonors:r.eligibleDonors}}),Nn)(Rn),Dn=function(e){var t=e.donationRequests,n=Object(s.useState)(!1),r=Object(Pt.a)(n,2),a=r[0],o=r[1];return u.a.createElement(sn,null,a&&u.a.createElement(s.Fragment,null,u.a.createElement(je,{onClick:function(){o(!1)},mb:24,variant:"primary"},"Hide form"),u.a.createElement(Se,{variant:"card",p:24,mb:24},u.a.createElement(An,null))),!a&&u.a.createElement(je,{variant:"primary",onClick:function(){o(!0)}},"Create new request"),u.a.createElement(Ve,{bg:"primary",mt:24},u.a.createElement(Et,{variant:"h6",color:"lighter"},"Latest requests")),u.a.createElement(Se,{variant:"card",p:24},t.count>0?t.results.map((function(e,n){return u.a.createElement(Fn,{request:e,showDevider:n!==t.results.length-1,key:e.id})})):""))},Un=function(e){return u.a.createElement(sn,null,u.a.createElement(Me,null,u.a.createElement(_e,{width:{xs:1,sm:1/3}},u.a.createElement(Se,{mr:{xs:0,sm:24},mb:{xs:24,sm:0}},u.a.createElement(pe.b,{to:"/search"},u.a.createElement(Ve,{bg:"primary"},u.a.createElement(Et,{variant:"body",color:"lighter",textAlign:"center"},"Total Users"))),u.a.createElement(Se,{variant:"card",p:24},u.a.createElement(Et,{textAlign:"center",variant:"44"},e.users.count||0)))),u.a.createElement(_e,{width:{xs:1,sm:1/3}},u.a.createElement(Se,{mr:{xs:0,sm:24},mb:{xs:24,sm:0}},u.a.createElement(pe.b,{to:"/communities"},u.a.createElement(Ve,{bg:"primary"},u.a.createElement(Et,{variant:"body",color:"lighter",textAlign:"center"},"Total Communities"))),u.a.createElement(Se,{variant:"card",p:24},u.a.createElement(Et,{textAlign:"center",variant:"44"},e.communities.count||0)))),u.a.createElement(_e,{width:{xs:1,sm:1/3}},u.a.createElement(Se,{mr:{xs:0,sm:24},mb:{xs:24,sm:0}},u.a.createElement(pe.b,{to:"/blood-requests"},u.a.createElement(Ve,{bg:"primary"},u.a.createElement(Et,{variant:"body",color:"lighter",textAlign:"center"},"Total Requests"))),u.a.createElement(Se,{variant:"card",p:24},u.a.createElement(Et,{textAlign:"center",variant:"44"},e.donationRequests.count||0))))))},Ln=function(){return u.a.createElement(Se,null,u.a.createElement(Et,{variant:"h2",color:"lighter"},"BRF ",u.a.createElement("br",null),"Blood Bank ",u.a.createElement("br",null)," Database"),u.a.createElement(Et,{variant:"body",color:"lighter"},"Blood for Thalassemia: A BRF initiative"))},Gn=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(H.a)(t,[{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors;return u.a.createElement(mn.b,null,u.a.createElement(Se,{mt:[-72,0,0,0],variant:"card",p:24,maxWidth:320},u.a.createElement(Ie,{border:"none",borderBottom:"1px solid #FF7275",borderRadius:0,mb:16,textAlign:"center"},u.a.createElement(mn.a,{type:"text",name:"username",placeholder:"username or email"})),t.username&&n.username&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.username),u.a.createElement(Ie,{border:"none",borderBottom:"1px solid #FF7275",borderRadius:0,mb:16,textAlign:"center"},u.a.createElement(mn.a,{type:"password",name:"password",placeholder:"password"})),t.password&&n.password&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.password),u.a.createElement(je,{type:"submit",variant:"primary",mt:16},"Login")))}}]),t}(s.Component),Pn=Object(mn.c)({mapPropsToValues:function(){return{username:"",password:""}},validationSchema:dn.object().shape({username:dn.string().required("Username is required"),password:dn.string().required("Password is required")}),handleSubmit:function(e,t){var n,r,a,o,c,i;return Q.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.props,r=t.setErrors,a=t.setSubmitting,t.resetForm,l.prev=1,o=n.login,c=e.username,i=e.password,l.next=6,Q.a.awrap(o({username:c,password:i}));case 6:a(),l.next=12;break;case 9:l.prev=9,l.t0=l.catch(1),r({password:"Username or password not correct"});case 12:a();case 13:case"end":return l.stop()}}),null,null,[[1,9]])}})(Gn),Hn={login:r.login},In=Object(p.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),Hn)(Pn),Wn=n(230),Vn=n.n(Wn),Jn=function(){return u.a.createElement(Te,{imgSrc:Vn.a,height:"100vh"},u.a.createElement(Ot,null,u.a.createElement(Me,{valign:"center",halign:"justify-center",height:"100vh",p:[3,3,0,0]},u.a.createElement(_e,{width:[1,1,1/3,1/3]},u.a.createElement(Ln,null)),u.a.createElement(_e,{width:[1,1,1/3,1/3]},u.a.createElement(In,null)))))},Yn=function(e){function t(){var e,n;Object(P.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(I.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(a)))).state={locationOptions:[]},n.handleClearForm=function(){(0,n.props.resetForm)({name:"",selectedLocation:"",address:"",phone:"",contact_person:""})},n}return Object(V.a)(t,e),Object(H.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,r,a;return Q.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.props,t=e.getAllLocations,n=e.token,o.next=3,Q.a.awrap(t(n));case 3:r=o.sent,a=[],r.count>0&&(a=bn(r.results,"upazila"),this.setState(Object(h.a)({},this.state,{locationOptions:a})));case 6:case"end":return o.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors,r=e.setFieldValue,a=e.setFieldTouched,o=e.values,c=this.state.locationOptions;return u.a.createElement(Se,{width:{xs:"100%",sm:600},m:"0 auto"},u.a.createElement(mn.b,null,u.a.createElement(Me,null,u.a.createElement(_e,{width:{xs:1,sm:1}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Community Name"),u.a.createElement(Ie,{mb:16,mt:8},u.a.createElement(mn.a,{type:"text",name:"name",placeholder:"Enter fullname"})),t.name&&n.name&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.name))),u.a.createElement(_e,{width:{xs:1,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Location"),u.a.createElement(nn,{isMulti:!1,value:o.selectedLocation,keyName:"selectedLocation",onChange:r,onBlur:a,error:n.selectedLocation,touched:t.selectedLocation,placeholder:"Select a location",options:c,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(_e,{width:{xs:1,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Address"),u.a.createElement(Ie,{mb:16,mt:8},u.a.createElement(mn.a,{type:"text",name:"address",placeholder:"Enter full address"})),t.address&&n.address&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.address))),u.a.createElement(_e,{width:{xs:1,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Mobile"),u.a.createElement(Ie,{mb:16,mt:8},u.a.createElement(mn.a,{type:"text",name:"phone",placeholder:"Enter mobile number"})),t.phone&&n.phoe&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.phone))),u.a.createElement(_e,{width:{xs:1,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Contact Person"),u.a.createElement(Ie,{mb:16,mt:8},u.a.createElement(mn.a,{type:"text",name:"contact_person",placeholder:"Enter contact fullname"})),t.contact_person&&n.contact_person&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.contact_person))),u.a.createElement(_e,{width:{xs:.5,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(je,{mt:24,type:"button",onClick:this.props.onClear||this.handleClearForm},"Cancel"))),u.a.createElement(_e,{width:{xs:.5,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(je,{type:"submit",variant:"primary",mt:24},"Add Community"))))))}}]),t}(s.Component),Xn=Object(mn.c)({mapPropsToValues:function(){return{name:"",selectedLocation:"",address:"",phone:"",contact_person:""}},validationSchema:dn.object().shape({name:dn.string().required("Community name is required"),selectedLocation:dn.object().required("Location is required"),address:dn.string().required("Adress is required"),phone:dn.string(),contact_person:dn.string().required("Contact person is required")}),handleSubmit:function(e,t){var n,r,a,o,c,i,l;return Q.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.props,t.setErrors,r=t.setSubmitting,t.resetForm,s.prev=1,a=n.addCommunity,o=n.token,c=n.history,(i=e).place=e.selectedLocation.value,s.next=7,Q.a.awrap(a(i,o));case 7:l=s.sent,r(),l.id&&c.push("/feeds"),s.next=15;break;case 12:s.prev=12,s.t0=s.catch(1),console.log(s.t0);case 15:case"end":return s.stop()}}),null,null,[[1,12]])}})(Yn),$n={addCommunity:c.addCommunity,getAllCommunities:c.getAllCommunities,getAllLocations:l.getAllLocations},Kn=Object(p.b)((function(e){return{token:e.auth.token}}),$n)(Object(X.g)(Xn)),Qn=function(){return u.a.createElement(sn,null,u.a.createElement(Ve,{bg:"primary"},u.a.createElement(Et,{variant:"h4",color:"lighter",textAlign:"center"},"Add Community")),u.a.createElement(Se,{variant:"card",p:24,pb:64},u.a.createElement(Kn,null)))},Zn=function(e){function t(){var e,n;Object(P.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(I.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(a)))).state={communityOptions:[],locationOptions:[]},n.handleClearForm=function(){var e=n.props,t=e.resetForm;(0,e.setSubmitting)(!1),t()},n}return Object(V.a)(t,e),Object(H.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,r,a,o,c,i;return Q.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e=this.props,t=e.getAllLocations,n=e.getAllCommunities,r=e.token,l.next=3,Q.a.awrap(t(r));case 3:return a=l.sent,l.next=6,Q.a.awrap(n(r));case 6:o=l.sent,c=[],i=[],o.count>0&&(c=bn(o.results),this.setState(Object(h.a)({},this.state,{communityOptions:c}))),a.count>0&&(i=bn(a.results,"upazila"),this.setState(Object(h.a)({},this.state,{locationOptions:i})));case 10:case"end":return l.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props,t=e.touched,n=e.errors,r=e.setFieldValue,a=e.setFieldTouched,o=e.values,c=this.state,i=c.communityOptions,l=c.locationOptions;return u.a.createElement(Se,null,u.a.createElement(mn.b,null,u.a.createElement(Me,null,u.a.createElement(_e,{width:{xs:1,sm:1/3}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Blood Group"),u.a.createElement(nn,{isMulti:!1,value:o.selectedBloodGroup,keyName:"selectedBloodGroup",onChange:r,onBlur:a,error:n.selectedBloodGroup,touched:t.selectedBloodGroup,placeholder:"Select a group",options:[{value:"A+",label:"A+"},{value:"A-",label:"A-"},{value:"B+",label:"B+"},{value:"B-",label:"B-"},{value:"O+",label:"O+"},{value:"O-",label:"O-"},{value:"AB+",label:"AB+"},{value:"AB-",label:"AB-"}],margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(_e,{width:{xs:1,sm:1/3}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Location"),u.a.createElement(nn,{isMulti:!1,value:o.selectedLocation,keyName:"selectedLocation",onChange:r,onBlur:a,error:n.selectedLocation,touched:t.selectedLocation,placeholder:"Select a location",options:l,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(_e,{width:{xs:1,sm:1/3}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Community"),u.a.createElement(nn,{isMulti:!1,value:o.selectedCommunity,keyName:"selectedCommunity",onChange:r,onBlur:a,error:n.selectedCommunity,touched:t.selectedCommunity,placeholder:"Select a community",options:i,margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(_e,{width:{xs:1,sm:1/3}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Mobile"),u.a.createElement(Ie,{mb:16,mt:8},u.a.createElement(mn.a,{type:"text",name:"mobile",placeholder:"Enter mobile number"})),t.mobile&&n.mobile&&u.a.createElement(Et,{variant:"caption",color:"error",mt:8,mb:8},n.mobile))),u.a.createElement(_e,{width:{xs:1,sm:1/3}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Gender"),u.a.createElement(nn,{isMulti:!1,value:o.selectedGender,keyName:"selectedGender",onChange:r,onBlur:a,error:n.selectedGender,touched:t.selectedGender,placeholder:"Select gender",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(_e,{width:{xs:1,sm:1/3}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(Et,{variant:"caption"},"Role"),u.a.createElement(nn,{isMulti:!1,value:o.selectedRole,keyName:"selectedRole",onChange:r,onBlur:a,error:n.selectedRole,touched:t.selectedRole,placeholder:"Select a role",options:[{value:"Donor",label:"Donor"},{value:"Receiver",label:"Receiver"},{value:"Both",label:"Both"}],margin:{mt:8,mb:16},size:{height:40}}))),u.a.createElement(_e,{width:{xs:.5,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(je,{mt:30,className:"btn-small",onClick:this.handleClearForm,type:"button"},"Clear"))),u.a.createElement(_e,{width:{xs:.5,sm:.5}},u.a.createElement(Se,{pl:8,pr:8},u.a.createElement(je,{type:"submit",variant:"primary",mt:30,className:"btn-small"},"Search"))))))}}]),t}(s.Component),er=Object(mn.c)({mapPropsToValues:function(){return{selectedLocation:"",selectedGender:"",selectedRole:"",selectedCommunity:"",selectedBloodGroup:"",mobile:""}},validationSchema:dn.object().shape({selectedLocation:dn.object(),selectedGender:dn.object(),selectedRole:dn.object(),selectedCommunity:dn.object().nullable(),selectedBloodGroup:dn.object(),mobile:dn.number()}),handleSubmit:function(e,t){var n,r,a,o,c;return Q.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:n=t.props,t.setErrors,r=t.setSubmitting,t.resetForm;try{a=n.getAllUsers,o=n.token,c={blood_group:e.selectedBloodGroup.value||"",community:e.selectedCommunity.value||"",place:e.selectedLocation.value||"",gender:e.selectedGender.value||"",role:e.selectedRole.value||"",mobile:e.mobile||""},a(o,c),r()}catch(l){console.log(l)}case 2:case"end":return i.stop()}}))}})(Zn),tr={getAllCommunities:c.getAllCommunities,getAllLocations:l.getAllLocations,getAllUsers:o.getAllUsers},nr=Object(p.b)((function(e){return{token:e.auth.token}}),tr)(Object(X.g)(er)),rr=n(231),ar=n.n(rr),or=n(232),cr=n.n(or),ir=function(e){var t=e.users;return u.a.createElement(s.Fragment,null,u.a.createElement(Ke,null,u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text"},"Name"),u.a.createElement("th",{className:"text"},"Community"),u.a.createElement("th",{className:"text-centered"},"Phone"),u.a.createElement("th",{className:"text-centered"},"Blood Group"),u.a.createElement("th",{className:"number"},"Last Donated"))),u.a.createElement("tbody",null,t.results.map((function(e){return e.id?u.a.createElement("tr",{key:e.id},u.a.createElement("td",{className:"text"},e.name),u.a.createElement("td",{className:"text"},e.community?e.community.name:"-"),u.a.createElement("td",{className:"text-centered"},e.mobile||"-"),u.a.createElement("td",{className:"text-centered"},e.blood_group),u.a.createElement("td",{className:"number"},e.last_donated_on?Object(qn.default)(new Date(e.last_donated_on),"PPpp",{}):"N/A")):""})))),u.a.createElement(Ze,null,t.previous?u.a.createElement("p",{className:"prev"},u.a.createElement(ar.a,null)):"",u.a.createElement("p",{className:"table-pagination-info ".concat(t.next||t.previous?"pull-to-top":"")},"1 to ",t.next?"":t.count," of ",t.count),t.next?u.a.createElement("p",{className:"next"},u.a.createElement(cr.a,null)):""))},lr=function(e){var t=e.users,n=e.userMessage;return u.a.createElement(sn,null,u.a.createElement(Se,{variant:"card",p:24,mb:24},u.a.createElement(nr,null)),u.a.createElement(Se,{variant:"card",overflowX:"auto"},t.count?u.a.createElement(ir,{users:t}):u.a.createElement(Et,{p:16,textAlign:"center"},n)))},sr=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(H.a)(t,[{key:"render",value:function(){return u.a.createElement(En,null)}}]),t}(s.Component),ur=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(H.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.token;(0,e.getAllRequests)(t)}},{key:"render",value:function(){return u.a.createElement(Dn,this.props)}}]),t}(s.Component),mr={getAllRequests:a.getAllRequests},dr=Object(p.b)((function(e){var t=e.auth,n=e.donations;return{token:t.token,donationRequests:n.donationRequests}}),mr)(ur),pr=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(H.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,r,a;return Q.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.props,t=e.getAllUsers,n=e.getAllRequests,r=e.getAllCommunities,a=e.token,o.next=3,Q.a.awrap(t(a,{}));case 3:return o.next=5,Q.a.awrap(n(a));case 5:return o.next=7,Q.a.awrap(r(a));case 7:case"end":return o.stop()}}),null,this)}},{key:"render",value:function(){return u.a.createElement(Un,this.props)}}]),t}(s.Component),hr={getAllUsers:o.getAllUsers,getAllRequests:a.getAllRequests,getAllCommunities:c.getAllCommunities},br=Object(p.b)((function(e){var t=e.auth,n=e.users,r=e.donations,a=e.communities;return{token:t.token,users:n.users,communities:a.communities,donationRequests:r.donationRequests}}),hr)(pr),fr=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(H.a)(t,[{key:"render",value:function(){return this.props.isAuthenticated?u.a.createElement(X.a,{to:"/feeds"}):u.a.createElement(Jn,null)}}]),t}(s.Component),gr=Object(p.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))(fr),yr=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(H.a)(t,[{key:"render",value:function(){return u.a.createElement(Qn,null)}}]),t}(s.Component),vr=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(H.a)(t,[{key:"componentDidMount",value:function(){var e,t,n;return Q.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=this.props,t=e.getAllUsers,n=e.token,r.next=3,Q.a.awrap(t(n,{}));case 3:case"end":return r.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props.users;return u.a.createElement(lr,{users:e,userMessage:0===e.count?"No user found":"Loading..."})}}]),t}(s.Component),Er={getAllUsers:o.getAllUsers},Or=Object(p.b)((function(e){var t=e.auth,n=e.users;return Object(h.a)({token:t.token},n)}),Er)(vr),kr=function(){return u.a.createElement(X.d,null,u.a.createElement(X.b,{exact:!0,path:"/",component:gr}),u.a.createElement(X.b,{exact:!0,path:"/feeds",component:$(br)}),u.a.createElement(X.b,{exact:!0,path:"/add-user",component:$(sr)}),u.a.createElement(X.b,{exact:!0,path:"/communities",component:$(yr)}),u.a.createElement(X.b,{exact:!0,path:"/search",component:$(Or)}),u.a.createElement(X.b,{exact:!0,path:"/blood-requests",component:$(dr)}),u.a.createElement(X.b,{component:un}))},xr=["40em","52em","64em","80em"];xr.sm=xr[0],xr.md=xr[1],xr.lg=xr[2],xr.xl=xr[3];var jr={breakpoints:xr,borders:{primary:"1px solid #FF7275",light:"1px solid #E9EBEC"},typography:{fontFamily:'"IBM Plex Sans", sans-serif',fontSize:"18px",lineHeight:1.45,fontWeight:"400",h1:{fontSize:"3.052em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h2:{fontSize:"2.441em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h3:{fontSize:"1.953em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h4:{fontSize:"1.563em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h5:{fontSize:"1.25em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},h6:{fontSize:"1em",lineHeight:1.15,fontWeight:700,fontFamily:'"IBM Plex Sans", sans-serif'},body:{fontSize:"1em",lineHeight:1.45,fontWeight:400,fontFamily:'"IBM Plex Sans", sans-serif'},caption:{fontSize:".8em",lineHeight:1.45,fontWeight:400,fontFamily:'"IBM Plex Sans", sans-serif'}},colors:{primary:"#FF7275",secondary:"#DB5461",dark:"#303334",lightDark:"#4E5355",light:"#EFF1F3",lighter:"#FEFFFE",error:"#FF3C38",success:"#FFCA1E",warning:"#78BE20",placeholder:"#A9AEB1"},space:[0,4,8,16,32,64,128,256]},wr=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(H.a)(t,[{key:"render",value:function(){return u.a.createElement(he.a,{theme:jr},u.a.createElement(pe.a,{basename:""},u.a.createElement(kr,null)))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _r=new ce.a,Cr={};_r.loggedIn()&&(Cr.auth={isAuthenticated:!0,token:_r.getToken()});var Ar=function(e){var t=[ue,g.a],n=[b.applyMiddleware.apply(void 0,t)],r=f.composeWithDevTools.apply(void 0,n);return Object(b.createStore)(de,e,r)}(Cr);d.a.render(u.a.createElement(p.a,{store:Ar},u.a.createElement(wr,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},99:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(13),a=n(55),o=n.n(a),c=n(128),i=n.n(c),l=function t(){var n=this;Object(r.a)(this,t),this.loggedIn=function(e){return!!n.getToken(e)},this.setUser=function(e){o.a.set("user",JSON.stringify(e),{expires:7})},this.getUser=function(t){return e.browser?n.getUserFromBrowser():n.getUserFromServer(t)},this.getUserFromBrowser=function(){return o.a.get("user")},this.getUserFromServer=function(e){if(e&&e.headers){var t=e.headers.cookie;if("string"===typeof t){var n=i.a.parse(t);return n.user?JSON.parse(n.user):{}}}else;},this.setToken=function(t){e.browser&&o.a.set("Token",t,{expires:7})},this.getToken=function(t){return e.browser?n.getTokenFromBrowser():n.getTokenFromServer(t)},this.getTokenFromBrowser=function(){return o.a.get("Token")},this.getTokenFromServer=function(e){if(e&&e.headers){var t=e.headers.cookie;return"string"===typeof t?i.a.parse(t).Token:void 0}},this.getCsrfToken=function(t){return e.browser?n.getCsrfFromBrowser():n.getCsrfFromServer(t)},this.getCsrfFromBrowser=function(){return o.a.get("csrftoken")},this.getCsrfFromServer=function(e){if(e&&e.headers){var t=e.headers.cookie;return"string"===typeof t?i.a.parse(t).csrftoken:void 0}},this.removeToken=function(){o.a.remove("Token"),o.a.remove("user"),o.a.remove("csrftoken")}}}).call(this,n(129))}},[[236,1,2]]]);
//# sourceMappingURL=main.2fee9e96.chunk.js.map